
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Classes &#8212; Dyssol Help 0.0.1 documentation</title>
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Theoretical background" href="theory.html" />
    <link rel="prev" title="For developers" href="developer.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="theory.html" title="Theoretical background"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="developer.html" title="For developers"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Dyssol Help 0.0.1 documentation</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="classes">
<span id="label-class"></span><h1>Classes<a class="headerlink" href="#classes" title="Permalink to this headline">¶</a></h1>
<p>Here you can get necessary information about how the elements in Dyssol (like unit, solver, <abbr title="Particle size distribution">PSD</abbr> function, matrices and external solvers) look like on a programming point of view. This is especially important if you want to develope new units and solvers.</p>
<p>All elements mentioned above are defined as classes, which consists of member variables (data fields) and associated functions (methods). Every new independent instance generated under a class is called an object.</p>
<p>For more information on object-oriented programming applied in Dyssol, please refer to internet sources about C++.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="section" id="basic-unit">
<span id="label-baseunit"></span><h2>Basic unit<a class="headerlink" href="#basic-unit" title="Permalink to this headline">¶</a></h2>
<p>Functions in class <code class="docutils literal notranslate"><span class="pre">BaseUnit</span></code> are introduced below.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Some definitions:</p>
<ul class="last simple">
<li><strong>Compound</strong>: a chemical substance defined by particular set of physical properties, calculation methods and data. Examples: water, hydrogen, oxygen.</li>
<li><strong>Phase</strong>: stable collection of compounds with a defined amount of substance and a homogeneous composition. It has an associated state of aggregation, e.g. liquid.</li>
<li><strong>State of aggregation</strong>: the physical state in which the compounds in that phase occur. Possible state of aggregation: vapor, liquid, solid.</li>
</ul>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="section" id="basic-information">
<h3>Basic information<a class="headerlink" href="#basic-information" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">GetUnitName</span><span class="p">()</span>
</pre></div>
</div>
<p>Returns name of the unit.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">GetAuthorName</span><span class="p">()</span>
</pre></div>
</div>
<p>Returns name of the unit’s author.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">GetUniqueID</span><span class="p">()</span>
</pre></div>
</div>
<p>Returns unique identifier of the unit.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">GetUnitVersion</span><span class="p">()</span>
</pre></div>
</div>
<p>Returns version of the unit.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div>
<div class="section" id="ports">
<h3>Ports<a class="headerlink" href="#ports" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">unsigned</span> <span class="n">AddPort</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">PortName</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="n">PortType</span><span class="p">)</span>
</pre></div>
</div>
<p>Adds port with <code class="docutils literal notranslate"><span class="pre">PortType</span></code> (<code class="docutils literal notranslate"><span class="pre">INPUT_PORT</span></code>, <code class="docutils literal notranslate"><span class="pre">OUTPUT_PORT</span></code> or <code class="docutils literal notranslate"><span class="pre">UNDEFINED_PORT</span></code>) to the unit. Returns index of the port. Should be used in unit’s constructor only. <code class="docutils literal notranslate"><span class="pre">PortName</span></code> should be unique within the unit.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">unsigned</span> <span class="n">GetPortsNumber</span><span class="p">()</span>
</pre></div>
</div>
<p>Returns number of ports in the unit.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">unsigned</span> <span class="n">GetPortType</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">PortName</span><span class="p">)</span>
</pre></div>
</div>
<p>Returns type of the port with name PortName. Returning values: <code class="docutils literal notranslate"><span class="pre">INPUT_PORT</span></code>, <code class="docutils literal notranslate"><span class="pre">OUTPUT_PORT</span></code>. If port with such name has not been defined , <code class="docutils literal notranslate"><span class="pre">UNDEFINED_PORT</span></code> will be returned.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CMaterialStream</span><span class="o">*</span> <span class="n">GetPortStream</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">PortName</span><span class="p">)</span>
</pre></div>
</div>
<p>Returns pointer to the stream which is connected to the port with name <code class="docutils literal notranslate"><span class="pre">PortName</span></code>. Returns <code class="docutils literal notranslate"><span class="pre">NULL</span></code> if such port has not been defined.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div>
<div class="section" id="material-streams-and-holdups">
<h3>Material streams and holdups<a class="headerlink" href="#material-streams-and-holdups" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CHoldup</span><span class="o">*</span> <span class="n">AddHoldup</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">HoldupName</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">StreamKey</span> <span class="o">=</span> <span class="s">&quot;&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Adds new holdup with the specified name HoldupName to the unit. <code class="docutils literal notranslate"><span class="pre">HoldupName</span></code> should be unique within the unit. The structure of the holdup will be the same as the global stream’s structure (phases, grids, compounds etc.).</p>
<p>Should be used in unit’s constructor; then the holdup will be automatically handled by the simulation system (saved and loaded during the simulation, cleared and removed after use). However, it is allowed to add holdups outside the constructor for temporal purposes, but afterwards you have to save, load or remove this holdup manually by calling functions <code class="docutils literal notranslate"><span class="pre">SaveState()</span></code>, <code class="docutils literal notranslate"><span class="pre">LoadState()</span></code> and <code class="docutils literal notranslate"><span class="pre">RemoveHoldup()</span></code>. Otherwise, all such holdups will be removed at the end of the simulation.</p>
<p>Returns pointer to a created holdup. This pointer should not be used inside the constructor of the unit, since all changes of the holdup made through this pointer will be cancelled during the initialization of the unit.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CHoldup</span><span class="o">*</span> <span class="n">GetHoldup</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">HoldupName</span><span class="p">)</span>
</pre></div>
</div>
<p>Returns pointer to a holdup with the specified name <code class="docutils literal notranslate"><span class="pre">HoldupName</span></code>. This pointer should not be used inside the constructor of the unit, since all changes of the holdup made through this pointer will be cancelled during the initialization of the unit. <code class="docutils literal notranslate"><span class="pre">NULL</span></code> will be returned if such holdup has not been defined.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">CHoldup</span><span class="o">*&gt;</span> <span class="n">GetHoldups</span><span class="p">()</span>
</pre></div>
</div>
<p>Returns pointers to all holdups of the unit. These pointers should not be used inside the constructor of the unit, since all changes of the holdup made through them will be cancelled during the initialization of the unit.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span> <span class="n">RemoveHoldup</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">HoldupName</span><span class="p">)</span>
</pre></div>
</div>
<p>Removes holdup with the specified name HoldupName from the unit. Should be used only for those holdups, which have been added to the unit outside the constructor.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate" id="label-addmaterialstream"><div class="highlight"><pre><span></span><span class="n">CMaterialStream</span><span class="o">*</span> <span class="n">AddMaterialStream</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">StreamName</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">StreamKey</span> <span class="o">=</span> <span class="s">&quot;&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Adds new material stream with the specified name <code class="docutils literal notranslate"><span class="pre">StreamName</span></code> for internal temporary use to the unit. <code class="docutils literal notranslate"><span class="pre">StreamName</span></code> should be unique within the unit. Structure of the stream will be the same as the global stream’s structure (phases, grids, compounds etc.).</p>
<p>Should be used in unit’s constructor; then the material stream will be automatically handled by the simulation system, this means saved and loaded during the simulation, cleared and removed after use. However, it is allowed to add material outside the constructor for temporal purposes, but you have to save, load or remove this stream manually by calling functions <code class="docutils literal notranslate"><span class="pre">SaveState()</span></code>, <code class="docutils literal notranslate"><span class="pre">LoadState()</span></code> and <code class="docutils literal notranslate"><span class="pre">RemoveMaterialStream()</span></code>. Otherwise, all such material streams will be removed at the end of the simulation.</p>
<p>Returns pointer to a created material stream.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CMaterialStream</span><span class="o">*</span> <span class="n">GetMaterialStream</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">StreamName</span><span class="p">)</span>
</pre></div>
</div>
<p>Returns pointer to a material stream with specified name <code class="docutils literal notranslate"><span class="pre">StreamName</span></code>. <code class="docutils literal notranslate"><span class="pre">NULL</span></code> will be returned if such stream has not been defined.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span> <span class="n">RemoveMaterialStream</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">StreamName</span><span class="p">)</span>
</pre></div>
</div>
<p>Removes material stream with the specified name <code class="docutils literal notranslate"><span class="pre">StreamName</span></code> from the unit. Should be used only for those material streams, which have been added to the unit outside the constructor.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CMaterialStream</span><span class="o">*</span> <span class="n">AddFeed</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">FeedName</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">StreamKey</span> <span class="o">=</span> <span class="s">&quot;&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Adds new feed stream with the name <code class="docutils literal notranslate"><span class="pre">FeedName</span></code> to the unit. <code class="docutils literal notranslate"><span class="pre">FeedName</span></code> should be unique within the unit. The structure of the stream will be the same as the global stream structure (phases, grids, compounds etc.).</p>
<p>Should be used only in constructor of the unit describing the feed. Returns pointer to a created stream. This pointer should not be used inside the constructor of the unit, since all changes of the stream made through this pointer will be cancelled during the initialization of the unit.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CMaterialStream</span><span class="o">*</span> <span class="n">GetFeed</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">FeedName</span><span class="p">)</span>
</pre></div>
</div>
<p>Returns pointer to a feed with specified name <code class="docutils literal notranslate"><span class="pre">FeedName</span></code>. This pointer should not be used inside the constructor of the unit, since all changes of the stream made through this pointer will be cancelled during the initialization of the unit. <code class="docutils literal notranslate"><span class="pre">NULL</span></code> will be returned if such feed has not been defined.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span> <span class="n">CopyStreamToStream</span><span class="p">(</span><span class="n">CMaterialStream</span><span class="o">*</span> <span class="n">SrcStream</span><span class="p">,</span> <span class="n">CMaterialStream</span> <span class="n">DstStream</span><span class="p">,</span> <span class="kt">double</span> <span class="n">Time</span><span class="p">,</span> <span class="kt">bool</span> <span class="n">DeleteDataAfter</span> <span class="o">=</span> <span class="nb">true</span><span class="p">)</span>
</pre></div>
</div>
<p>Copies all data from <code class="docutils literal notranslate"><span class="pre">SrcStream</span></code> to <code class="docutils literal notranslate"><span class="pre">DestStream</span></code> for specified time point. If flag <code class="docutils literal notranslate"><span class="pre">DeleteDataAfter</span></code> is set to true, all data after the time point <code class="docutils literal notranslate"><span class="pre">Time</span></code> in the destination stream will be removed before being copied.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span> <span class="n">CopyStreamToStream</span><span class="p">(</span><span class="n">CMaterialStream</span><span class="o">*</span> <span class="n">SrcStream</span><span class="p">,</span> <span class="n">CMaterialStream</span> <span class="n">DstStream</span><span class="p">,</span> <span class="kt">double</span> <span class="n">StartTime</span><span class="p">,</span> <span class="kt">double</span> <span class="n">EndTime</span><span class="p">,</span> <span class="kt">bool</span> <span class="n">DeleteDataAfter</span> <span class="o">=</span> <span class="nb">true</span><span class="p">)</span>
</pre></div>
</div>
<p>Copies all data from <code class="docutils literal notranslate"><span class="pre">SrcStream</span></code> to <code class="docutils literal notranslate"><span class="pre">DstStream</span></code> on a specified time interval. If flag <code class="docutils literal notranslate"><span class="pre">DeleteDataAfter</span></code> is set to true, all data after the time point <code class="docutils literal notranslate"><span class="pre">StartTime</span></code> in the destination stream will be removed before being copied.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span> <span class="n">CopyStreamToPort</span><span class="p">(</span><span class="n">CMaterialStream</span><span class="o">*</span> <span class="n">Stream</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">PortName</span><span class="p">,</span> <span class="kt">double</span> <span class="n">Time</span><span class="p">,</span> <span class="kt">bool</span> <span class="n">DeleteDataAfter</span> <span class="o">=</span> <span class="nb">true</span><span class="p">)</span>
</pre></div>
</div>
<p>Copies all data from <code class="docutils literal notranslate"><span class="pre">Stream</span></code> to a stream connected to an output port <code class="docutils literal notranslate"><span class="pre">PortName</span></code> for specified time point. If flag <code class="docutils literal notranslate"><span class="pre">DeleteDataAfter</span></code> is set to true, all data after the time point <code class="docutils literal notranslate"><span class="pre">Time</span></code> in the destination stream will be removed before being copied.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span> <span class="n">CopyStreamToPort</span><span class="p">(</span><span class="n">CMaterialStream</span><span class="o">*</span> <span class="n">Stream</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">PortName</span><span class="p">,</span> <span class="kt">double</span> <span class="n">StartTime</span><span class="p">,</span> <span class="kt">double</span> <span class="n">EndTime</span><span class="p">,</span> <span class="kt">bool</span> <span class="n">DeleteDataAfter</span> <span class="o">=</span> <span class="nb">true</span><span class="p">)</span>
</pre></div>
</div>
<p>Copies all data from <code class="docutils literal notranslate"><span class="pre">Stream</span></code> to a stream connected to an output port <code class="docutils literal notranslate"><span class="pre">PortName</span></code> for specified time interval. If flag <code class="docutils literal notranslate"><span class="pre">DeleteDataAfter</span></code> is set to true, all data after the time point <code class="docutils literal notranslate"><span class="pre">StartTime</span></code> in the destination stream will be removed before being copied.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span> <span class="n">CopyPortToStream</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">PortName</span><span class="p">,</span> <span class="n">CMaterialStream</span><span class="o">*</span> <span class="n">Stream</span><span class="p">,</span> <span class="kt">double</span> <span class="n">Time</span><span class="p">,</span> <span class="kt">bool</span> <span class="n">DeleteDataAfter</span> <span class="o">=</span> <span class="nb">true</span><span class="p">)</span>
</pre></div>
</div>
<p>Copies stream’s data of the input port <code class="docutils literal notranslate"><span class="pre">PortName</span></code> to another stream <code class="docutils literal notranslate"><span class="pre">Stream</span></code> for specified time point. If flag <code class="docutils literal notranslate"><span class="pre">DeleteDataAfter</span></code> is set to true, all data after the time point Time in the destination stream will be removed before being copied.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span> <span class="n">CopyPortToStream</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">PortName</span><span class="p">,</span> <span class="n">CMaterialStream</span><span class="o">*</span> <span class="n">Stream</span><span class="p">,</span> <span class="kt">double</span> <span class="n">StartTime</span><span class="p">,</span> <span class="kt">double</span> <span class="n">EndTime</span><span class="p">,</span> <span class="kt">bool</span> <span class="n">DeleteDataAfter</span> <span class="o">=</span> <span class="nb">true</span><span class="p">)</span>
</pre></div>
</div>
<p>Copies stream’s data of the input port <code class="docutils literal notranslate"><span class="pre">PortName</span></code> to another stream <code class="docutils literal notranslate"><span class="pre">Stream</span></code> for specified time interval. If flag <code class="docutils literal notranslate"><span class="pre">DeleteDataAfter</span></code> is set to true, all data after the time point <code class="docutils literal notranslate"><span class="pre">StartTime</span></code> in the destination stream will be removed before being copied.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">double</span> <span class="n">CalcTemperatureFromProperty</span><span class="p">(</span><span class="n">ECompoundTPProperties</span> <span class="n">Property</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span> <span class="n">CompoundFractions</span><span class="p">,</span> <span class="kt">double</span> <span class="n">Value</span><span class="p">)</span>
</pre></div>
</div>
<p>Returns temperature of a generic system of composition <code class="docutils literal notranslate"><span class="pre">CompoundFractions</span></code> for a specific value <code class="docutils literal notranslate"><span class="pre">Value</span></code> of the property <code class="docutils literal notranslate"><span class="pre">Property</span></code>. Possible properties are those defined in <a class="reference internal" href="materials.html#label-materialdatadetailed"><span class="std std-ref">material database</span></a>. For more information, please refer to <a class="reference internal" href="#label-thermo"><span class="std std-ref">Thermodynamics</span></a> on this page.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">double</span> <span class="n">CalcPressureFromProperty</span><span class="p">(</span><span class="n">ECompoundTPProperties</span> <span class="n">Property</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span> <span class="n">CompoundFractions</span><span class="p">,</span> <span class="kt">double</span> <span class="n">Value</span><span class="p">)</span>
</pre></div>
</div>
<p>Returns pressure of a generic system of composition <code class="docutils literal notranslate"><span class="pre">CompoundFractions</span></code> for a specific value <code class="docutils literal notranslate"><span class="pre">Value</span></code> of the property <code class="docutils literal notranslate"><span class="pre">Property</span></code>. Possible properties are those defined in <a class="reference internal" href="materials.html#label-materialdatadetailed"><span class="std std-ref">material database</span></a>. For more information, please refer to <a class="reference internal" href="#label-thermo"><span class="std std-ref">Thermodynamics</span></a> on this page.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span> <span class="nf">HeatExchange</span><span class="p">(</span><span class="n">CMaterialStream</span><span class="o">*</span> <span class="n">Stream1</span><span class="p">,</span> <span class="n">CMaterialStream</span><span class="o">*</span> <span class="n">Stream2</span><span class="p">,</span> <span class="kt">double</span> <span class="n">Time</span><span class="p">,</span> <span class="kt">double</span> <span class="n">Efficiency</span><span class="p">);</span>
</pre></div>
</div>
<p>Performs a heat exchange between material streams <code class="docutils literal notranslate"><span class="pre">Stream1</span></code> and <code class="docutils literal notranslate"><span class="pre">Stream2</span></code> at specified time point <code class="docutils literal notranslate"><span class="pre">Time</span></code> with a specified efficiency <code class="docutils literal notranslate"><span class="pre">Efficiency</span></code> ranging between 0 and 1. For more information, please refer to <a class="reference internal" href="#label-thermo"><span class="std std-ref">Thermodynamics</span></a> on this page.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div>
<div class="section" id="time-points">
<h3>Time points<a class="headerlink" href="#time-points" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span> <span class="n">GetAllInputTimePoints</span><span class="p">(</span><span class="kt">double</span> <span class="n">StartTime</span><span class="p">,</span> <span class="kt">double</span> <span class="n">EndTime</span><span class="p">,</span> <span class="kt">bool</span> <span class="n">ForceStartBoundary</span> <span class="o">=</span> <span class="nb">false</span><span class="p">,</span> <span class="kt">bool</span> <span class="n">ForceEndBoundary</span> <span class="o">=</span> <span class="nb">false</span><span class="p">)</span>
</pre></div>
</div>
<p>Returns all time points on which input streams of the unit are defined for specified time interval. Input streams are all streams connected to the input ports. If <code class="docutils literal notranslate"><span class="pre">ForceStartBoundary</span></code> and/or <code class="docutils literal notranslate"><span class="pre">ForceEndBoundary</span></code> flag is enabled, corresponding boundary points will be forcibly added to the resulting vector.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span> <span class="n">GetAllDefinedTimePoints</span><span class="p">(</span><span class="kt">double</span> <span class="n">StartTime</span><span class="p">,</span> <span class="kt">double</span> <span class="n">EndTime</span><span class="p">,</span> <span class="kt">bool</span> <span class="n">ForceStartBoundary</span> <span class="o">=</span> <span class="nb">false</span><span class="p">,</span> <span class="kt">bool</span> <span class="n">ForceEndBoundary</span> <span class="o">=</span> <span class="nb">false</span><span class="p">)</span>
</pre></div>
</div>
<p>Returns all time points for specified time interval on which input streams and unit parameters are defined. Input streams are all streams connected to the input ports. If <code class="docutils literal notranslate"><span class="pre">ForceStartBoundary</span></code> and/or <code class="docutils literal notranslate"><span class="pre">ForceEndBoundary</span></code> flag is enabled, corresponding boundary points will be forcibly added to the resulting vector.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span> <span class="n">GetAllStreamsTimePoints</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">CMaterialStream</span><span class="o">*&gt;</span> <span class="n">Srteams</span><span class="p">,</span> <span class="kt">double</span> <span class="n">StartTime</span><span class="p">,</span> <span class="kt">double</span> <span class="n">EndTime</span><span class="p">)</span>
</pre></div>
</div>
<p>Returns all time points for specified time interval on which <code class="docutils literal notranslate"><span class="pre">Stream</span></code>-s are defined.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div>
<div class="section" id="unit-parameters">
<span id="label-unitparameters"></span><h3>Unit parameters<a class="headerlink" href="#unit-parameters" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">unsigned</span> <span class="n">AddConstParameter</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">Name</span><span class="p">,</span> <span class="kt">double</span> <span class="n">MinValue</span><span class="p">,</span> <span class="kt">double</span> <span class="n">MaxValue</span><span class="p">,</span> <span class="kt">double</span> <span class="n">InitValue</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">Description</span> <span class="o">=</span> <span class="s">&quot;&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Adds new constant unit parameter to the unit with the name <code class="docutils literal notranslate"><span class="pre">Name</span></code>, boundary values <code class="docutils literal notranslate"><span class="pre">MinValue</span></code> and <code class="docutils literal notranslate"><span class="pre">MaxValue</span></code>, description <code class="docutils literal notranslate"><span class="pre">Description</span></code>, and initializes it with the value <code class="docutils literal notranslate"><span class="pre">InitValue</span></code>. The name of the parameter should be unique within the unit.</p>
<p>Should be used in unit’s constructor only. Returns index of the parameter.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">unsigned</span> <span class="n">AddTDParameter</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">Name</span><span class="p">,</span> <span class="kt">double</span> <span class="n">MinValue</span><span class="p">,</span> <span class="kt">double</span> <span class="n">MaxValue</span><span class="p">,</span> <span class="kt">double</span> <span class="n">InitValue</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">Description</span> <span class="o">=</span> <span class="s">&quot;&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Adds new time-dependent unit parameter to the unit with the name <code class="docutils literal notranslate"><span class="pre">Name</span></code>, boundary values <code class="docutils literal notranslate"><span class="pre">MinValue</span></code> and <code class="docutils literal notranslate"><span class="pre">MaxValue</span></code>, description <code class="docutils literal notranslate"><span class="pre">Description</span></code>, and initializes it in the time point 0 s with the value <code class="docutils literal notranslate"><span class="pre">InitValue</span></code>. The name of the parameter should be unique within the unit.</p>
<p>Should be used in unit’s constructor only. Returns index of the parameter.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">unsigned</span> <span class="n">AddStringParameter</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">Name</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">InitValue</span> <span class="o">=</span> <span class="s">&quot;&quot;</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">Description</span> <span class="o">=</span> <span class="s">&quot;&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Adds new string unit parameter to the unit with the name <code class="docutils literal notranslate"><span class="pre">Name</span></code>, description <code class="docutils literal notranslate"><span class="pre">Description</span></code>, and initializes it with the value <code class="docutils literal notranslate"><span class="pre">InitValue</span></code>. The name of the parameter should be unique within the unit.</p>
<p>Should be used in unit’s constructor only. Returns index of the parameter.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">unsigned</span> <span class="n">AddSolverAggregation</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">Name</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">Description</span> <span class="o">=</span> <span class="s">&quot;&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Adds new solver parameter of type <code class="docutils literal notranslate"><span class="pre">SOLVER_AGGREGATION_1</span></code> with name <code class="docutils literal notranslate"><span class="pre">Name</span></code> and description <code class="docutils literal notranslate"><span class="pre">Description</span></code>. Allows choosing a specific solver with current type to use it in unit. The name of the parameter should be unique within the unit.</p>
<p>Should be used in unit’s constructor only. Returns index of the parameter.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">unsigned</span> <span class="n">GetParametersNumber</span><span class="p">()</span>
</pre></div>
</div>
<p>Returns number of unit parameters which have been defined in the unit.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">GetParameterName</span><span class="p">(</span><span class="kt">unsigned</span> <span class="n">Index</span><span class="p">)</span>
</pre></div>
</div>
<p>Returns name of the unit parameter with the specified index Index. Empty string is returned if such parameter has not been defined.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">double</span> <span class="n">GetParameterMinVal</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">ParameterName</span><span class="p">)</span>
</pre></div>
</div>
<p>Returns minimum allowable value of the time-dependent or constant unit parameter with the name <code class="docutils literal notranslate"><span class="pre">ParameterName</span></code>. Returns <code class="docutils literal notranslate"><span class="pre">0</span></code> if such parameter has not been defined or this is not a constant or time-dependent parameter.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">double</span> <span class="n">GetParameterMaxVal</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">ParameterName</span><span class="p">)</span>
</pre></div>
</div>
<p>Returns maximum allowable value of the time-dependent or constant unit parameter with the name <code class="docutils literal notranslate"><span class="pre">ParameterName</span></code>. Returns <code class="docutils literal notranslate"><span class="pre">0</span></code> if such parameter has not been defined or this is not a constant or time-dependent parameter.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">double</span> <span class="n">GetConstParameterValue</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">ParameterName</span><span class="p">)</span>
</pre></div>
</div>
<p>Returns value of a constant unit parameter with the name <code class="docutils literal notranslate"><span class="pre">ParameterName</span></code>. Returns <code class="docutils literal notranslate"><span class="pre">0</span></code> if such constant parameter has not been defined.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">double</span> <span class="n">GetTDParameterValue</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">ParameterName</span><span class="p">,</span> <span class="kt">double</span> <span class="n">Time</span><span class="p">)</span>
</pre></div>
</div>
<p>Returns value of a time-dependent unit parameter with the name <code class="docutils literal notranslate"><span class="pre">ParameterName</span></code> at the specified time point <code class="docutils literal notranslate"><span class="pre">Time</span></code>. If the parameter is not defined at <code class="docutils literal notranslate"><span class="pre">Time</span></code>, linear interpolation will be used to obtain the value. Returns <code class="docutils literal notranslate"><span class="pre">0</span></code> if such time-dependent parameter has not been defined.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">GetStringParameterValue</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">ParameterName</span><span class="p">)</span>
</pre></div>
</div>
<p>Returns value of a string unit parameter. If such string parameter has not been defined, empty string will be returned.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CAggregationSolver</span><span class="o">*</span> <span class="n">GetSolverAggregation</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">ParameterName</span><span class="p">)</span>
</pre></div>
</div>
<p>Returns pointer to a chosen solver of <code class="docutils literal notranslate"><span class="pre">SOLVER_AGGREGATION_1</span></code> type. Returns <code class="docutils literal notranslate"><span class="pre">nullptr</span></code> if such unit parameter has not been defined.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span> <span class="n">SetParameterValue</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">ParameterName</span><span class="p">,</span> <span class="kt">double</span> <span class="n">Value</span><span class="p">,</span> <span class="kt">double</span> <span class="n">Time</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
<p>Sets <code class="docutils literal notranslate"><span class="pre">Value</span></code> of a constant or a time dependent unit parameter in the specified time point <code class="docutils literal notranslate"><span class="pre">Time</span></code>. If the time point does not exist, it will be created. If the time point already exists, its value will be overwritten.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span> <span class="n">SetParameterValue</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">ParameterName</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">Value</span><span class="p">)</span>
</pre></div>
</div>
<p>Sets new <code class="docutils literal notranslate"><span class="pre">Value</span></code> of a string unit parameter with the specified name <code class="docutils literal notranslate"><span class="pre">ParameterName</span></code>.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span> <span class="n">GetParameterTimePoints</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">ParameterName</span><span class="p">,</span> <span class="kt">double</span> <span class="n">TimeStart</span><span class="p">,</span> <span class="kt">double</span> <span class="n">TimeEnd</span><span class="p">)</span>
</pre></div>
</div>
<p>Returns all time points for which time-dependent parameter is defined within the specified time interval [<code class="docutils literal notranslate"><span class="pre">TimeStart</span></code>; <code class="docutils literal notranslate"><span class="pre">TimeEnd</span></code>]. Returns empty vector if such parameter has not been defined or this is not a time-dependent parameter.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div>
<div class="section" id="state-variables">
<h3>State variables<a class="headerlink" href="#state-variables" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate" id="label-addstatevariable"><div class="highlight"><pre><span></span><span class="kt">unsigned</span> <span class="n">AddStateVariable</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">Name</span><span class="p">,</span> <span class="kt">double</span> <span class="n">InitValue</span><span class="p">,</span> <span class="kt">bool</span> <span class="n">SaveHistory</span> <span class="o">=</span> <span class="nb">false</span><span class="p">)</span>
</pre></div>
</div>
<p>Adds new state variable and initializes it with <code class="docutils literal notranslate"><span class="pre">InitValue</span></code>. Name must be unique within the unit’s state variables. Parameter <code class="docutils literal notranslate"><span class="pre">SaveHistory</span></code> specifies if the history of all changes of variable should be saved during calculation for further post-processing. To save history, function <code class="docutils literal notranslate"><span class="pre">SaveStateVariables()</span></code> should be called. All variables which are added with this function will be automatically saved and restored during the simulation. Should be used in <code class="docutils literal notranslate"><span class="pre">Initialize</span></code> function of the unit.</p>
<p>Returns index of added variable.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">unsigned</span> <span class="n">GetStateVariablesNumber</span><span class="p">()</span>
</pre></div>
</div>
<p>Returns number of state variables which have been defined in this unit.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">GetStateVariableName</span><span class="p">(</span><span class="kt">unsigned</span> <span class="n">Index</span><span class="p">)</span>
</pre></div>
</div>
<p>Returns the name of the state variable with specified index. Returns empty string if such variable has not been defined.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">double</span> <span class="n">GetStateVariable</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">Name</span><span class="p">)</span>
</pre></div>
</div>
<p>Returns value of internal state variable with name Name. Returns <code class="docutils literal notranslate"><span class="pre">0</span></code> if such variable has not been defined.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span> <span class="n">SetStateVariable</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">Name</span><span class="p">,</span> <span class="kt">double</span> <span class="n">Value</span><span class="p">)</span>
</pre></div>
</div>
<p>Sets new value <code class="docutils literal notranslate"><span class="pre">Value</span></code> of a state variable <code class="docutils literal notranslate"><span class="pre">Name</span></code>.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span> <span class="n">ClearStateVariables</span><span class="p">()</span>
</pre></div>
</div>
<p>Removes all state variables and history of their changes.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span> <span class="n">SaveStateVariables</span><span class="p">(</span><span class="kt">double</span> <span class="n">Time</span><span class="p">)</span>
</pre></div>
</div>
<p>Saves values of those internal variables defined as having history at the current time <code class="docutils literal notranslate"><span class="pre">Time</span></code>.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div>
<div class="section" id="compounds">
<h3>Compounds<a class="headerlink" href="#compounds" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span> <span class="n">GetCompoundsList</span><span class="p">()</span>
</pre></div>
</div>
<p>Returns unique keys of all compounds defined in the current flowsheet.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span> <span class="n">GetCompoundsNames</span><span class="p">()</span>
</pre></div>
</div>
<p>Returns names of all compounds defined in the current flowsheet.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">unsigned</span> <span class="n">GetCompoundsNumber</span><span class="p">()</span>
</pre></div>
</div>
<p>Returns number of compounds which are defined in the current flowsheet.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">double</span> <span class="n">GetCompoundConstant</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">CompoundKey</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="n">Constant</span><span class="p">)</span>
</pre></div>
</div>
<p>Returns value of constant physical property for specified compound. These properties are stored in the database of materials. Possible constants are listed below:</p>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">SOA_AT_NORMAL_CONDITIONS</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">NORMAL_BOILING_POINT</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">NORMAL_FREEZING_POINT</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">CRITICAL_TEMPERATURE</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">CRITICAL_PRESSURE</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">MOLAR_MASS</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">STANDARD_FORMATION_ENTHALPY</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">HEAT_OF_FUSION_AT_NORMAL_FREEZING_POINT</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">HEAT_OF_VAPORIZATION_AT_NORMAL_BOILING_POINT</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">REACTIVITY_TYPE</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">CONST_PROP_USER_DEFINED_XX</span></code></li>
</ul>
</div></blockquote>
<div class="admonition note" id="label-defconstprop">
<p class="first admonition-title">Note</p>
<p>Definition of constant properties:</p>
<table border="1" class="last docutils">
<colgroup>
<col width="47%" />
<col width="44%" />
<col width="9%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Definition in class</th>
<th class="head">Name</th>
<th class="head">Units</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">SOA_AT_NORMAL_CONDITIONS</span></code></td>
<td>State of aggregation at normal conditions</td>
<td>[-]</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">NORMAL_BOILING_POINT</span></code></td>
<td>Normal boiling point</td>
<td>[K]</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">NORMAL_FREEZING_POINT</span></code></td>
<td>Normal freezing point</td>
<td>[K]</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">CRITICAL_TEMPERATURE</span></code></td>
<td>Critical temperature</td>
<td>[K]</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">CRITICAL_PRESSURE</span></code></td>
<td>Critical pressure</td>
<td>[Pa]</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">MOLAR_MASS</span></code></td>
<td>Molar mass</td>
<td>[kg/mol]</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">STANDARD_FORMATION_ENTHALPY</span></code></td>
<td>Standard formation enthalpy</td>
<td>[J/mol]</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">HEAT_OF_FUSION_AT_NORMAL_FREEZING_POINT</span></code></td>
<td>Heat of fusion at normal freezing point</td>
<td>[J/mol]</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">HEAT_OF_VAPORIZATION_AT_NORMAL_BOILING_POINT</span></code></td>
<td>Heat of vaporization at normal boiling point</td>
<td>[J/mol]</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">REACTIVITY_TYPE</span></code></td>
<td>Reactivity type</td>
<td>[-]</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">CONST_PROP_USER_DEFINED_XX</span></code></td>
<td>User defined property</td>
<td>[-]</td>
</tr>
</tbody>
</table>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">double</span> <span class="n">GetCompoundTPDProp</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">CompoundKey</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="n">Property</span><span class="p">,</span> <span class="kt">double</span> <span class="n">Temperature</span><span class="p">,</span> <span class="kt">double</span> <span class="n">Pressure</span><span class="p">)</span>
</pre></div>
</div>
<p>Returns value of temperature/pressure-dependent physical properties stored in the <a class="reference internal" href="materials.html#label-materialdatadetailed"><span class="std std-ref">material database</span></a> for compound with specified <code class="docutils literal notranslate"><span class="pre">Temperature</span></code> [K] and <code class="docutils literal notranslate"><span class="pre">Pressure</span></code> [Pa]. Possible properties are listed below:</p>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">DENSITY</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">HEAT_CAPACITY_CP</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">ENTHALPY</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">VAPOR_PRESSURE</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">VISCOSITY</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">THERMAL_CONDUCTIVITY</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">PERMITTIVITY</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">TP_PROP_USER_DEFINED_XX</span></code></li>
</ul>
</div></blockquote>
<div class="admonition note" id="label-defdepprop">
<p class="first admonition-title">Note</p>
<p>Definition of temperature-dependent properties:</p>
<table border="1" class="last docutils">
<colgroup>
<col width="40%" />
<col width="33%" />
<col width="27%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Define</th>
<th class="head">Name</th>
<th class="head">Units</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">DENSITY</span></code></td>
<td>Density</td>
<td>[kg/m <span class="math notranslate nohighlight">\(^3\)</span>]</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">HEAT_CAPACITY</span></code></td>
<td>Heat</td>
<td>[J/(kg·K)]</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">ENTHALPY</span></code></td>
<td>Enthalpy</td>
<td>[J/kg]</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">VAPOR_PRESSURE</span></code></td>
<td>Vapor</td>
<td>[Pa]</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">VISCOSITY</span></code></td>
<td>Viscosity</td>
<td>[Pa·s]</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">THERMAL_CONDUCTIVITY</span></code></td>
<td>Thermal</td>
<td>[W/(m·K)]</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">PERMITTIVITY</span></code></td>
<td>Permittivity</td>
<td>[F/m]</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">TP_PROP_USER_DEFINED_XX</span></code></td>
<td>User</td>
<td>[-]</td>
</tr>
</tbody>
</table>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">double</span> <span class="n">GetCompoundsInteractionProp</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">CompoundKey1</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">CompoundKey2</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="n">Property</span><span class="p">,</span> <span class="kt">double</span> <span class="n">Temperature</span><span class="p">,</span> <span class="kt">double</span> <span class="n">Pressure</span><span class="p">)</span>
</pre></div>
</div>
<p>Returns the value of the interaction property for selected compounds under the specified <code class="docutils literal notranslate"><span class="pre">Temperature</span></code> [K] and <code class="docutils literal notranslate"><span class="pre">Pressure</span></code> [Pa]. These properties are stored in the database of materials. Possible properties are listed below:</p>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">INTERFACE_TENSION</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">INT_PROP_USER_DEFINED_XX</span></code></li>
</ul>
</div></blockquote>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">bool</span> <span class="n">IsCompoundNameDefined</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">CompoundName</span><span class="p">)</span>
</pre></div>
</div>
<p>Returns <code class="docutils literal notranslate"><span class="pre">true</span></code> if compound with specified name has been defined, otherwise returns <code class="docutils literal notranslate"><span class="pre">false</span></code>.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">bool</span> <span class="n">IsCompoundKeyDefined</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">CompoundKey</span><span class="p">)</span>
</pre></div>
</div>
<p>Returns <code class="docutils literal notranslate"><span class="pre">true</span></code> if compound with specified unique key has been defined, otherwise returns <code class="docutils literal notranslate"><span class="pre">false</span></code>.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div>
<div class="section" id="phases">
<h3>Phases<a class="headerlink" href="#phases" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">unsigned</span> <span class="n">GetPhasesNumber</span><span class="p">()</span>
</pre></div>
</div>
<p>Returns number of phases which are currently defined in the flowsheet.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">GetPhaseName</span><span class="p">(</span><span class="kt">unsigned</span> <span class="n">PhaseType</span><span class="p">)</span>
</pre></div>
</div>
<p>Returns name of the specified phase. Possible values of <code class="docutils literal notranslate"><span class="pre">PhaseType</span></code> are:</p>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">SOA_SOLID</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">SOA_LIQUID</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">SOA_LIQUID2</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">SOA_VAPOR</span></code></li>
</ul>
</div></blockquote>
<p>Returns empty string if such phase has not been defined.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">unsigned</span> <span class="n">GetPhaseSOA</span><span class="p">(</span><span class="kt">unsigned</span> <span class="n">PhaseIndex</span><span class="p">)</span>
</pre></div>
</div>
<p>Returns state of aggregation for the phase with index <code class="docutils literal notranslate"><span class="pre">PhaseIndex</span></code>. Returns <code class="docutils literal notranslate"><span class="pre">SOA_UNDEFINED</span></code> if the phase with specified index doesn’t exist.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">size_t</span> <span class="n">GetPhaseIndex</span><span class="p">(</span><span class="kt">unsigned</span> <span class="n">PhaseType</span><span class="p">)</span>
</pre></div>
</div>
<p>Returns index of the specified phase. Returns <code class="docutils literal notranslate"><span class="pre">-1</span></code> if such phase has not been defined. Possible values of PhaseType are:</p>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">SOA_SOLID</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">SOA_LIQUID</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">SOA_LIQUID2</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">SOA_VAPOR</span></code></li>
</ul>
</div></blockquote>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">bool</span> <span class="n">IsPhaseDefined</span><span class="p">(</span><span class="kt">unsigned</span> <span class="n">PhaseType</span><span class="p">)</span>
</pre></div>
</div>
<p>Returns <code class="docutils literal notranslate"><span class="pre">true</span></code> if such phase has been defined in the flowsheet. Possible values of PhaseType are:</p>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">SOA_SOLID</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">SOA_LIQUID</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">SOA_LIQUID2</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">SOA_VAPOR</span></code></li>
</ul>
</div></blockquote>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">unsigned</span> <span class="n">GetLiquidPhasesNumber</span><span class="p">()</span>
</pre></div>
</div>
<p>Returns number of defined liquid phases.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div>
<div class="section" id="solid-distributed-properties">
<h3>Solid distributed properties<a class="headerlink" href="#solid-distributed-properties" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate" id="label-edistrtypes"><div class="highlight"><pre><span></span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">EDistrTypes</span><span class="o">&gt;</span> <span class="n">GetDistributionsTypes</span><span class="p">()</span>
</pre></div>
</div>
<p>Returns list of types of solid distributions, which have been defined in the flowsheet. Possible types are:</p>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">DISTR_COMPOUNDS</span></code>: distribution by compounds.</li>
<li><code class="docutils literal notranslate"><span class="pre">DISTR_SIZE</span></code>: distribution by particle size.</li>
<li><code class="docutils literal notranslate"><span class="pre">DISTR_PART_POROSITY</span></code>: distribution by partcle porosity.</li>
<li><code class="docutils literal notranslate"><span class="pre">DISTR_FORM_FACTOR</span></code>: distribution by particle form factor.</li>
<li><code class="docutils literal notranslate"><span class="pre">DISTR_COLOR</span></code>: distribution by particle color.</li>
<li><code class="docutils literal notranslate"><span class="pre">DISTR_USER_DEFINED_01</span></code> to <code class="docutils literal notranslate"><span class="pre">DISTR_USER_DEFINED_10</span></code>: user defined distribution.</li>
</ul>
</div></blockquote>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">unsigned</span><span class="o">&gt;</span> <span class="n">GetDistributionsClasses</span><span class="p">()</span>
</pre></div>
</div>
<p>Returns list with number of classes for all defined distributions.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">unsigned</span> <span class="n">GetDistributionsNumber</span><span class="p">()</span>
</pre></div>
</div>
<p>Returns number of solids distributions, which have been defined in the flowsheet.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">EGridTypes</span> <span class="n">GetDistributionGridType</span><span class="p">(</span><span class="n">EDistrTypes</span> <span class="n">distrType</span><span class="p">)</span>
</pre></div>
</div>
<p>Returns grid’s type, which was defined for specified solid distribution <code class="docutils literal notranslate"><span class="pre">distrType</span></code>. Possible values are:</p>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">GRID_NUMERIC</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">GRID_SYMBOLIC</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">GRID_UNDEFINED</span></code></li>
</ul>
</div></blockquote>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate" id="label-getnumericgrid"><div class="highlight"><pre><span></span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span> <span class="n">GetNumericGrid</span><span class="p">(</span><span class="n">EDistrTypes</span> <span class="n">distrType</span><span class="p">)</span>
</pre></div>
</div>
<p>Returns grid of classes for specified solid distribution for <em>Numeric grid</em>. Returns empty vector if this distribution has <em>Symbolic grid</em>.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span> <span class="n">GetSymbolicGrid</span><span class="p">(</span><span class="n">EDistrTypes</span> <span class="n">distrType</span><span class="p">)</span>
</pre></div>
</div>
<p>Returns grid of classes for specified solid distribution for <em>Symbolic grid</em>. Retunrs empty vector if this distribution has <em>Numeric grid</em>.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">unsigned</span> <span class="n">GetClassesNumber</span><span class="p">(</span><span class="n">EDistrTypes</span> <span class="n">distrType</span><span class="p">)</span>
</pre></div>
</div>
<p>Returns number of classes for specified solid distribution. Returns <code class="docutils literal notranslate"><span class="pre">0</span></code> if such distribution has not been defined.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span> <span class="n">GetClassesMeans</span><span class="p">(</span><span class="n">EDistrTypes</span> <span class="n">distrType</span><span class="p">)</span>
</pre></div>
</div>
<p>Returns means of classes for specified solid distribution with <em>Numeric grid</em>. Retunrs empty vector if such distribution has not been defined or has <em>Symbolic grid</em>.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span> <span class="n">GetPSDGridDiameters</span><span class="p">()</span>
</pre></div>
</div>
<p>Returns size grid for particle diameters. Returns empty vector if <code class="docutils literal notranslate"><span class="pre">DISTR_SIZE</span></code> distribution has not been defined.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span> <span class="n">GetPSDGridVolumes</span><span class="p">()</span>
</pre></div>
</div>
<p>Returns size grid for particle volumes. Returns empty vector if <code class="docutils literal notranslate"><span class="pre">DISTR_SIZE</span></code> distribution has not been defined.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span> <span class="n">GetPSDMeanDiameters</span><span class="p">()</span>
</pre></div>
</div>
<p>Returns mean particle diameters. Returns empty vector if <code class="docutils literal notranslate"><span class="pre">DISTR_SIZE</span></code> distribution has not been defined.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span> <span class="n">GetPSDMeanSurfaces</span><span class="p">()</span>
</pre></div>
</div>
<p>Returns mean particle surfaces. Returns empty vector if <code class="docutils literal notranslate"><span class="pre">DISTR_SIZE</span></code> distribution has not been defined.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span> <span class="n">GetPSDMeanVolumes</span><span class="p">()</span>
</pre></div>
</div>
<p>Returns mean particle volumes. Returns empty vector if <code class="docutils literal notranslate"><span class="pre">DISTR_SIZE</span></code> distribution has not been defined.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span> <span class="n">GetClassesSizes</span><span class="p">(</span><span class="n">EDistrTypes</span> <span class="n">distrType</span><span class="p">)</span>
</pre></div>
</div>
<p>Returns sizes of classes for specified solid distribution with <em>Numeric grid</em>. Returns empty vector if such distribution has not been defined or has <em>Symbolic grid</em>.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">bool</span> <span class="n">IsDistributionDefined</span><span class="p">(</span><span class="n">EDistrTypes</span> <span class="n">distrType</span><span class="p">)</span>
</pre></div>
</div>
<p>Returns <code class="docutils literal notranslate"><span class="pre">ture</span></code> if such solids distribution has been defined in the flowsheet.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span> <span class="n">CalculateTM</span><span class="p">(</span><span class="n">EDistrTypes</span> <span class="n">distrType</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span> <span class="n">InDistr</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span> <span class="n">OutDistr</span><span class="p">,</span> <span class="n">CTransformMatrix</span> <span class="o">&amp;</span><span class="n">outTM</span><span class="p">)</span>
</pre></div>
</div>
<p>Calculates transformation matrix for one-dimensional distribution with type <code class="docutils literal notranslate"><span class="pre">distrType</span></code> according to input and output distributions. Obtained matrix can be applied to the stream instead of direct setting of distribution to retain secondary dimensions in multidimensional distribution.</p>
<p>Following algorithm is applied to setup transformation matrix:</p>
<blockquote>
<div><ol class="arabic simple">
<li>Go through the classes of source and target distributions from left to right.</li>
<li>The mostleft notempty class of the initial distribution proceeds to the mostleft notempty class of the output distribution.</li>
<li>Transition to the next class of the initial distribution is performed if the current class is completely transferred to the output distribution.</li>
<li>Transition to the next class of the output distribution is performed if the current class is already full.</li>
</ol>
</div></blockquote>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div>
<div class="section" id="tolerance">
<h3>Tolerance<a class="headerlink" href="#tolerance" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">double</span> <span class="n">GetAbsTolerance</span><span class="p">()</span>
</pre></div>
</div>
<p>Returns absolute tolerance, which has been defined for the flowsheet.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">double</span> <span class="n">GetRelTolerance</span><span class="p">()</span>
</pre></div>
</div>
<p>Returns relative tolerance, which has been defined for the flowsheet.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div>
<div class="section" id="errors-and-warnings">
<h3>Errors and warnings<a class="headerlink" href="#errors-and-warnings" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span> <span class="n">RaiseError</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">Description</span> <span class="o">=</span> <span class="s">&quot;&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Can be called to indicate that an error occurred. Description will be displayed in the simulation’s log and simulation will be stopped after setting.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span> <span class="n">RaiseWarning</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">Description</span> <span class="o">=</span> <span class="s">&quot;&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Can be called to indicate warning. Description will be displayed in the simulation’s log and simulation will not be stopped.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span> <span class="n">ShowInfo</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">Description</span><span class="p">)</span>
</pre></div>
</div>
<p>Can be called to write out messages to the simulation’s log screen during the simulation. Description will be displayed in the simulation’s log.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div>
<div class="section" id="plots">
<h3>Plots<a class="headerlink" href="#plots" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span> <span class="n">AddPlot</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">PlotName</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">XAxisName</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">YAxisName</span><span class="p">)</span>
</pre></div>
</div>
<p>Adds new 2-dimensional plot with specified name and axis, returns index of the plot. <code class="docutils literal notranslate"><span class="pre">PlotName</span></code> must be unique within the unit’s plots. Returns <code class="docutils literal notranslate"><span class="pre">-1</span></code> on error.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span> <span class="n">AddPlot</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">PlotName</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">XAxisName</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">YAxisName</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">ZAxisName</span><span class="p">)</span>
</pre></div>
</div>
<p>Adds new 3-dimensional plot with specified name and axis, returns index of the plot. <code class="docutils literal notranslate"><span class="pre">PlotName</span></code> must be unique within the unit’s plots. Returns <code class="docutils literal notranslate"><span class="pre">-1</span></code> on error.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span> <span class="n">AddCurveOnPlot</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">PlotName</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">CurveName</span><span class="p">)</span>
</pre></div>
</div>
<p>Adds new curve with specified name <code class="docutils literal notranslate"><span class="pre">CurveName</span></code> on the 2-dimensional plot with name <code class="docutils literal notranslate"><span class="pre">PlotName</span></code>. Returns index of the curve within specified plot. Returns <code class="docutils literal notranslate"><span class="pre">-1</span></code> on error.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span> <span class="n">AddCurveOnPlot</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">PlotName</span><span class="p">,</span> <span class="kt">double</span> <span class="n">ZValue</span><span class="p">)</span>
</pre></div>
</div>
<p>Adds new curve with specified <code class="docutils literal notranslate"><span class="pre">ZValue</span></code> on the 2- or 3-dimensional plot with name <code class="docutils literal notranslate"><span class="pre">PlotName</span></code>. Returns index of the curve within specified plot.</p>
<p><code class="docutils literal notranslate"><span class="pre">ZValue</span></code> can be time, …</p>
<p>Returns <code class="docutils literal notranslate"><span class="pre">-1</span></code> on error.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span> <span class="n">AddPointOnCurve</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">PlotName</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">CurveName</span><span class="p">,</span> <span class="kt">double</span> <span class="n">X</span><span class="p">,</span> <span class="kt">double</span> <span class="n">Y</span><span class="p">)</span>
</pre></div>
</div>
<p>Adds new point on specified curve <code class="docutils literal notranslate"><span class="pre">CurveName</span></code> for 2-dimensional plot.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span> <span class="n">AddPointOnCurve</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">PlotName</span><span class="p">,</span> <span class="kt">double</span> <span class="n">ZValue</span><span class="p">,</span> <span class="kt">double</span> <span class="n">X</span><span class="p">,</span> <span class="kt">double</span> <span class="n">Y</span><span class="p">)</span>
</pre></div>
</div>
<p>Adds new point on specified curve for 3-dimensional plot with specified <code class="docutils literal notranslate"><span class="pre">ZValue</span></code>. <code class="docutils literal notranslate"><span class="pre">ZValue</span></code> can be time, …</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span> <span class="n">AddPointOnCurve</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">PlotName</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">CurveName</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span> <span class="n">X</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span> <span class="n">Y</span><span class="p">)</span>
</pre></div>
</div>
<p>Adds new points on specified curve <code class="docutils literal notranslate"><span class="pre">CurveName</span></code> for 2-dimensional plot named <code class="docutils literal notranslate"><span class="pre">PlotName</span></code>.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span> <span class="n">AddPointOnCurve</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">PlotName</span><span class="p">,</span> <span class="kt">double</span> <span class="n">ZValue</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span> <span class="n">X</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span> <span class="n">Y</span><span class="p">)</span>
</pre></div>
</div>
<p>Adds new points on specified curve <code class="docutils literal notranslate"><span class="pre">ZValue</span></code> for 3-dimensional plot named <code class="docutils literal notranslate"><span class="pre">PlotName</span></code>. <code class="docutils literal notranslate"><span class="pre">ZValue</span></code> can be time, …</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div>
<div class="section" id="virtual-functions">
<h3>Virtual functions<a class="headerlink" href="#virtual-functions" title="Permalink to this headline">¶</a></h3>
<p>Virtual function is declared within the base class, which you can re-define in your derived class.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span> <span class="n">Simulate</span><span class="p">(</span><span class="kt">double</span> <span class="n">Time</span><span class="p">)</span>
</pre></div>
</div>
<p>Calculates unit on a specified time point <code class="docutils literal notranslate"><span class="pre">Time</span></code> for <strong>steady-state units</strong>. Is called by the suimulator iteratively for all time points for which this unit should be calculated. All logic of the unit’s model must be implemented here.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span> <span class="n">Simulate</span><span class="p">(</span><span class="kt">double</span> <span class="n">StartTime</span><span class="p">,</span> <span class="kt">double</span> <span class="n">EndTime</span><span class="p">)</span>
</pre></div>
</div>
<p>Calculates unit for specified time interval for <strong>dynamic units</strong>. Is called by the suimulator iteratively for all time points for which this unit should be calculated. All logic of the unit’s model must be implemented here.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span> <span class="n">Initialize</span><span class="p">(</span><span class="kt">double</span> <span class="n">Time</span><span class="p">)</span>
</pre></div>
</div>
<p>Initializes unit at the time point <code class="docutils literal notranslate"><span class="pre">Time</span></code>. Is called by the simulator only once at the start of the simulation. Here some additional objects can be initialized (for example holdups, material streams or state variables).</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate" id="label-savestate"><div class="highlight"><pre><span></span><span class="kt">void</span> <span class="n">SaveState</span><span class="p">()</span>
</pre></div>
</div>
<p>Saves current state of the unit. All time dependent variables which weren’t added to the unit be manually saved here with the help of <a class="reference internal" href="#label-addstatevariable"><span class="std std-ref">AddStateVariable</span></a>, <a class="reference internal" href="#label-addmaterialstream"><span class="std std-ref">AddMaterialStream</span></a> or <a class="reference internal" href="#label-addholdup"><span class="std std-ref">AddHoldup</span></a>.</p>
<p>For flowsheets containing <strong>recycled streams</strong>, this function is called when the convergence on the current time interval is reached, this also ensures the return to the previous state of the unit if convergence fails during the calculation.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate" id="label-loadstate"><div class="highlight"><pre><span></span><span class="kt">void</span> <span class="n">LoadState</span><span class="p">()</span>
</pre></div>
</div>
<p>Loads last saved state of the unit. All time dependent variables which were previously saved in <code class="docutils literal notranslate"><span class="pre">SaveState()</span></code> function should be manually loaded here.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span> <span class="n">Finalize</span><span class="p">()</span>
</pre></div>
</div>
<p>Finalizes unit. Is called by the simulator only once at the end of the simulation. Here closing and cleaning operations can be performed.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div>
</div>
<div class="section" id="stream">
<span id="label-stream"></span><h2>Stream<a class="headerlink" href="#stream" title="Permalink to this headline">¶</a></h2>
<p>Functions in classes <code class="docutils literal notranslate"><span class="pre">CMaterialStream</span></code> and <code class="docutils literal notranslate"><span class="pre">CHoldup</span></code> are introduced below.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="section" id="basic-stream-properties">
<h3>Basic stream properties<a class="headerlink" href="#basic-stream-properties" title="Permalink to this headline">¶</a></h3>
<p>All functions in this section are for both <code class="docutils literal notranslate"><span class="pre">CMaterialStream</span></code> and <code class="docutils literal notranslate"><span class="pre">CHoldup</span></code>.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">GetStreamName</span><span class="p">()</span>
</pre></div>
</div>
<p>Returns the name of the material stream / holdup.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span> <span class="n">SetStreamName</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">Name</span><span class="p">)</span>
</pre></div>
</div>
<p>Sets the name of the material stream / holdup.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div>
<div class="section" id="id1">
<h3>Time points<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<p>All functions in this section are for both <code class="docutils literal notranslate"><span class="pre">CMaterialStream</span></code> and <code class="docutils literal notranslate"><span class="pre">CHoldup</span></code>.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span> <span class="n">AddTimePoint</span><span class="p">(</span><span class="kt">double</span> <span class="n">Time</span><span class="p">,</span> <span class="kt">double</span> <span class="n">SourceTime</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
<p>Adds new time point <code class="docutils literal notranslate"><span class="pre">Time</span></code> to the material stream / holdup. Data for this time point is copied from <code class="docutils literal notranslate"><span class="pre">SourceTime</span></code>. By default (<code class="docutils literal notranslate"><span class="pre">SourceTime</span> <span class="pre">=</span> <span class="pre">-1</span></code>) data will be copied from the previous time point. If this is the first time point in the material stream / holdup, all data will be set to <code class="docutils literal notranslate"><span class="pre">0</span></code>. If such time point already exists, nothing will be done.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span> <span class="n">RemoveTimePoint</span><span class="p">(</span><span class="kt">double</span> <span class="n">Time</span><span class="p">)</span>
</pre></div>
</div>
<p>Removes time point <code class="docutils literal notranslate"><span class="pre">Time</span></code> from the material stream / holdup, if such point exists.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span> <span class="n">RemoveTimePoints</span><span class="p">(</span><span class="kt">double</span> <span class="n">Start</span><span class="p">,</span> <span class="kt">double</span> <span class="n">End</span><span class="p">)</span>
</pre></div>
</div>
<p>Removes all time points from the specified interval, including boundaries.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span> <span class="n">RemoveTimePointsAfter</span><span class="p">(</span><span class="kt">double</span> <span class="n">Start</span><span class="p">,</span> <span class="kt">bool</span> <span class="n">IncludeStart</span> <span class="o">=</span> <span class="nb">false</span><span class="p">)</span>
</pre></div>
</div>
<p>Removes all data after the specified time point including (if <code class="docutils literal notranslate"><span class="pre">IncludeStart</span></code> is set to <code class="docutils literal notranslate"><span class="pre">true</span></code>) or excluding (<code class="docutils literal notranslate"><span class="pre">IncludeStart</span></code> is set to <code class="docutils literal notranslate"><span class="pre">false</span></code>) point <code class="docutils literal notranslate"><span class="pre">Start</span></code>.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span> <span class="n">GetAllTimePoints</span><span class="p">()</span>
</pre></div>
</div>
<p>Returns all time points which are defined in the material stream / holdup.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span> <span class="n">GetTimePointsForInterval</span><span class="p">(</span><span class="kt">double</span> <span class="n">Start</span><span class="p">,</span> <span class="kt">double</span> <span class="n">End</span><span class="p">,</span> <span class="kt">bool</span> <span class="n">ForceInclBoudaries</span> <span class="o">=</span> <span class="nb">false</span><span class="p">)</span>
</pre></div>
</div>
<p>Returns the list of time points for the specified time interval (incl. boundary points <code class="docutils literal notranslate"><span class="pre">Start</span></code> and <code class="docutils literal notranslate"><span class="pre">End</span></code>). If <code class="docutils literal notranslate"><span class="pre">ForceInclBoudaries</span></code> is set to <code class="docutils literal notranslate"><span class="pre">true</span></code>, resulting vector will contain boundary points even if they have not been defined in the material stream / holdup.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">double</span> <span class="n">GetLastTimePoint</span><span class="p">()</span>
</pre></div>
</div>
<p>Returns last defined time point in the material stream / holdup. Returns <code class="docutils literal notranslate"><span class="pre">-1</span></code> if no time points have been defined.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">double</span> <span class="n">GetPreviousTimePoint</span><span class="p">(</span><span class="kt">double</span> <span class="n">Time</span><span class="p">)</span>
</pre></div>
</div>
<p>Returns the nearest time point before <code class="docutils literal notranslate"><span class="pre">Time</span></code>. Returns <code class="docutils literal notranslate"><span class="pre">-1</span></code> if there is no time points before the specified value.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div>
<div class="section" id="overall-properties">
<h3>Overall properties<a class="headerlink" href="#overall-properties" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate" id="label-massflow"><div class="highlight"><pre><span></span><span class="kt">double</span> <span class="n">GetMassFlow</span><span class="p">(</span><span class="kt">double</span> <span class="n">Time</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="n">Basis</span><span class="p">)</span>
</pre></div>
</div>
<p>Specific function for <code class="docutils literal notranslate"><span class="pre">CMaterialStream</span></code>.</p>
<p>Returns mass or mole flow of the material stream at the specified time point <code class="docutils literal notranslate"><span class="pre">Time</span></code>. If such time point has not been defined, interpolation of data will be done.</p>
<p><code class="docutils literal notranslate"><span class="pre">Basis</span></code> is a basis of results (<code class="docutils literal notranslate"><span class="pre">BASIS_MASS</span></code> in [kg/s] or <code class="docutils literal notranslate"><span class="pre">BASIS_MOLL</span></code> in [mol/s]):</p>
<p><code class="docutils literal notranslate"><span class="pre">BASIS_MASS</span></code>: <span class="math notranslate nohighlight">\(\dot m\)</span> in [kg/s], total mass flow of the material stream.</p>
<p><code class="docutils literal notranslate"><span class="pre">BASIS_MOLL</span></code>: <span class="math notranslate nohighlight">\(\sum\limits_i \dfrac{\dot m \cdot w_i}{M_i}\)</span> in [mol/s], with <span class="math notranslate nohighlight">\(w_i\)</span> mass fraction of the phase <span class="math notranslate nohighlight">\(i\)</span>, and <span class="math notranslate nohighlight">\(M_i\)</span> molar mass of the phase <span class="math notranslate nohighlight">\(i\)</span>.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate" id="label-mass"><div class="highlight"><pre><span></span><span class="kt">double</span> <span class="n">GetMass</span><span class="p">(</span><span class="kt">double</span> <span class="n">Time</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="n">Basis</span><span class="p">)</span>
</pre></div>
</div>
<p>Specific function for <code class="docutils literal notranslate"><span class="pre">CHoldup</span></code>.</p>
<p>Returns mass or mole of the holdup at the specified time point <code class="docutils literal notranslate"><span class="pre">Time</span></code>. If such time point has not been defined, interpolation of data will be done.</p>
<p><code class="docutils literal notranslate"><span class="pre">Basis</span></code> is a basis of results (<code class="docutils literal notranslate"><span class="pre">BASIS_MASS</span></code> in [kg] or <code class="docutils literal notranslate"><span class="pre">BASIS_MOLL</span></code> in [mol]):</p>
<p><code class="docutils literal notranslate"><span class="pre">BASIS_MASS</span></code>: <span class="math notranslate nohighlight">\(m\)</span> in [kg], total mass of the holdup.</p>
<p><code class="docutils literal notranslate"><span class="pre">BASIS_MOLL</span></code>: <span class="math notranslate nohighlight">\(\sum\limits_i \dfrac{m \cdot w_i}{M_i}\)</span> in [mol], with <span class="math notranslate nohighlight">\(w_i\)</span> mass fraction of the phase <span class="math notranslate nohighlight">\(i\)</span>, and <span class="math notranslate nohighlight">\(M_i\)</span> molar mass of the phase <span class="math notranslate nohighlight">\(i\)</span>.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate" id="label-setmassflow"><div class="highlight"><pre><span></span><span class="kt">void</span> <span class="n">SetMassFlow</span><span class="p">(</span><span class="kt">double</span> <span class="n">Time</span><span class="p">,</span> <span class="kt">double</span> <span class="n">Value</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="n">Basis</span><span class="p">)</span>
</pre></div>
</div>
<p>Specific function for <code class="docutils literal notranslate"><span class="pre">CMaterialStream</span></code>.</p>
<p>Sets mass flow of the material stream at the time point <code class="docutils literal notranslate"><span class="pre">Time</span></code>. Negative values before setting will be converted to <code class="docutils literal notranslate"><span class="pre">0</span></code>. If the time point Time has not been defined in the material stream, then the value will not be set.</p>
<p><code class="docutils literal notranslate"><span class="pre">Basis</span></code> is a basis of results (<code class="docutils literal notranslate"><span class="pre">BASIS_MASS</span></code> in [kg/s] or <code class="docutils literal notranslate"><span class="pre">BASIS_MOLL</span></code> in [mol/s]):</p>
<p><code class="docutils literal notranslate"><span class="pre">BASIS_MASS</span></code>: in this case you directly have your input <code class="docutils literal notranslate"><span class="pre">Value</span></code> as mass flow: <span class="math notranslate nohighlight">\(\dot{m} =\)</span> <code class="docutils literal notranslate"><span class="pre">Value</span></code> in [kg/s]</p>
<p><code class="docutils literal notranslate"><span class="pre">BASIS_MOLL</span></code>: in this case you have <code class="docutils literal notranslate"><span class="pre">Value</span></code> as mole flow and this should be converted to mass flow. <span class="math notranslate nohighlight">\(\dot{m} =\)</span> <code class="docutils literal notranslate"><span class="pre">Value</span></code> <span class="math notranslate nohighlight">\(\cdot \sum\limits_i M_i \cdot w_i\)</span> in [mol/s], with <span class="math notranslate nohighlight">\(w_i\)</span> mass fraction of the phase <span class="math notranslate nohighlight">\(i\)</span>, and <span class="math notranslate nohighlight">\(M_i\)</span> molar mass of the phase <span class="math notranslate nohighlight">\(i\)</span>.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate" id="label-setmass"><div class="highlight"><pre><span></span><span class="kt">void</span> <span class="n">SetMass</span><span class="p">(</span><span class="kt">double</span> <span class="n">Time</span><span class="p">,</span> <span class="kt">double</span> <span class="n">Value</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="n">Basis</span><span class="p">)</span>
</pre></div>
</div>
<p>Specific function for <code class="docutils literal notranslate"><span class="pre">CHoldup</span></code>.</p>
<p>Sets mass of the holdup at the time point <code class="docutils literal notranslate"><span class="pre">Time</span></code>. Previously set negative values will be converted to <code class="docutils literal notranslate"><span class="pre">0</span></code>. If the time point <code class="docutils literal notranslate"><span class="pre">Time</span></code> has not been defined in the holdup, then the value will not be set.</p>
<p><code class="docutils literal notranslate"><span class="pre">Basis</span></code> is a basis of results (<code class="docutils literal notranslate"><span class="pre">BASIS_MASS</span></code> in [kg] or <code class="docutils literal notranslate"><span class="pre">BASIS_MOLL</span></code> in [mol]):</p>
<p><code class="docutils literal notranslate"><span class="pre">BASIS_MASS</span></code>: in this case you directly have your input <code class="docutils literal notranslate"><span class="pre">Value</span></code> as mass value: <span class="math notranslate nohighlight">\(m =\)</span> <code class="docutils literal notranslate"><span class="pre">Value</span></code> in [kg].</p>
<p><code class="docutils literal notranslate"><span class="pre">BASIS_MOLL</span></code>: in this case you have <code class="docutils literal notranslate"><span class="pre">Value</span></code> as mole amount and this should be converted to mass. <span class="math notranslate nohighlight">\(m =\)</span> <code class="docutils literal notranslate"><span class="pre">Value</span></code> <span class="math notranslate nohighlight">\(\cdot \sum\limits_i M_i \cdot w_i\)</span> in [mol], with <span class="math notranslate nohighlight">\(w_i\)</span> mass fraction of the phase <span class="math notranslate nohighlight">\(i\)</span>, and <span class="math notranslate nohighlight">\(M_i\)</span> molar mass of the phase <span class="math notranslate nohighlight">\(i\)</span>.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate" id="label-temp"><div class="highlight"><pre><span></span><span class="kt">double</span> <span class="n">GetTemperature</span><span class="p">(</span><span class="kt">double</span> <span class="n">Time</span><span class="p">)</span>
</pre></div>
</div>
<p>Function for both <code class="docutils literal notranslate"><span class="pre">CMaterialStream</span></code> and <code class="docutils literal notranslate"><span class="pre">CHoldup</span></code>.</p>
<p>Returns temperature of the material stream / holdup at the specified time point <code class="docutils literal notranslate"><span class="pre">Time</span></code> in [K]. If such time point has not been defined, interpolation of data will be done.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate" id="label-settemp"><div class="highlight"><pre><span></span><span class="kt">void</span> <span class="n">SetTemperature</span><span class="p">(</span><span class="kt">double</span> <span class="n">Time</span><span class="p">,</span> <span class="kt">double</span> <span class="n">Value</span><span class="p">)</span>
</pre></div>
</div>
<p>Function for both <code class="docutils literal notranslate"><span class="pre">CMaterialStream</span></code> and <code class="docutils literal notranslate"><span class="pre">CHoldup</span></code>.</p>
<p>Sets temperature of the material stream / holdup at the time point <code class="docutils literal notranslate"><span class="pre">Time</span></code> in [K]. Negative values before setting will be converted to <code class="docutils literal notranslate"><span class="pre">0</span></code>. If time the point <code class="docutils literal notranslate"><span class="pre">Time</span></code> has not been defined in the material stream / holdup, the value will not be set.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate" id="label-pressure"><div class="highlight"><pre><span></span><span class="kt">double</span> <span class="n">GetPressure</span><span class="p">(</span><span class="kt">double</span> <span class="n">Time</span><span class="p">)</span>
</pre></div>
</div>
<p>Function for both <code class="docutils literal notranslate"><span class="pre">CMaterialStream</span></code> and <code class="docutils literal notranslate"><span class="pre">CHoldup</span></code>.</p>
<p>Returns pressure of the material stream / holdup at the specified time point <code class="docutils literal notranslate"><span class="pre">Time</span></code> in [Pa]. If such time point has not been defined, interpolation of data will be done.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate" id="label-setpressure"><div class="highlight"><pre><span></span><span class="kt">void</span> <span class="n">SetPressure</span><span class="p">(</span><span class="kt">double</span> <span class="n">Time</span><span class="p">,</span> <span class="kt">double</span> <span class="n">Value</span><span class="p">)</span>
</pre></div>
</div>
<p>Function for both <code class="docutils literal notranslate"><span class="pre">CMaterialStream</span></code> and <code class="docutils literal notranslate"><span class="pre">CHoldup</span></code>.</p>
<p>Sets pressure of the material stream / holdup in the time point <code class="docutils literal notranslate"><span class="pre">Time</span></code> in [Pa]. Negative values before setting will be converted to <code class="docutils literal notranslate"><span class="pre">0</span></code>. If the time point <code class="docutils literal notranslate"><span class="pre">Time</span></code> has not been defined in the material stream / holdup, the value will not be set.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">double</span> <span class="n">GetOverallProperty</span><span class="p">(</span><span class="kt">double</span> <span class="n">Time</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="n">Property</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="n">Basis</span><span class="p">)</span>
</pre></div>
</div>
<p>Returns non-constant physical property value for the overall mixture at the specified time point <code class="docutils literal notranslate"><span class="pre">Time</span></code>. If such time point has not been defined, interpolation of data will be done.</p>
<p><code class="docutils literal notranslate"><span class="pre">Basis</span></code> is a basis of results (<code class="docutils literal notranslate"><span class="pre">BASIS_MASS</span></code> or <code class="docutils literal notranslate"><span class="pre">BASIS_MOLL</span></code>).</p>
<p><code class="docutils literal notranslate"><span class="pre">Property</span></code> is an identifier of a physical property. Available properties are:</p>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">FLOW</span></code> and <code class="docutils literal notranslate"><span class="pre">TOTAL_FLOW</span></code> for material stream <code class="docutils literal notranslate"><span class="pre">CMaterialStream</span></code>: refer to function <a class="reference internal" href="#label-massflow"><span class="std std-ref">getMassFlow</span></a>.</li>
<li><code class="docutils literal notranslate"><span class="pre">MASS</span></code> and <code class="docutils literal notranslate"><span class="pre">TOTAL_MASS</span></code> for holdup <code class="docutils literal notranslate"><span class="pre">CHoldup</span></code>: refer to function <a class="reference internal" href="#label-mass"><span class="std std-ref">getMass</span></a>.</li>
<li><code class="docutils literal notranslate"><span class="pre">TEMPERATURE</span></code>: refer to function <a class="reference internal" href="#label-temp"><span class="std std-ref">getTemperature</span></a>.</li>
<li><code class="docutils literal notranslate"><span class="pre">PRESSURE</span></code>: refer to function <a class="reference internal" href="#label-pressure"><span class="std std-ref">getPressure</span></a>.</li>
<li><code class="docutils literal notranslate"><span class="pre">MOLAR_MASS</span></code>: <span class="math notranslate nohighlight">\(\sum\limits_i M_i \cdot w_i\)</span>, with <span class="math notranslate nohighlight">\(M\)</span> molar mass of the total flow, <span class="math notranslate nohighlight">\(w_i\)</span> mass fraction of the phase <span class="math notranslate nohighlight">\(i\)</span>, and <span class="math notranslate nohighlight">\(M_i\)</span> molar mass of the phase <span class="math notranslate nohighlight">\(i\)</span>.</li>
<li><code class="docutils literal notranslate"><span class="pre">ENTHALPY</span></code>:<ul>
<li>Set <code class="docutils literal notranslate"><span class="pre">Basis</span></code> as <code class="docutils literal notranslate"><span class="pre">BASIS_MASS</span></code>: <span class="math notranslate nohighlight">\(\sum\limits_i H_i \cdot w_i\)</span>, with <span class="math notranslate nohighlight">\(H_i\)</span> the enthalpy of the phase <span class="math notranslate nohighlight">\(i\)</span>, and <span class="math notranslate nohighlight">\(w_i\)</span> the mass fraction of the phase <span class="math notranslate nohighlight">\(i\)</span>.</li>
<li>Set <code class="docutils literal notranslate"><span class="pre">Basis</span></code> as <code class="docutils literal notranslate"><span class="pre">BASIS_MOLL</span></code>: <span class="math notranslate nohighlight">\(\sum\limits_i H_i \cdot x_i\)</span>, with <span class="math notranslate nohighlight">\(H_i\)</span> the enthalpy of the phase <span class="math notranslate nohighlight">\(i\)</span>, and <span class="math notranslate nohighlight">\(x_i\)</span> the mole fraction of the phase <span class="math notranslate nohighlight">\(i\)</span>.</li>
</ul>
</li>
</ul>
</div></blockquote>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Definition of overall mixture properties:</p>
<table border="1" class="last docutils">
<colgroup>
<col width="21%" />
<col width="17%" />
<col width="62%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Define</th>
<th class="head">Name</th>
<th class="head">Units</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">FLOW</span></code>, <code class="docutils literal notranslate"><span class="pre">TOTAL_FLOW</span></code></td>
<td>Mass / mole flow</td>
<td>[kg/s] or  [mol/s]</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">MASS</span></code>, <code class="docutils literal notranslate"><span class="pre">TOTAL_MASS</span></code></td>
<td>Mass / mole</td>
<td>[kg] or [mol]</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">TEMPERATURE</span></code></td>
<td>Temperature</td>
<td>[K]</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">PRESSURE</span></code></td>
<td>Pressure</td>
<td>[Pa]</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">MOLAR_MASS</span></code></td>
<td>Molar mass</td>
<td>[kg/mol]</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">ENTHALPY</span></code></td>
<td>Enthalpy</td>
<td>[J/kg/s] or [J/mol/s] for material stream, [J/kg] or [J/mol] for holdup</td>
</tr>
</tbody>
</table>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">double</span> <span class="n">SetOverallProperty</span><span class="p">(</span><span class="kt">double</span> <span class="n">Time</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="n">Property</span><span class="p">,</span> <span class="kt">double</span> <span class="n">Value</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="n">Basis</span><span class="p">)</span>
</pre></div>
</div>
<p>Sets non-constant physical property value for the overall mixture at the specified time point <code class="docutils literal notranslate"><span class="pre">Time</span></code>.</p>
<p>Basis is a basis of the value (<code class="docutils literal notranslate"><span class="pre">BASIS_MASS</span></code> or <code class="docutils literal notranslate"><span class="pre">BASIS_MOLL</span></code>).</p>
<p><code class="docutils literal notranslate"><span class="pre">Property</span></code> is an identifier of a physical property. Available properties are:</p>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">FLOW</span></code> and <code class="docutils literal notranslate"><span class="pre">TOTAL_FLOW</span></code> for material stream <code class="docutils literal notranslate"><span class="pre">CMaterialStream</span></code>: refer to function <a class="reference internal" href="#label-setmassflow"><span class="std std-ref">setMassFlow</span></a>.</li>
<li><code class="docutils literal notranslate"><span class="pre">MASS</span></code> and <code class="docutils literal notranslate"><span class="pre">TOTAL_MASS</span></code> for holdup <code class="docutils literal notranslate"><span class="pre">CHoldup</span></code>: refer to function <a class="reference internal" href="#label-setmass"><span class="std std-ref">setMass</span></a>.</li>
<li><code class="docutils literal notranslate"><span class="pre">TEMPERATURE</span></code>: refer to function <a class="reference internal" href="#label-settemp"><span class="std std-ref">setTemperature</span></a>.</li>
<li><code class="docutils literal notranslate"><span class="pre">PRESSURE</span></code>: refer to function <a class="reference internal" href="#label-setpressure"><span class="std std-ref">setPressure</span></a>.</li>
</ul>
</div></blockquote>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Definition of overall mixture properties:</p>
<table border="1" class="last docutils">
<colgroup>
<col width="37%" />
<col width="28%" />
<col width="35%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Define</th>
<th class="head">Name</th>
<th class="head">Units</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">FLOW</span></code>, <code class="docutils literal notranslate"><span class="pre">TOTAL_FLOW</span></code></td>
<td>Mass / mole flow</td>
<td>[kg/s] or  [mol/s]</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">MASS</span></code>, <code class="docutils literal notranslate"><span class="pre">TOTAL_MASS</span></code></td>
<td>Mass / mole</td>
<td>[kg] or [mol]</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">TEMPERATURE</span></code></td>
<td>Temperature</td>
<td>[K]</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">PRESSURE</span></code></td>
<td>Pressure</td>
<td>[Pa]</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">MOLAR_MASS</span></code></td>
<td>Molar mass</td>
<td>[kg/mol]</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">ENTHALPY</span></code></td>
<td>Enthalpy</td>
<td>[J/kg/s] or [J/mol/s]</td>
</tr>
</tbody>
</table>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">double</span> <span class="n">CalcTemperatureFromProperty</span><span class="p">(</span><span class="n">ECompoundTPProperties</span> <span class="n">Property</span><span class="p">,</span> <span class="kt">double</span> <span class="n">Time</span><span class="p">,</span> <span class="kt">double</span> <span class="n">Value</span><span class="p">)</span>
</pre></div>
</div>
<p>Function for both <code class="docutils literal notranslate"><span class="pre">CMaterialStream</span></code> and <code class="docutils literal notranslate"><span class="pre">CHoldup</span></code>.</p>
<p>Returns temperature of the material stream / holdup for a specific value <code class="docutils literal notranslate"><span class="pre">Value</span></code> of the property <code class="docutils literal notranslate"><span class="pre">Property</span></code> at the time point <code class="docutils literal notranslate"><span class="pre">Time</span></code>. Available properties are those defined in <a class="reference internal" href="materials.html#label-materialdatadetailed"><span class="std std-ref">material database</span></a>.</p>
<p>For further information, please refer to <a class="reference internal" href="#label-thermo"><span class="std std-ref">Thermodynamics</span></a> on this page.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">double</span> <span class="n">CalcPressureFromProperty</span><span class="p">(</span><span class="n">ECompoundTPProperties</span> <span class="n">Property</span><span class="p">,</span> <span class="kt">double</span> <span class="n">Time</span><span class="p">,</span> <span class="kt">double</span> <span class="n">Value</span><span class="p">)</span>
</pre></div>
</div>
<p>Function for both <code class="docutils literal notranslate"><span class="pre">CMaterialStream</span></code> and <code class="docutils literal notranslate"><span class="pre">CHoldup</span></code>.</p>
<p>Returns pressure of the material stream / holdup for a specific value <code class="docutils literal notranslate"><span class="pre">Value</span></code> of the property <code class="docutils literal notranslate"><span class="pre">Property</span></code> at the time point <code class="docutils literal notranslate"><span class="pre">Time</span></code>. Available properties are those defined in <a class="reference internal" href="materials.html#label-materialdatadetailed"><span class="std std-ref">material database</span></a>.</p>
<p>For further information, please refer to <a class="reference internal" href="#label-thermo"><span class="std std-ref">Thermodynamics</span></a> on this page.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div>
<div class="section" id="id2">
<h3>Compounds<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">double</span> <span class="n">GetCompoundFraction</span><span class="p">(</span><span class="kt">double</span> <span class="n">Time</span> <span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">CompoundKey</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="n">Basis</span><span class="p">)</span>
</pre></div>
</div>
<p>Function for both <code class="docutils literal notranslate"><span class="pre">CMaterialStream</span></code> and <code class="docutils literal notranslate"><span class="pre">CHoldup</span></code>.</p>
<p>Returns total fraction of the compound with key <code class="docutils literal notranslate"><span class="pre">CompoundKey</span></code> at the time point <code class="docutils literal notranslate"><span class="pre">Time</span></code>. If such time point has not been defined, interpolation of data will be done.</p>
<p>Basis can be <code class="docutils literal notranslate"><span class="pre">BASIS_MASS</span></code> or <code class="docutils literal notranslate"><span class="pre">BASIS_MOLL</span></code>.</p>
<p><code class="docutils literal notranslate"><span class="pre">BASIS_MASS</span></code>: <span class="math notranslate nohighlight">\(f_i = \sum \limits_i w_i \cdot f_{i}\)</span>, with <span class="math notranslate nohighlight">\(f_i\)</span> the mass fraction of compound <span class="math notranslate nohighlight">\(i\)</span>, and <span class="math notranslate nohighlight">\(w_i\)</span> the mass fraction of phase <span class="math notranslate nohighlight">\(i\)</span>.</p>
<p><code class="docutils literal notranslate"><span class="pre">BASIS_MOLL</span></code>: <span class="math notranslate nohighlight">\(f_i^{mol} = \sum \limits_i w_i \dfrac{f_i}{M_i \cdot \sum\limits_j \frac{f_{i,j}}{M_j}}\)</span>, with <span class="math notranslate nohighlight">\(f_i^{mol}\)</span> the mole fraction of compound <span class="math notranslate nohighlight">\(i\)</span>, <span class="math notranslate nohighlight">\(f_{i,j}\)</span> the mass fraction of compound <span class="math notranslate nohighlight">\(j\)</span> in phase <span class="math notranslate nohighlight">\(i\)</span>, and <span class="math notranslate nohighlight">\(M_j\)</span> the molar mass of compound <span class="math notranslate nohighlight">\(j\)</span>.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">double</span> <span class="n">GetCompoundPhaseFraction</span><span class="p">(</span><span class="kt">double</span> <span class="n">Time</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">CompoundKey</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="n">Phase</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="n">Basis</span><span class="p">)</span>
</pre></div>
</div>
<p>Function for both <code class="docutils literal notranslate"><span class="pre">CMaterialStream</span></code> and <code class="docutils literal notranslate"><span class="pre">CHoldup</span></code>.</p>
<p>Returns fraction of the compound with the key <code class="docutils literal notranslate"><span class="pre">CompoundKey</span></code> in the phase <code class="docutils literal notranslate"><span class="pre">Phase</span></code> (<code class="docutils literal notranslate"><span class="pre">SOA_SOLID</span></code>, <code class="docutils literal notranslate"><span class="pre">SOA_LIQUID</span></code>, <code class="docutils literal notranslate"><span class="pre">SOA_VAPOR</span></code>) for the time point <code class="docutils literal notranslate"><span class="pre">Time</span></code>. If such time point has not been defined, interpolation of data will be done.</p>
<p>Basis can be <code class="docutils literal notranslate"><span class="pre">BASIS_MASS</span></code> or <code class="docutils literal notranslate"><span class="pre">BASIS_MOLL</span></code>.</p>
<p><code class="docutils literal notranslate"><span class="pre">BASIS_MASS</span></code>: <span class="math notranslate nohighlight">\(f_{i,j}\)</span>, mass fraction of compound <span class="math notranslate nohighlight">\(j\)</span> in phase <span class="math notranslate nohighlight">\(i\)</span>.</p>
<p><code class="docutils literal notranslate"><span class="pre">BASIS_MOLL</span></code>: <span class="math notranslate nohighlight">\(f_{i,j}^{mol} = \sum \limits_i w_i \dfrac{f_{i,j}}{M_i \cdot \sum\limits_j \frac{f_{i,j}}{M_j}}\)</span>, with <span class="math notranslate nohighlight">\(f_{i,j}^{mol}\)</span> the mole fraction of compound <span class="math notranslate nohighlight">\(j\)</span> in phase <span class="math notranslate nohighlight">\(i\)</span>, and <span class="math notranslate nohighlight">\(M_j\)</span> the molar mass of compound <span class="math notranslate nohighlight">\(j\)</span>.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span> <span class="n">SetCompoundPhaseFraction</span> <span class="p">(</span><span class="kt">double</span> <span class="n">Time</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">CompoundKey</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="n">Phase</span><span class="p">,</span> <span class="kt">double</span> <span class="n">Fraction</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="n">Basis</span><span class="p">)</span>
</pre></div>
</div>
<p>Function for both <code class="docutils literal notranslate"><span class="pre">CMaterialStream</span></code> and <code class="docutils literal notranslate"><span class="pre">CHoldup</span></code>.</p>
<p>Sets fraction of the compound with key <code class="docutils literal notranslate"><span class="pre">CompoundKey</span></code> in phase <code class="docutils literal notranslate"><span class="pre">Phase</span></code> (<code class="docutils literal notranslate"><span class="pre">SOA_SOLID</span></code>, <code class="docutils literal notranslate"><span class="pre">SOA_LIQUID</span></code>, <code class="docutils literal notranslate"><span class="pre">SOA_VAPOR</span></code>) for the time point <code class="docutils literal notranslate"><span class="pre">Time</span></code>. If such time point has not been defined, nothing will be done. Negative values before setting will be converted to <code class="docutils literal notranslate"><span class="pre">0</span></code>.</p>
<p>Basis can be <code class="docutils literal notranslate"><span class="pre">BASIS_MASS</span></code> or <code class="docutils literal notranslate"><span class="pre">BASIS_MOLL</span></code>.</p>
<p><code class="docutils literal notranslate"><span class="pre">BASIS_MASS</span></code>: in this case you have your input <code class="docutils literal notranslate"><span class="pre">Fraction</span></code> directly as mass fraction of compound <span class="math notranslate nohighlight">\(j\)</span> in phase <span class="math notranslate nohighlight">\(i\)</span>: <span class="math notranslate nohighlight">\(f_{i,j} =\)</span> <code class="docutils literal notranslate"><span class="pre">Fraction</span></code>.</p>
<p><code class="docutils literal notranslate"><span class="pre">BASIS_MOLL</span></code>: <span class="math notranslate nohighlight">\(f_{i,j} =\)</span> <code class="docutils literal notranslate"><span class="pre">Fraction</span></code> <span class="math notranslate nohighlight">\(\cdot \dfrac{M_i}{\sum\limits_j \frac{f_{i,j}}{M_j}}\)</span>, with <span class="math notranslate nohighlight">\(f_{i,j}^{mol}\)</span> the mole fraction of compound <span class="math notranslate nohighlight">\(j\)</span> in phase <span class="math notranslate nohighlight">\(i\)</span>, and <span class="math notranslate nohighlight">\(M_j\)</span> the molar mass of compound <span class="math notranslate nohighlight">\(j\)</span>.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">double</span> <span class="n">GetCompoundMassFlow</span><span class="p">(</span><span class="kt">double</span> <span class="n">Time</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">CompoundKey</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="n">Phase</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="n">Basis</span><span class="p">)</span>
</pre></div>
</div>
<p>Specific function for <code class="docutils literal notranslate"><span class="pre">CMaterialStream</span></code>.</p>
<p>Returns mass flow of the compound with key CompoundKey in phase Phase (<code class="docutils literal notranslate"><span class="pre">SOA_SOLID</span></code>, <code class="docutils literal notranslate"><span class="pre">SOA_LIQUID</span></code>, <code class="docutils literal notranslate"><span class="pre">SOA_VAPOR</span></code>) for the time point <code class="docutils literal notranslate"><span class="pre">Time</span></code>. If such time point has not been defined, interpolation of data will be done.</p>
<p>Basis is a basis of value (<code class="docutils literal notranslate"><span class="pre">BASIS_MASS</span></code> in [kg/s] or <code class="docutils literal notranslate"><span class="pre">BASIS_MOLL</span></code> in [mol/s]).</p>
<p><code class="docutils literal notranslate"><span class="pre">BASIS_MASS</span></code>: <span class="math notranslate nohighlight">\(\dot{m}_{i,j} = w_i \cdot f_{i,j} \cdot \dot{m}\)</span>, with <span class="math notranslate nohighlight">\(\dot m_{i,j}\)</span> the mass flow of compound <span class="math notranslate nohighlight">\(j\)</span> in phase <span class="math notranslate nohighlight">\(i\)</span>, <span class="math notranslate nohighlight">\(w_i\)</span> the mass fraction of phase <span class="math notranslate nohighlight">\(i\)</span>, and <span class="math notranslate nohighlight">\(f_{i,j}\)</span> the mass fraction of compound <span class="math notranslate nohighlight">\(j\)</span> in phase <span class="math notranslate nohighlight">\(i\)</span>.</p>
<p><code class="docutils literal notranslate"><span class="pre">BASIS_MOLL</span></code>: <span class="math notranslate nohighlight">\(\dot{m}_{i,j} = w_i \cdot f_{i,j} \cdot \sum\limits_k \dfrac{\dot{m} \cdot w_k}{M_k}\)</span>, with <span class="math notranslate nohighlight">\(\dot m\)</span> the total mass flow of the material stream, and <span class="math notranslate nohighlight">\(M_k\)</span> the molar mass of phase <span class="math notranslate nohighlight">\(k\)</span>.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">double</span> <span class="n">GetCompoundMass</span><span class="p">(</span><span class="kt">double</span> <span class="n">Time</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">CompoundKey</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="n">Phase</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="n">Basis</span><span class="p">)</span>
</pre></div>
</div>
<p>Specific function for <code class="docutils literal notranslate"><span class="pre">CHoldup</span></code>.</p>
<p>Returns mass of the compound with key CompoundKey in phase Phase (<code class="docutils literal notranslate"><span class="pre">SOA_SOLID</span></code>, <code class="docutils literal notranslate"><span class="pre">SOA_LIQUID</span></code>, <code class="docutils literal notranslate"><span class="pre">SOA_VAPOR</span></code>) for the time point <code class="docutils literal notranslate"><span class="pre">Time</span></code>. If such time point has not been defined, interpolation of data will be done.</p>
<p>Basis is a basis of value (<code class="docutils literal notranslate"><span class="pre">BASIS_MASS</span></code> in [kg] or <code class="docutils literal notranslate"><span class="pre">BASIS_MOLL</span></code> in [mol]).</p>
<p><code class="docutils literal notranslate"><span class="pre">BASIS_MASS</span></code>: <span class="math notranslate nohighlight">\(m_{i,j} = w_i \cdot f_{i,j} \cdot m\)</span>, with <span class="math notranslate nohighlight">\(m_{i,j}\)</span> the mass of compound <span class="math notranslate nohighlight">\(j\)</span> in phase <span class="math notranslate nohighlight">\(i\)</span>, <span class="math notranslate nohighlight">\(w_i\)</span> the mass fraction of phase <span class="math notranslate nohighlight">\(i\)</span>, and <span class="math notranslate nohighlight">\(f_{i,j}\)</span> the mass fraction of compound <span class="math notranslate nohighlight">\(j\)</span> in phase <span class="math notranslate nohighlight">\(i\)</span>.</p>
<p><code class="docutils literal notranslate"><span class="pre">BASIS_MOLL</span></code>: <span class="math notranslate nohighlight">\(m_{i,j} = w_i \cdot f_{i,j} \cdot \sum\limits_k \dfrac{m \cdot w_k}{M_k}\)</span>, with <span class="math notranslate nohighlight">\(m\)</span> the total mass of the holdup, and <span class="math notranslate nohighlight">\(M_k\)</span> the molar mass of phase <span class="math notranslate nohighlight">\(k\)</span>.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">double</span> <span class="n">GetCompoundConstant</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">CompoundKey</span><span class="p">,</span> <span class="n">ECompoundConstProperties</span> <span class="n">ConstProperty</span><span class="p">)</span>
</pre></div>
</div>
<p>Function for both <code class="docutils literal notranslate"><span class="pre">CMaterialStream</span></code> and <code class="docutils literal notranslate"><span class="pre">CHoldup</span></code>.</p>
<p>Returns value of the constant physical property <code class="docutils literal notranslate"><span class="pre">ConstProperty</span></code> for the specified compound. These properties are stored in <a class="reference internal" href="materials.html#label-materialdatadetailed"><span class="std std-ref">material database</span></a>. Available constants are:</p>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">SOA_AT_NORMAL_CONDITIONS</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">NORMAL_BOILING_POINT</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">NORMAL_FREEZING_POINT</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">CRITICAL_TEMPERATURE</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">CRITICAL_PRESSURE</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">MOLAR_MASS</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">STANDARD_FORMATION_ENTHALPY</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">HEAT_OF_FUSION_AT_NORMAL_FREEZING_POINT</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">HEAT_OF_VAPORIZATION_AT_NORMAL_BOILING_POINT</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">REACTIVITY_TYPE</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">CONST_PROP_USER_DEFINED_XX</span></code></li>
</ul>
</div></blockquote>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Definition of constant properties for pure compounds:</p>
<table border="1" class="last docutils">
<colgroup>
<col width="46%" />
<col width="43%" />
<col width="11%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Define</th>
<th class="head">Name</th>
<th class="head">Unit</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">SOA_AT_NORMAL_CONDITIONS</span></code></td>
<td>State of aggregation at normal conditions</td>
<td>[-]</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">NORMAL_BOILING_POINT</span></code></td>
<td>Normal boiling point</td>
<td>[K]</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">NORMAL_FREEZING_POINT</span></code></td>
<td>Normal freezing point</td>
<td>[K]</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">CRITICAL_TEMPERATURE</span></code></td>
<td>Critical temperature</td>
<td>[K]</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">CRITICAL_PRESSURE</span></code></td>
<td>Critical pressure</td>
<td>[Pa]</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">MOLAR_MASS</span></code></td>
<td>Molar mass</td>
<td>[kg/mol]</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">STANDARD_FORMATION_ENTHALPY</span></code></td>
<td>Standard formation enthalpy</td>
<td>[J/mol]</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">HEAT_OF_FUSION_AT_NORMAL_FREEZING_POINT</span></code></td>
<td>Heat of fusion at normal freezing point</td>
<td>[J/mol]</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">HEAT_OF_VAPORIZATION_AT_NORMAL_BOILING_POINT</span></code></td>
<td>Heat of vaporization at normal boiling point</td>
<td>[J/mol]</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">REACTIVITY_TYPE</span></code></td>
<td>Reactivity type</td>
<td>[-]</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">CONST_PROP_USER_DEFINED_XX</span></code></td>
<td>User defined property</td>
<td>[-]</td>
</tr>
</tbody>
</table>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">double</span> <span class="n">GetCompoundTPDProp</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">CompoundKey</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="n">Property</span><span class="p">,</span> <span class="kt">double</span> <span class="n">Temperature</span><span class="p">,</span> <span class="kt">double</span> <span class="n">Pressure</span><span class="p">)</span>
</pre></div>
</div>
<p>Function for both <code class="docutils literal notranslate"><span class="pre">CMaterialStream</span></code> and <code class="docutils literal notranslate"><span class="pre">CHoldup</span></code>.</p>
<p>Returns value of the temperature / pressure-dependent physical Property (which are stored in the database of materials) for the compound with the specified <code class="docutils literal notranslate"><span class="pre">Temperature</span></code> in [K] and <code class="docutils literal notranslate"><span class="pre">Pressure</span></code> in [Pa]. Available properties are:</p>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">DENSITY</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">HEAT_CAPACITY_CP</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">VAPOR_PRESSURE</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">VISCOSITY</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">THERMAL_CONDUCTIVITY</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">PERMITTIVITY</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">ENTHALPY</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">TP_PROP_USER_DEFINED_XX</span></code></li>
</ul>
</div></blockquote>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Definition of temperature-dependent compound properties:</p>
<table border="1" class="last docutils">
<colgroup>
<col width="23%" />
<col width="21%" />
<col width="56%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Define</th>
<th class="head">Name</th>
<th class="head">Unit</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">DENSITY</span></code></td>
<td>Density</td>
<td>[kg/m <span class="math notranslate nohighlight">\(^3\)</span>]</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">HEAT_CAPACITY_CP</span></code></td>
<td>Heat capacity <span class="math notranslate nohighlight">\(C_p\)</span></td>
<td>[J/(kg·K)]</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">VAPOR_PRESSURE</span></code></td>
<td>Vapor pressure</td>
<td>[Pa]</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">VISCOSITY</span></code></td>
<td>Viscosity</td>
<td>[Pa·s]</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">THERMAL_CONDUCTIVITY</span></code></td>
<td>Thermal conductivity</td>
<td>[W/(m·K)]</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">PERMITTIVITY</span></code></td>
<td>Permittivity</td>
<td>[F/m]</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">ENTHALPY</span></code></td>
<td>Enthalpy</td>
<td>[J/kg/s] or [J/mol/s] for material stream, [J/kg] or [J/mol] for holdup</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">TP_PROP_USER_DEFINED_XX</span></code></td>
<td>User defined property</td>
<td>[-]</td>
</tr>
</tbody>
</table>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">double</span> <span class="n">GetCompoundTPDProp</span><span class="p">(</span><span class="kt">double</span> <span class="n">Time</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">CompoundKey</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="n">Property</span><span class="p">)</span>
</pre></div>
</div>
<p>Function for both <code class="docutils literal notranslate"><span class="pre">CMaterialStream</span></code> and <code class="docutils literal notranslate"><span class="pre">CHoldup</span></code>.</p>
<p>Returns value of the temperature / pressure-dependent physical <code class="docutils literal notranslate"><span class="pre">Property</span></code> (which are stored in the database of materials) for the compound with the current temperature and pressure. Available properties are:</p>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">DENSITY</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">HEAT_CAPACITY_CP</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">VAPOR_PRESSURE</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">VISCOSITY</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">THERMAL_CONDUCTIVITY</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">PERMITTIVITY</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">ENTHALPY</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">TP_PROP_USER_DEFINED_XX</span></code></li>
</ul>
</div></blockquote>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Definition of temperature-dependent compound properties:</p>
<table border="1" class="last docutils">
<colgroup>
<col width="23%" />
<col width="21%" />
<col width="56%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Define</th>
<th class="head">Name</th>
<th class="head">Unit</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">DENSITY</span></code></td>
<td>Density</td>
<td>[kg/m <span class="math notranslate nohighlight">\(^3\)</span>]</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">HEAT_CAPACITY_CP</span></code></td>
<td>Heat capacity <span class="math notranslate nohighlight">\(C_p\)</span></td>
<td>[J/(kg·K)]</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">VAPOR_PRESSURE</span></code></td>
<td>Vapor pressure</td>
<td>[Pa]</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">VISCOSITY</span></code></td>
<td>Viscosity</td>
<td>[Pa·s]</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">THERMAL_CONDUCTIVITY</span></code></td>
<td>Thermal conductivity</td>
<td>[W/(m·K)]</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">PERMITTIVITY</span></code></td>
<td>Permittivity</td>
<td>[F/m]</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">ENTHALPY</span></code></td>
<td>Enthalpy</td>
<td>[J/kg/s] or [J/mol/s] for material stream, [J/kg] or [J/mol] for holdup</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">TP_PROP_USER_DEFINED_XX</span></code></td>
<td>User defined property</td>
<td>[-]</td>
</tr>
</tbody>
</table>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">double</span> <span class="n">GetCompoundInteractionProp</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">CompoundKey1</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">CompoundKey2</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="n">Property</span><span class="p">,</span> <span class="kt">double</span> <span class="n">Temperature</span><span class="p">,</span> <span class="kt">double</span> <span class="n">Pressure</span><span class="p">)</span>
</pre></div>
</div>
<p>Function for both <code class="docutils literal notranslate"><span class="pre">CMaterialStream</span></code> and <code class="docutils literal notranslate"><span class="pre">CHoldup</span></code>.</p>
<p>Returns the value of the interaction property <code class="docutils literal notranslate"><span class="pre">Property</span></code> for the selected compounds under the specified <code class="docutils literal notranslate"><span class="pre">Temperature</span></code> in [K] and <code class="docutils literal notranslate"><span class="pre">Pressure</span></code> in [Pa]. These properties are stored in the <a class="reference internal" href="materials.html#label-materialdatadetailed"><span class="std std-ref">material database</span></a>. Available properties are:</p>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">INTERFACE_TENSION</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">INT_PROP_USER_DEFINED_XX</span></code></li>
</ul>
</div></blockquote>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Definition of interaction properties between two pure compounds:</p>
<table border="1" class="last docutils">
<colgroup>
<col width="48%" />
<col width="38%" />
<col width="14%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Define</th>
<th class="head">Name</th>
<th class="head">Unit</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">INTERFACE_TENSION</span></code></td>
<td>Interface tension</td>
<td>[N/m]</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">INT_PROP_USER_DEFINED_XX</span></code></td>
<td>User defined property</td>
<td>[-]</td>
</tr>
</tbody>
</table>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">double</span> <span class="n">GetCompoundInteractionProp</span><span class="p">(</span><span class="kt">double</span> <span class="n">Time</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">CompoundKey1</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">CompoundKey2</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="n">Property</span><span class="p">)</span>
</pre></div>
</div>
<p>Function for both <code class="docutils literal notranslate"><span class="pre">CMaterialStream</span></code> and <code class="docutils literal notranslate"><span class="pre">CHoldup</span></code>.</p>
<p>Returns the value of the interaction property <code class="docutils literal notranslate"><span class="pre">Property</span></code> for the selected compounds under the current temperature and pressure. These properties are stored in the <a class="reference internal" href="materials.html#label-materialdatadetailed"><span class="std std-ref">material database</span></a>. Available properties are:</p>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">INTERFACE_TENSION</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">INT_PROP_USER_DEFINED_XX</span></code></li>
</ul>
</div></blockquote>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Definition of interaction properties between two pure compounds:</p>
<table border="1" class="last docutils">
<colgroup>
<col width="48%" />
<col width="38%" />
<col width="14%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Define</th>
<th class="head">Name</th>
<th class="head">Unit</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">INTERFACE_TENSION</span></code></td>
<td>Interface tension</td>
<td>[N/m]</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">INT_PROP_USER_DEFINED_XX</span></code></td>
<td>User defined property</td>
<td>[-]</td>
</tr>
</tbody>
</table>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div>
<div class="section" id="id3">
<h3>Phases<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">double</span> <span class="n">GetPhaseMassFlow</span><span class="p">(</span><span class="kt">double</span> <span class="n">Time</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="n">Phase</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="n">Basis</span> <span class="o">=</span> <span class="n">BASIS_MASS</span><span class="p">)</span>
</pre></div>
</div>
<p>Specific function for <code class="docutils literal notranslate"><span class="pre">CMaterialStream</span></code>.</p>
<p>Returns mass flow of the specified phase <code class="docutils literal notranslate"><span class="pre">Phase</span></code> (<code class="docutils literal notranslate"><span class="pre">SOA_SOLID</span></code>, <code class="docutils literal notranslate"><span class="pre">SOA_LIQUID</span></code>, <code class="docutils literal notranslate"><span class="pre">SOA_VAPOR</span></code>) in the material stream for the time point <code class="docutils literal notranslate"><span class="pre">Time</span></code>. If such time point has not been defined, the value will be interpolated.</p>
<p>Basis is a basis of value (<code class="docutils literal notranslate"><span class="pre">BASIS_MASS</span></code> in [kg/s] or <code class="docutils literal notranslate"><span class="pre">BASIS_MOLL</span></code> in [mol/s]).</p>
<p><code class="docutils literal notranslate"><span class="pre">BASIS_MASS</span></code>: <span class="math notranslate nohighlight">\(\dot{m}_i = \dot{m} \cdot w_i\)</span>, with <span class="math notranslate nohighlight">\(\dot{m}_i\)</span> the mass flow of phase <span class="math notranslate nohighlight">\(i\)</span>, <span class="math notranslate nohighlight">\(w_i\)</span> the mass fraction of phase <span class="math notranslate nohighlight">\(i\)</span>, and <span class="math notranslate nohighlight">\(\dot{m}\)</span> the total mass flow of the material stream.</p>
<p><code class="docutils literal notranslate"><span class="pre">BASIS_MOLL</span></code>: <span class="math notranslate nohighlight">\(\dot{n}_i = \dfrac{\dot{m} \cdot w_i}{M_i}\)</span>, with <span class="math notranslate nohighlight">\(\dot{n}_i\)</span> the mole flow of phase <span class="math notranslate nohighlight">\(i\)</span>, <span class="math notranslate nohighlight">\(w_i\)</span> the mass fraction of phase <span class="math notranslate nohighlight">\(i\)</span>, <span class="math notranslate nohighlight">\(\dot{m}\)</span> the total mass flow of the material stream, and <span class="math notranslate nohighlight">\(M_i\)</span> the molar mass of phase <span class="math notranslate nohighlight">\(i\)</span>.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">double</span> <span class="n">GetPhaseMass</span><span class="p">(</span><span class="kt">double</span> <span class="n">Time</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="n">Phase</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="n">Basis</span> <span class="o">=</span> <span class="n">BASIS_MASS</span><span class="p">)</span>
</pre></div>
</div>
<p>Specific function for <code class="docutils literal notranslate"><span class="pre">CHoldup</span></code>.</p>
<p>Returns mass of the specified phase <code class="docutils literal notranslate"><span class="pre">Phase</span></code> (<code class="docutils literal notranslate"><span class="pre">SOA_SOLID</span></code>, <code class="docutils literal notranslate"><span class="pre">SOA_LIQUID</span></code>, <code class="docutils literal notranslate"><span class="pre">SOA_VAPOR</span></code>) in the holdup for the time point <code class="docutils literal notranslate"><span class="pre">Time</span></code>. If such time point has not been defined, the value will be interpolated.</p>
<p>Basis is a basis of value (<code class="docutils literal notranslate"><span class="pre">BASIS_MASS</span></code> in [kg] or <code class="docutils literal notranslate"><span class="pre">BASIS_MOLL</span></code> in [mol]).</p>
<p><code class="docutils literal notranslate"><span class="pre">BASIS_MASS</span></code>: <span class="math notranslate nohighlight">\(m_i = m \cdot w_i\)</span>, with <span class="math notranslate nohighlight">\(m_i\)</span> the mass of phase <span class="math notranslate nohighlight">\(i\)</span>, <span class="math notranslate nohighlight">\(w_i\)</span> the mass fraction of phase <span class="math notranslate nohighlight">\(i\)</span>, and <span class="math notranslate nohighlight">\(m\)</span> the total mass flow of the material stream.</p>
<p><code class="docutils literal notranslate"><span class="pre">BASIS_MOLL</span></code>: <span class="math notranslate nohighlight">\(n_i = \dfrac{m \cdot w_i}{M_i}\)</span>, with <span class="math notranslate nohighlight">\(n_i\)</span> the mole of phase <span class="math notranslate nohighlight">\(i\)</span>, <span class="math notranslate nohighlight">\(w_i\)</span> the mass fraction of phase <span class="math notranslate nohighlight">\(i\)</span>, <span class="math notranslate nohighlight">\(m\)</span> the total mass flow of the material stream, and <span class="math notranslate nohighlight">\(M_i\)</span> the molar mass of phase <span class="math notranslate nohighlight">\(i\)</span>.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate" id="label-setphasemassflow"><div class="highlight"><pre><span></span><span class="kt">void</span> <span class="n">SetPhaseMassFlow</span><span class="p">(</span><span class="kt">double</span> <span class="n">Time</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="n">Phase</span><span class="p">,</span> <span class="kt">double</span> <span class="n">Value</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="n">Basis</span><span class="p">)</span>
</pre></div>
</div>
<p>Specific function for <code class="docutils literal notranslate"><span class="pre">CMaterialStream</span></code>.</p>
<p>Sets mass flow of the specified phase <code class="docutils literal notranslate"><span class="pre">Phase</span></code> (<code class="docutils literal notranslate"><span class="pre">SOA_SOLID</span></code>, <code class="docutils literal notranslate"><span class="pre">SOA_LIQUID</span></code>, <code class="docutils literal notranslate"><span class="pre">SOA_VAPOR</span></code>) in the material stream for the time point <code class="docutils literal notranslate"><span class="pre">Time</span></code>.</p>
<p>Is performed by calculation and setting of a new total mass flow of the material stream and new phase fractions (according to the new mass flow of the specified phase). Negative values before setting will be converted to <code class="docutils literal notranslate"><span class="pre">0</span></code>. If there is no specified time point or phase in the material stream, the value will not be set.</p>
<p>Basis is a basis of value (<code class="docutils literal notranslate"><span class="pre">BASIS_MASS</span></code> in [kg/s] or <code class="docutils literal notranslate"><span class="pre">BASIS_MOLL</span></code> in [mol/s]).</p>
<p><code class="docutils literal notranslate"><span class="pre">BASIS_MASS</span></code>: in this case you have your input <code class="docutils literal notranslate"><span class="pre">Value</span></code> as mass flow of one defined phase: <span class="math notranslate nohighlight">\(\dot m_i =\)</span> <code class="docutils literal notranslate"><span class="pre">Value</span></code> and <span class="math notranslate nohighlight">\(w_i = \dot m_i / \dot m\)</span>. Meanwhile, the total mass flow <span class="math notranslate nohighlight">\(\dot m\)</span> changes due to assignment for <span class="math notranslate nohighlight">\(\dot m_i\)</span>: <span class="math notranslate nohighlight">\(\dot m = \dot m_{old} + (\)</span> <code class="docutils literal notranslate"><span class="pre">Value</span></code> <span class="math notranslate nohighlight">\(- \dot{m}_{i,old})\)</span>. Here <span class="math notranslate nohighlight">\(\dot{m}_i\)</span> stands for the mass flow of phase <span class="math notranslate nohighlight">\(i\)</span>, <span class="math notranslate nohighlight">\(w_i\)</span> for the mass fraction of phase <span class="math notranslate nohighlight">\(i\)</span>, and <span class="math notranslate nohighlight">\(\dot{m}\)</span> for the total mass flow of the material stream.</p>
<p><code class="docutils literal notranslate"><span class="pre">BASIS_MOLL</span></code>: in this case you have your input <code class="docutils literal notranslate"><span class="pre">Value</span></code> as mole flow of one defined phase: <span class="math notranslate nohighlight">\(\dot m_i =\)</span> <code class="docutils literal notranslate"><span class="pre">Value</span></code> <span class="math notranslate nohighlight">\(\cdot M_i \)</span>. Meanwhile, the total mass flow <span class="math notranslate nohighlight">\(\dot m\)</span> changes due to assignment for <span class="math notranslate nohighlight">\(\dot m_i\)</span>: <span class="math notranslate nohighlight">\(\dot m = \dot m_{old} + (\)</span> <code class="docutils literal notranslate"><span class="pre">Value</span></code> <span class="math notranslate nohighlight">\(\cdot M_i - \dot{m}_{i,old})\)</span>. Here <span class="math notranslate nohighlight">\(w_i\)</span> stands for the mass fraction of phase <span class="math notranslate nohighlight">\(i\)</span>, <span class="math notranslate nohighlight">\(\dot{m}\)</span> for the total mass flow of the material stream, and <span class="math notranslate nohighlight">\(M_i\)</span> for the molar mass of phase <span class="math notranslate nohighlight">\(i\)</span>.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate" id="label-setphasemass"><div class="highlight"><pre><span></span><span class="kt">void</span> <span class="n">SetPhaseMass</span><span class="p">(</span><span class="kt">double</span> <span class="n">Time</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="n">Phase</span><span class="p">,</span> <span class="kt">double</span> <span class="n">Value</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="n">Basis</span><span class="p">)</span>
</pre></div>
</div>
<p>Specific function for <code class="docutils literal notranslate"><span class="pre">CHoldup</span></code>.</p>
<p>Sets mass of the specified phase <code class="docutils literal notranslate"><span class="pre">Phase</span></code> (<code class="docutils literal notranslate"><span class="pre">SOA_SOLID</span></code>, <code class="docutils literal notranslate"><span class="pre">SOA_LIQUID</span></code>, <code class="docutils literal notranslate"><span class="pre">SOA_VAPOR</span></code>) in the holdup for the time point <code class="docutils literal notranslate"><span class="pre">Time</span></code>.</p>
<p>Is performed by calculation and setting of a new total mass flow of the holdup and new phase fractions (according to the new mass of the specified phase). Negative values before setting will be converted to <code class="docutils literal notranslate"><span class="pre">0</span></code>. If there is no specified time point or phase in the holdup, the value will not be set.</p>
<p>Basis is a basis of value (<code class="docutils literal notranslate"><span class="pre">BASIS_MASS</span></code> in [kg] or <code class="docutils literal notranslate"><span class="pre">BASIS_MOLL</span></code> in [mol]).</p>
<p><code class="docutils literal notranslate"><span class="pre">BASIS_MASS</span></code>: in this case you have your input <code class="docutils literal notranslate"><span class="pre">Value</span></code> as the mass of one defined phase: <span class="math notranslate nohighlight">\(m_i =\)</span> <code class="docutils literal notranslate"><span class="pre">Value</span></code> and <span class="math notranslate nohighlight">\(w_i = m_i / m\)</span>. Meanwhile, the total mass <span class="math notranslate nohighlight">\(m\)</span> changes due to assignment for <span class="math notranslate nohighlight">\(m_i\)</span>: <span class="math notranslate nohighlight">\(\dot m = \dot m_{old} + (\)</span> <code class="docutils literal notranslate"><span class="pre">Value</span></code> <span class="math notranslate nohighlight">\(- \dot{m}_{i,old})\)</span>. Here <span class="math notranslate nohighlight">\(m_i\)</span> stands for the mass of phase <span class="math notranslate nohighlight">\(i\)</span>, <span class="math notranslate nohighlight">\(w_i\)</span> for the mass fraction of phase <span class="math notranslate nohighlight">\(i\)</span>, and <span class="math notranslate nohighlight">\(m\)</span> for the total mass of the holdup.</p>
<p><code class="docutils literal notranslate"><span class="pre">BASIS_MOLL</span></code>: in this case you have your input <code class="docutils literal notranslate"><span class="pre">Value</span></code> as mole flow of one defined phase: <span class="math notranslate nohighlight">\(m_i = \)</span> <span class="math notranslate nohighlight">\(\cdot M_i\)</span> , <span class="math notranslate nohighlight">\(w_i = m_i / m\)</span>. Meanwhile, the total mass <span class="math notranslate nohighlight">\(m\)</span> changes due to assignment for <span class="math notranslate nohighlight">\(m_i\)</span>: <span class="math notranslate nohighlight">\(m = m_{old} + (\)</span> <code class="docutils literal notranslate"><span class="pre">Value</span></code> <span class="math notranslate nohighlight">\(\cdot M_i - m_{i,old})\)</span>. Here <span class="math notranslate nohighlight">\(m_i\)</span> stands for the mass of phase <span class="math notranslate nohighlight">\(i\)</span>, <span class="math notranslate nohighlight">\(w_i\)</span> for the mass fraction of phase <span class="math notranslate nohighlight">\(i\)</span>, <span class="math notranslate nohighlight">\(m\)</span> for the total mass of the holdup, and <span class="math notranslate nohighlight">\(M_i\)</span> for the molar mass of phase <span class="math notranslate nohighlight">\(i\)</span>.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">double</span> <span class="n">GetSinglePhaseProp</span><span class="p">(</span><span class="kt">double</span> <span class="n">Time</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="n">Property</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="n">Phase</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="n">Basis</span><span class="p">)</span>
</pre></div>
</div>
<p>Function for both <code class="docutils literal notranslate"><span class="pre">CMaterialStream</span></code> and <code class="docutils literal notranslate"><span class="pre">CHoldup</span></code>.</p>
<p>Returns non-constant physical property value for the phase mixture <code class="docutils literal notranslate"><span class="pre">Phase</span></code> (<code class="docutils literal notranslate"><span class="pre">SOA_SOLID</span></code>, <code class="docutils literal notranslate"><span class="pre">SOA_LIQUID</span></code>, <code class="docutils literal notranslate"><span class="pre">SOA_VAPOR</span></code>) for the specified time point. If such time point has not been defined, interpolation of data will be done.</p>
<p>Basis is a basis of results (<code class="docutils literal notranslate"><span class="pre">BASIS_MASS</span></code> or <code class="docutils literal notranslate"><span class="pre">BASIS_MOLL</span></code>).</p>
<p><code class="docutils literal notranslate"><span class="pre">Property</span></code> is an identifier of a physical property. Available properties are:</p>
<blockquote>
<div><ul>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">FLOW</span></code>: only for class <code class="docutils literal notranslate"><span class="pre">CMaterialStream</span></code>. Refer to function <a class="reference internal" href="#label-massflow"><span class="std std-ref">getMassFlow</span></a>.</p>
</li>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">MASS</span></code>: only for class <code class="docutils literal notranslate"><span class="pre">CHoldup</span></code>. Refer to function <a class="reference internal" href="#label-mass"><span class="std std-ref">getMass</span></a>.</p>
</li>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">TEMPERATURE</span></code>: refer to function <a class="reference internal" href="#label-temp"><span class="std std-ref">getTemperature</span></a>.</p>
</li>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">PRESSURE</span></code>: refer to function <a class="reference internal" href="#label-pressure"><span class="std std-ref">getPressure</span></a>.</p>
</li>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">PHASE_FRACTION</span></code>, <code class="docutils literal notranslate"><span class="pre">FRACTION</span></code>:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">BASIS_MASS</span></code>: function returns <span class="math notranslate nohighlight">\(w_i\)</span>, mass fraction of phase <span class="math notranslate nohighlight">\(i\)</span>.</li>
<li><code class="docutils literal notranslate"><span class="pre">BASIS_MOLL</span></code>: function returns result of <span class="math notranslate nohighlight">\(\left ( \dfrac{w_i}{M_i \cdot \sum\limits_j \frac{w_j}{M_j}} \right )\)</span>, with <span class="math notranslate nohighlight">\(w_i\)</span> the mass fraction of phase <span class="math notranslate nohighlight">\(i\)</span>, and <span class="math notranslate nohighlight">\(M_i\)</span> the molar mass of phase <span class="math notranslate nohighlight">\(i\)</span>.</li>
</ul>
</li>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">MOLAR_MASS</span></code>: calculate the molar mass of the phase <span class="math notranslate nohighlight">\(M\)</span> by <span class="math notranslate nohighlight">\(\left ( \frac{1}{M} = \sum\limits_i \frac{w_i}{M_i} \right )\)</span>, with <span class="math notranslate nohighlight">\(M_i\)</span> the molar mass of phase <span class="math notranslate nohighlight">\(i\)</span>, and <span class="math notranslate nohighlight">\(w_i\)</span> the mass fraction of phase <span class="math notranslate nohighlight">\(i\)</span>.</p>
</li>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">DENSITY</span></code>: refer to function <a class="reference internal" href="#label-getphasetpd"><span class="std std-ref">getPhaseTPDProp</span></a>.</p>
</li>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">HEAT_CAPACITY_CP</span></code>: refer to function <a class="reference internal" href="#label-getphasetpd"><span class="std std-ref">getPhaseTPDProp</span></a>.</p>
</li>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">THERMAL_CONDUCTIVITY</span></code>: refer to function <a class="reference internal" href="#label-getphasetpd"><span class="std std-ref">getPhaseTPDProp</span></a>.</p>
</li>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">VISCOSITY</span></code>: refer to function <a class="reference internal" href="#label-getphasetpd"><span class="std std-ref">getPhaseTPDProp</span></a>.</p>
</li>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">VAPOR_PRESSURE</span></code>: refer to function <a class="reference internal" href="#label-getphasetpd"><span class="std std-ref">getPhaseTPDProp</span></a>.</p>
</li>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">PERMITTIVITY</span></code>: refer to function <a class="reference internal" href="#label-getphasetpd"><span class="std std-ref">getPhaseTPDProp</span></a>.</p>
</li>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">TP_PROP_USER_DEFINED_XX</span></code>: refer to function <a class="reference internal" href="#label-getphasetpd"><span class="std std-ref">getPhaseTPDProp</span></a>.</p>
</li>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">ENTHALPY</span></code>:</p>
<p>For solid and liquid phase: <span class="math notranslate nohighlight">\(h = h_0 + C_p \cdot \Delta T + \frac{M}{\rho} (P - P_0)\)</span></p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">BASIS_MASS</span></code>: <span class="math notranslate nohighlight">\(H = \sum\limits_i \frac{h_i \cdot f_i}{M_i}\)</span></li>
<li><code class="docutils literal notranslate"><span class="pre">BASIS_MOLL</span></code>: <span class="math notranslate nohighlight">\(H = \sum\limits_i h_i \cdot f_i\)</span></li>
</ul>
<p>For vapor phase: <span class="math notranslate nohighlight">\(h = h_0 + C_p \cdot \Delta T\)</span></p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">BASIS_MASS</span></code>: <span class="math notranslate nohighlight">\(H = \sum\limits_i \frac{h_i \cdot f_i}{M_i}\)</span></li>
<li><code class="docutils literal notranslate"><span class="pre">BASIS_MOLL</span></code>: <span class="math notranslate nohighlight">\(H = \sum\limits_i h_i \cdot f_i\)</span></li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Notations for enthalpy:</p>
<p><span class="math notranslate nohighlight">\(H\)</span> – enthalpy of the phase. [J/kg/s] or [J/mol/s] for material stream; [J/kg] or [J/mol] for holdup</p>
<p><span class="math notranslate nohighlight">\(h_i\)</span> – enthalpy of the compound <span class="math notranslate nohighlight">\(i\)</span> [J/mol]</p>
<p><span class="math notranslate nohighlight">\(f_i\)</span> – mass fraction of the compound <span class="math notranslate nohighlight">\(i\)</span> in phase</p>
<p><span class="math notranslate nohighlight">\(M_i\)</span> – molar mass of the compound <span class="math notranslate nohighlight">\(i\)</span></p>
<p><span class="math notranslate nohighlight">\(h_0\)</span> – formation enthalpy [J/mol]</p>
<p><span class="math notranslate nohighlight">\(C_p\)</span> – heat capacity for constant pressure of the compound</p>
<p><span class="math notranslate nohighlight">\(\Delta T\)</span> – difference between the temperature at normal conditions (298.15 K) and current temperature</p>
<p><span class="math notranslate nohighlight">\(P\)</span> – current pressure</p>
<p class="last"><span class="math notranslate nohighlight">\(P_0\)</span> – pressure at normal conditions (101325 Pa)</p>
</div>
</li>
</ul>
</div></blockquote>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Definition of single-phase mixture properties:</p>
<table border="1" class="last docutils">
<colgroup>
<col width="26%" />
<col width="21%" />
<col width="53%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Define</th>
<th class="head">Name</th>
<th class="head">Unit</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">FLOW</span></code></td>
<td>Mass flow</td>
<td>[kg/s] or [mol/s]</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">MASS</span></code></td>
<td>Mass</td>
<td>[kg] or [mol]</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">TEMPERATURE</span></code></td>
<td>Temperature</td>
<td>[K]</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">PRESSURE</span></code></td>
<td>Pressure</td>
<td>[Pa]</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">PHASE_FRACTION</span></code>, <code class="docutils literal notranslate"><span class="pre">FRACTION</span></code></td>
<td>Phase fraction</td>
<td>[-]</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">MOLAR_MASS</span></code></td>
<td>Molar mass</td>
<td>[kg/mol]</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">DENSITY</span></code></td>
<td>Density</td>
<td>[kg/m <span class="math notranslate nohighlight">\(^3\)</span>]</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">HEAT_CAPACITY_CP</span></code></td>
<td>Heat capacity <span class="math notranslate nohighlight">\(C_p\)</span></td>
<td>[J/(kg·K)]</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">THERMAL_CONDUCTIVITY</span></code></td>
<td>Thermal conductivity</td>
<td>[W/(m·K)]</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">VISCOSITY</span></code></td>
<td>Viscosity</td>
<td>[Pa·s]</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">VAPOR_PRESSURE</span></code></td>
<td>Vapor pressure</td>
<td>[Pa]</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">ENTHALPY</span></code></td>
<td>Enthalpy</td>
<td>[J/kg/s]or [J/mol/s] for material stream, [J/kg] or [J/mol] for holdup</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">PERMITTIVITY</span></code></td>
<td>Permittivity</td>
<td>[F/m]</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">TP_PROP_USER_DEFINED_XX</span></code></td>
<td>User defined property</td>
<td>[-]</td>
</tr>
</tbody>
</table>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span> <span class="n">SetSinglePhaseProp</span><span class="p">(</span><span class="kt">double</span> <span class="n">Time</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="n">Property</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="n">Phase</span><span class="p">,</span> <span class="kt">double</span> <span class="n">Value</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="n">Basis</span><span class="p">)</span>
</pre></div>
</div>
<p>Function for both <code class="docutils literal notranslate"><span class="pre">CMaterialStream</span></code> and <code class="docutils literal notranslate"><span class="pre">CHoldup</span></code>.</p>
<p>Sets non-constant physical property value for phase mixture <code class="docutils literal notranslate"><span class="pre">Phase</span></code> (<code class="docutils literal notranslate"><span class="pre">SOA_SOLID</span></code>, <code class="docutils literal notranslate"><span class="pre">SOA_LIQUID</span></code>, <code class="docutils literal notranslate"><span class="pre">SOA_VAPOR</span></code>) for the specified time point <code class="docutils literal notranslate"><span class="pre">Time</span></code>. If there is no specified time point or phase in the material stream or holdup, the value will not be set.</p>
<p><code class="docutils literal notranslate"><span class="pre">Property</span></code> is an identifier of a physical property. Available properties are:</p>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">FLOW</span></code>: only for class <code class="docutils literal notranslate"><span class="pre">CMaterialStream</span></code>. Refer to function <a class="reference internal" href="#label-setphasemassflow"><span class="std std-ref">setPhaseMassFlow</span></a>.</li>
<li><code class="docutils literal notranslate"><span class="pre">MASS</span></code>: only for class <code class="docutils literal notranslate"><span class="pre">CHoldup</span></code>. Refer to function <a class="reference internal" href="#label-setphasemass"><span class="std std-ref">setPhaseMass</span></a>.</li>
<li><code class="docutils literal notranslate"><span class="pre">FRACTION</span></code>: mass fraction of the <code class="docutils literal notranslate"><span class="pre">Phase</span></code> is set to <code class="docutils literal notranslate"><span class="pre">Value</span></code>.</li>
</ul>
</div></blockquote>
<p>Basis is a basis of value (<code class="docutils literal notranslate"><span class="pre">BASIS_MASS</span></code> or <code class="docutils literal notranslate"><span class="pre">BASIS_MOLL</span></code>).</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate" id="label-getphasetpd"><div class="highlight"><pre><span></span><span class="kt">double</span> <span class="n">GetPhaseTPDProp</span><span class="p">(</span><span class="kt">double</span> <span class="n">Time</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="n">Property</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="n">Phase</span><span class="p">)</span>
</pre></div>
</div>
<p>Function for both <code class="docutils literal notranslate"><span class="pre">CMaterialStream</span></code> and <code class="docutils literal notranslate"><span class="pre">CHoldup</span></code>.</p>
<p>Returns value of temperature / pressure-dependent physical property for specified phase (<code class="docutils literal notranslate"><span class="pre">SOA_SOLID</span></code>, <code class="docutils literal notranslate"><span class="pre">SOA_LIQUID</span></code>, <code class="docutils literal notranslate"><span class="pre">SOA_VAPOR</span></code>) for the time point <code class="docutils literal notranslate"><span class="pre">Time</span></code>. If such time point has not been defined, interpolation of data will be done.</p>
<p>Available properties are:</p>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">DENSITY</span></code>:<ul>
<li>For solid phase: is calculated by <span class="math notranslate nohighlight">\(\rho = \sum\limits_{i,j} \rho_i \, (1 - \varepsilon_j)\,f_{i,j}\)</span>, with <span class="math notranslate nohighlight">\(\varepsilon_j\)</span> the porosity in interval <span class="math notranslate nohighlight">\(j\)</span>, and <span class="math notranslate nohighlight">\(f_{i,j}\)</span> the mass fraction of compound <span class="math notranslate nohighlight">\(i\)</span> with porosity <span class="math notranslate nohighlight">\(j\)</span>.</li>
<li>For liquid and vapor phase: is calculated by <span class="math notranslate nohighlight">\(\frac{1}{\rho} = \sum\limits_i \frac{w_i}{\rho_i}\)</span>, with <span class="math notranslate nohighlight">\(w_i\)</span> the mass fraction of compound <span class="math notranslate nohighlight">\(i\)</span> in <code class="docutils literal notranslate"><span class="pre">Phase</span></code>.</li>
</ul>
</li>
<li><code class="docutils literal notranslate"><span class="pre">HEAT_CAPACITY_CP</span></code>: is calculated by <span class="math notranslate nohighlight">\(C_p = \sum\limits_i w_i \cdot C_{p,i}\)</span>, with <span class="math notranslate nohighlight">\(C_{p,i}\)</span> the heat capacity of compound <span class="math notranslate nohighlight">\(i\)</span>, and <span class="math notranslate nohighlight">\(w_i\)</span> the mass fraction of compound <span class="math notranslate nohighlight">\(i\)</span> in <code class="docutils literal notranslate"><span class="pre">Phase</span></code>.</li>
<li><code class="docutils literal notranslate"><span class="pre">VAPOR_PRESSURE</span></code>: is calculated by <span class="math notranslate nohighlight">\(P_v = \min\limits_{i} (P_v)_i\)</span>, with <span class="math notranslate nohighlight">\((P_v)_i\)</span> vapor pressure of compound <span class="math notranslate nohighlight">\(i\)</span>.</li>
<li><code class="docutils literal notranslate"><span class="pre">VISCOSITY</span></code>:<ul>
<li>For solid phase: is calculated by <span class="math notranslate nohighlight">\(\eta = \sum\limits_i w_i\, \eta_i\)</span>, with <span class="math notranslate nohighlight">\(\eta_i\)</span> the viscosity of compound <span class="math notranslate nohighlight">\(i\)</span>, and <span class="math notranslate nohighlight">\(w_i\)</span> the mass fraction of compound <span class="math notranslate nohighlight">\(i\)</span>.</li>
<li>For liquid phase: is calculated by <span class="math notranslate nohighlight">\(\ln \eta = \dfrac{\sum\limits_i w_i\,\ln \eta_i}{\sum\limits_i x_i\,\sqrt{M_i}}\)</span>, with <span class="math notranslate nohighlight">\(\eta_i\)</span> the viscosity of compound <span class="math notranslate nohighlight">\(i\)</span>, <span class="math notranslate nohighlight">\(w_i\)</span> the mass fraction of compound <span class="math notranslate nohighlight">\(i\)</span> in <cite>Phase</cite> and <span class="math notranslate nohighlight">\(x_i\)</span> the mole fraction of compound <span class="math notranslate nohighlight">\(i\)</span> in <code class="docutils literal notranslate"><span class="pre">Phase</span></code>.</li>
<li>For vapor phase: <span class="math notranslate nohighlight">\(\eta = \dfrac{\sum\limits_i x_i\,\sqrt{M_i}\,\eta_i}{\sum\limits_i x_i\,\sqrt{M_i}}\)</span>, with <span class="math notranslate nohighlight">\(\eta_i\)</span> the viscosity of compound <span class="math notranslate nohighlight">\(i\)</span>, <span class="math notranslate nohighlight">\(w_i\)</span> the mass fraction of compound <span class="math notranslate nohighlight">\(i\)</span> in <cite>Phase</cite>, and <span class="math notranslate nohighlight">\(x_i\)</span> the mole fraction of compound <span class="math notranslate nohighlight">\(i\)</span> in <code class="docutils literal notranslate"><span class="pre">Phase</span></code>.</li>
</ul>
</li>
<li><code class="docutils literal notranslate"><span class="pre">THERMAL_CONDUCTIVITY</span></code>:<ul>
<li>For solid phase: is calculated by <span class="math notranslate nohighlight">\(\lambda = \sum\limits_i w_i \, \lambda_i\)</span>, with <span class="math notranslate nohighlight">\(\lambda_i\)</span> the thermal conductivity of compound <span class="math notranslate nohighlight">\(i\)</span>.</li>
<li>For liquid phase: is calculated by <span class="math notranslate nohighlight">\(\lambda = \dfrac{1}{\sqrt{\sum\limits_i x_i \, \lambda_i^{-2}}}\)</span>, with <span class="math notranslate nohighlight">\(\lambda_i\)</span> the thermal conductivity of compound <span class="math notranslate nohighlight">\(i\)</span>.</li>
<li>For vapor phase: is calculated by <span class="math notranslate nohighlight">\(\lambda = \sum\limits_i \dfrac{x_i\,\lambda_i}{\sum\limits_j x_j\, F_{i,j}}\)</span>, <span class="math notranslate nohighlight">\(F_{i,j} = \frac{(1 + \sqrt{\lambda_i^4 / \lambda_j} \sqrt{M_j / M_i})^2}{\sqrt{8(1 + M_i / M_j)}}\)</span>. With <span class="math notranslate nohighlight">\(M_i\)</span> the molar mass of compound <span class="math notranslate nohighlight">\(i\)</span>.</li>
</ul>
</li>
<li><code class="docutils literal notranslate"><span class="pre">PERMITTIVITY</span></code>: is calculated by <span class="math notranslate nohighlight">\(\varepsilon = \sum\limits_i w_i\,\varepsilon_i\)</span>, with <span class="math notranslate nohighlight">\(\varepsilon_i\)</span> the permittivity of compound <span class="math notranslate nohighlight">\(i\)</span>, and <span class="math notranslate nohighlight">\(w_i\)</span> the mass fraction of compound <span class="math notranslate nohighlight">\(i\)</span> in <code class="docutils literal notranslate"><span class="pre">Phase</span></code>.</li>
<li><code class="docutils literal notranslate"><span class="pre">ENTHALPY</span></code>: is calculated by <span class="math notranslate nohighlight">\(H = \sum\limits_i w_i\,H_i\)</span>, with <span class="math notranslate nohighlight">\(H_i\)</span> the enthalpy of compound <span class="math notranslate nohighlight">\(i\)</span>, and <span class="math notranslate nohighlight">\(w_i\)</span> the mass fraction of compound <span class="math notranslate nohighlight">\(i\)</span> in <code class="docutils literal notranslate"><span class="pre">Phase</span></code>.</li>
<li><code class="docutils literal notranslate"><span class="pre">TP_PROP_USER_DEFINED_XX</span></code>: is calculated by <span class="math notranslate nohighlight">\(Y = \sum\limits_i w_i\,Y_i\)</span>, with <span class="math notranslate nohighlight">\(Y_i\)</span> the property value of compound <span class="math notranslate nohighlight">\(i\)</span>, and <span class="math notranslate nohighlight">\(w_i\)</span> the mass fraction of compound <span class="math notranslate nohighlight">\(i\)</span> in <code class="docutils literal notranslate"><span class="pre">Phase</span></code>.</li>
</ul>
</div></blockquote>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Definition of temperature-dependent compound properties:</p>
<table border="1" class="last docutils">
<colgroup>
<col width="23%" />
<col width="21%" />
<col width="56%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Define</th>
<th class="head">Name</th>
<th class="head">Unit</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">DENSITY</span></code></td>
<td>Density</td>
<td>[kg/m <span class="math notranslate nohighlight">\(^3\)</span>]</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">HEAT_CAPACITY_CP</span></code></td>
<td>Heat capacity <span class="math notranslate nohighlight">\(C_p\)</span></td>
<td>[J/(kg·K)]</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">VAPOR_PRESSURE</span></code></td>
<td>Vapor pressure</td>
<td>[Pa]</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">VISCOSITY</span></code></td>
<td>Viscosity</td>
<td>[Pa·s]</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">THERMAL_CONDUCTIVITY</span></code></td>
<td>Thermal conductivity</td>
<td>[W/(m·K)]</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">PERMITTIVITY</span></code></td>
<td>Permittivity</td>
<td>[F/m]</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">ENTHALPY</span></code></td>
<td>Enthalpy</td>
<td>[J/kg/s] or [J/mol/s] for material stream, [J/kg] or [J/mol] for holdup</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">TP_PROP_USER_DEFINED_XX</span></code></td>
<td>User defined property</td>
<td>[-]</td>
</tr>
</tbody>
</table>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div>
<div class="section" id="id4">
<h3>Solid distributed properties<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h3>
<p>All functions in this section are for both <code class="docutils literal notranslate"><span class="pre">CMaterialStream</span></code> and <code class="docutils literal notranslate"><span class="pre">CHoldup</span></code>.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">double</span> <span class="n">GetFraction</span><span class="p">(</span><span class="kt">double</span> <span class="n">Time</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">unsigned</span><span class="o">&gt;</span> <span class="n">Coords</span><span class="p">)</span>
</pre></div>
</div>
<p>Returns solid mass fraction by specified coordinates according to all defined distributions. If such time point has not been defined, interpolation of data will be done.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span> <span class="n">SetFraction</span><span class="p">(</span><span class="kt">double</span> <span class="n">Time</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">unsigned</span><span class="o">&gt;</span> <span class="n">Coords</span><span class="p">,</span> <span class="kt">double</span> <span class="n">Value</span><span class="p">)</span>
</pre></div>
</div>
<p>Sets solid mass fraction by specified coordinates according to all defined distributions. If such time point has not been defined in the material stream / holdup, nothing will be done.</p>
<p>Direct setting of fractions to the material stream / holdup leads to a change of all dependent distributions. Approach with transformation matrix should be used to avoid this.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">bool</span> <span class="n">GetDistribution</span><span class="p">(</span><span class="kt">double</span> <span class="n">Time</span><span class="p">,</span> <span class="n">EDistrTypes</span> <span class="n">Dim</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;&amp;</span> <span class="n">Result</span><span class="p">)</span>
</pre></div>
</div>
<p>Returns vector of distributed property for specified time point <code class="docutils literal notranslate"><span class="pre">Time</span></code> and dimension <code class="docutils literal notranslate"><span class="pre">Dim</span></code>. If such time point has not been defined in the material stream / holdup, then linear interpolation will be used to obtain data.</p>
<p>Returns <code class="docutils literal notranslate"><span class="pre">false</span></code> on error.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">bool</span> <span class="n">GetDistribution</span><span class="p">(</span><span class="kt">double</span> <span class="n">Time</span><span class="p">,</span> <span class="n">EDistrTypes</span> <span class="n">Dim1</span><span class="p">,</span> <span class="n">EDistrTypes</span> <span class="n">Dim2</span><span class="p">,</span> <span class="n">CDense2DMatrix</span><span class="o">&amp;</span> <span class="n">Result</span><span class="p">)</span>
</pre></div>
</div>
<p>Returns matrix of two distributed dependent properties <code class="docutils literal notranslate"><span class="pre">Dim1</span></code> and <code class="docutils literal notranslate"><span class="pre">Dim2</span></code> for the specified time point <code class="docutils literal notranslate"><span class="pre">Time</span></code>.</p>
<p>If such time point has not been defined in the material stream / holdup, then linear interpolation will be used to obtain data. Rows of resulting matrix will correspond to <code class="docutils literal notranslate"><span class="pre">Dim1</span></code>, columns – to <code class="docutils literal notranslate"><span class="pre">Dim2</span></code>.</p>
<p>Returns <code class="docutils literal notranslate"><span class="pre">false</span></code> on error.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">bool</span> <span class="n">GetDistribution</span><span class="p">(</span><span class="kt">double</span> <span class="n">Time</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">EDistrTypes</span><span class="o">&gt;</span> <span class="n">Dims</span><span class="p">,</span> <span class="n">CDenseMDMatrix</span><span class="o">&amp;</span> <span class="n">Result</span><span class="p">)</span>
</pre></div>
</div>
<p>Returns multidimensional matrix of distributed dependent properties for specified time point <code class="docutils literal notranslate"><span class="pre">Time</span></code> and dimensions <code class="docutils literal notranslate"><span class="pre">Dims</span></code>. If such time point has not been defined in the material stream / holdup, then linear interpolation will be used to obtain data.</p>
<p>Returns <code class="docutils literal notranslate"><span class="pre">false</span></code> on error.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">bool</span> <span class="n">GetDistribution</span><span class="p">(</span><span class="kt">double</span> <span class="n">Time</span><span class="p">,</span> <span class="n">EDistrTypes</span> <span class="n">Dim</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">Compound</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;&amp;</span> <span class="n">Result</span><span class="p">)</span>
</pre></div>
</div>
<p>Returns vector of distributed property for specified time point <code class="docutils literal notranslate"><span class="pre">Time</span></code>, dimension <code class="docutils literal notranslate"><span class="pre">Dim</span></code> and compound <code class="docutils literal notranslate"><span class="pre">Compound</span></code>.</p>
<p>Input dimensions should not include distribution by compounds (<code class="docutils literal notranslate"><span class="pre">DISTR_COMPOUNDS</span></code>). If specified compound has not been defined in the material stream / holdup, nothing will be done. If specified time point has not been defined, then linear interpolation will be used to obtain data.</p>
<p>Returns <code class="docutils literal notranslate"><span class="pre">false</span></code> on error.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">bool</span> <span class="n">GetDistribution</span><span class="p">(</span><span class="kt">double</span> <span class="n">Time</span><span class="p">,</span> <span class="n">EDistrTypes</span> <span class="n">Dim1</span><span class="p">,</span> <span class="n">EDistrTypes</span> <span class="n">Dim2</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">Compound</span><span class="p">,</span> <span class="n">CDense2DMatrix</span><span class="o">&amp;</span> <span class="mi">2</span><span class="n">DResult</span><span class="p">)</span>
</pre></div>
</div>
<p>Returns matrix of two distributed dependent properties <code class="docutils literal notranslate"><span class="pre">Dim1</span></code> and <code class="docutils literal notranslate"><span class="pre">Dim2</span></code> for specified compound <code class="docutils literal notranslate"><span class="pre">Compound</span></code> and time point <code class="docutils literal notranslate"><span class="pre">Time</span></code>.</p>
<p>Input dimensions should not include distribution by compounds (<code class="docutils literal notranslate"><span class="pre">DISTR_COMPOUNDS</span></code>). If specified compound has not been defined in the material stream / holdup, nothing will be done. If specified time point has not been defined, then linear interpolation will be used to obtain data. Rows of resulting matrix will correspond to <code class="docutils literal notranslate"><span class="pre">Dim1</span></code>, columns to <code class="docutils literal notranslate"><span class="pre">Dim2</span></code>.</p>
<p>Returns <code class="docutils literal notranslate"><span class="pre">false</span></code> on error.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">bool</span> <span class="n">GetDistribution</span><span class="p">(</span><span class="kt">double</span> <span class="n">Time</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">EDistrTypes</span><span class="o">&gt;</span> <span class="n">Dims</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">Compound</span><span class="p">,</span> <span class="n">CDenseMDMatrix</span><span class="o">&amp;</span> <span class="n">MDResult</span><span class="p">)</span>
</pre></div>
</div>
<p>Returns multidimensional matrix of distributed dependent properties for specified time point <code class="docutils literal notranslate"><span class="pre">Time</span></code>, dimensions <code class="docutils literal notranslate"><span class="pre">Dims</span></code> and compound <code class="docutils literal notranslate"><span class="pre">Compound</span></code>.</p>
<p>Input dimensions should not include distribution by compounds (<code class="docutils literal notranslate"><span class="pre">DISTR_COMPOUNDS</span></code>). If specified compound has not been defined in the material stream / holdup, nothing will be done. If specified time point has not been defined, then linear interpolation will be used to obtain data.</p>
<p>Returns <code class="docutils literal notranslate"><span class="pre">false</span></code> on error.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">bool</span> <span class="n">SetDistribution</span><span class="p">(</span><span class="kt">double</span> <span class="n">Time</span><span class="p">,</span> <span class="n">EDistrTypes</span> <span class="n">Dim</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span> <span class="n">Distr</span><span class="p">)</span>
</pre></div>
</div>
<p>Sets distributed property <code class="docutils literal notranslate"><span class="pre">Distr</span></code> of type <code class="docutils literal notranslate"><span class="pre">Dim</span></code> for specified time point <code class="docutils literal notranslate"><span class="pre">Time</span></code>.</p>
<p>If such time point or dimension doesn’t exist, nothing will be done. Returns <code class="docutils literal notranslate"><span class="pre">false</span></code> on error.</p>
<p>Direct setting of distribution to the material stream / holdup leads to a change of all dependent distributions. Approach with transformation matrix should be used to avoid this.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">bool</span> <span class="n">SetDistribution</span><span class="p">(</span><span class="kt">double</span> <span class="n">Time</span><span class="p">,</span> <span class="n">EDistrTypes</span> <span class="n">Dim1</span><span class="p">,</span> <span class="n">EDistrTypes</span> <span class="n">Dim2</span><span class="p">,</span> <span class="n">CDense2DMatrixDistr</span><span class="p">)</span>
</pre></div>
</div>
<p>Sets matrix <code class="docutils literal notranslate"><span class="pre">Distr</span></code> of two dependent distributed properties of types <code class="docutils literal notranslate"><span class="pre">Dim1</span></code> and <code class="docutils literal notranslate"><span class="pre">Dim2</span></code> for specified time point <code class="docutils literal notranslate"><span class="pre">Time</span></code>. If such time point or dimensions don’t exist nothing will be done.</p>
<p>Returns <code class="docutils literal notranslate"><span class="pre">false</span></code> on error.</p>
<p>Direct setting of distribution to the material stream / holdup leads to a change of all dependent distributions. Approach with transformation matrix should be used to avoid this.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">bool</span> <span class="n">SetDistribution</span><span class="p">(</span><span class="kt">double</span> <span class="n">Time</span><span class="p">,</span>  <span class="n">CDenseMDMatrix</span> <span class="n">Distr</span><span class="p">)</span>
</pre></div>
</div>
<p>Sets multidimensional matrix <code class="docutils literal notranslate"><span class="pre">Distr</span></code> of dependent distributed properties for specified time point <code class="docutils literal notranslate"><span class="pre">Time</span></code>. If such time point or dimensions, which are specified in <code class="docutils literal notranslate"><span class="pre">Distr</span></code>, don’t exist, nothing will be done.</p>
<p>Returns <code class="docutils literal notranslate"><span class="pre">false</span></code> on error.</p>
<p>Direct setting of distribution to the material stream / holdup leads to a change of all dependent distributions. Approach with transformation matrix should be used to avoid this.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">bool</span> <span class="n">SetDistribution</span><span class="p">(</span><span class="kt">double</span> <span class="n">Time</span><span class="p">,</span> <span class="n">EDistrTypes</span> <span class="n">Dim</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">Compound</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span> <span class="n">Distr</span><span class="p">)</span>
</pre></div>
</div>
<p>Sets distributed property <code class="docutils literal notranslate"><span class="pre">Distr</span></code> of type <code class="docutils literal notranslate"><span class="pre">Dim</span></code> for specified compound <code class="docutils literal notranslate"><span class="pre">Compound</span></code> and time point <code class="docutils literal notranslate"><span class="pre">Time</span></code>. If such time point, compound or dimension doesn’t exist, nothing will be done. Input dimensions should not include distribution by compounds (<code class="docutils literal notranslate"><span class="pre">DISTR_COMPOUNDS</span></code>).</p>
<p>Returns <code class="docutils literal notranslate"><span class="pre">false</span></code> on error.</p>
<p>Direct setting of distribution to the holdup leads to a change of all dependent distributions. Approach with transformation matrix should be used to avoid this.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">bool</span> <span class="n">SetDistribution</span><span class="p">(</span><span class="kt">double</span> <span class="n">Time</span><span class="p">,</span> <span class="n">EDistrTypes</span> <span class="n">Dim1</span><span class="p">,</span> <span class="n">EDistrTypes</span> <span class="n">Dim2</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">Compound</span><span class="p">,</span> <span class="n">CDense2DMatrix</span> <span class="mi">2</span><span class="n">DDistr</span><span class="p">)</span>
</pre></div>
</div>
<p>Sets matrix <code class="docutils literal notranslate"><span class="pre">2DDistr</span></code> of two dependent distributed properties of types <code class="docutils literal notranslate"><span class="pre">Dim1</span></code> and <code class="docutils literal notranslate"><span class="pre">Dim2</span></code> for specified compound <code class="docutils literal notranslate"><span class="pre">Compound</span></code> and time point <code class="docutils literal notranslate"><span class="pre">Time</span></code>. If such time point, compound or dimensions don’t exist, nothing will be done. Input dimensions should not include distribution by compounds (<code class="docutils literal notranslate"><span class="pre">DISTR_COMPOUNDS</span></code>).</p>
<p>Returns <code class="docutils literal notranslate"><span class="pre">false</span></code> on error.</p>
<p>Direct setting of distribution to the holdup leads to a change of all dependent distributions. Approach with transformation matrix should be used to avoid this.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">bool</span> <span class="n">SetDistribution</span><span class="p">(</span><span class="kt">double</span> <span class="n">Time</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">Compound</span><span class="p">,</span> <span class="n">CDenseMDMatrix</span> <span class="n">MDDistr</span><span class="p">)</span>
</pre></div>
</div>
<p>Sets multidimensional matrix <code class="docutils literal notranslate"><span class="pre">MDDistr</span></code> of dependent distributed properties for specified compound <code class="docutils literal notranslate"><span class="pre">Compound</span></code> and time point <code class="docutils literal notranslate"><span class="pre">Time</span></code>. If such time point, compound or dimensions, which are specified in <code class="docutils literal notranslate"><span class="pre">MDDistr</span></code>, don’t exist, nothing will be done. Input dimensions should not include distribution by compounds (<code class="docutils literal notranslate"><span class="pre">DISTR_COMPOUNDS</span></code>).</p>
<p>Returns <code class="docutils literal notranslate"><span class="pre">false</span></code> on error.</p>
<p>Direct setting of distribution to the holdup leads to a change of all dependent distributions. Approach with transformation matrix should be used to avoid this.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">bool</span> <span class="n">ApplyTM</span><span class="p">(</span><span class="kt">double</span> <span class="n">Time</span><span class="p">,</span> <span class="n">CTransformMatrix</span> <span class="n">Transformation</span><span class="p">)</span>
</pre></div>
</div>
<p>Transforms matrix of distributed parameters of solids for time point <code class="docutils literal notranslate"><span class="pre">Time</span></code> by applying a movement matrix <code class="docutils literal notranslate"><span class="pre">Transformation</span></code>. Returns <code class="docutils literal notranslate"><span class="pre">true</span></code> if the transformation was successful.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">bool</span> <span class="n">ApplyTM</span> <span class="p">(</span><span class="kt">double</span> <span class="n">Time</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">Compound</span><span class="p">,</span> <span class="n">CTransformMatrix</span> <span class="n">Transformation</span><span class="p">)</span>
</pre></div>
</div>
<p>Transforms matrix of distributed parameters of solids for specified compound <code class="docutils literal notranslate"><span class="pre">Compound</span></code> and time point <code class="docutils literal notranslate"><span class="pre">Time</span></code> by applying a movement matrix <code class="docutils literal notranslate"><span class="pre">Transformation</span></code>. Dimensions of transformation matrix should not include distribution by compounds (<code class="docutils literal notranslate"><span class="pre">DISTR_COMPOUNDS</span></code>). Returns <code class="docutils literal notranslate"><span class="pre">true</span></code> if the transformation was successful.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span> <span class="n">NormalizeDistribution</span><span class="p">(</span><span class="kt">double</span> <span class="n">Time</span><span class="p">)</span>
</pre></div>
</div>
<p>Normalizes data in solid distribution matrix at the specified time point <code class="docutils literal notranslate"><span class="pre">Time</span></code>. If <code class="docutils literal notranslate"><span class="pre">Time</span></code> has not been defined, nothing will be done.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span> <span class="n">NormalizeDistribution</span><span class="p">(</span><span class="kt">double</span> <span class="n">Start</span><span class="p">,</span> <span class="kt">double</span> <span class="n">End</span><span class="p">)</span>
</pre></div>
</div>
<p>Normalizes data in solid distribution matrix in each time point from interval [<code class="docutils literal notranslate"><span class="pre">Start</span></code>; <code class="docutils literal notranslate"><span class="pre">End</span></code>].</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span> <span class="n">NormalizeDistribution</span><span class="p">()</span>
</pre></div>
</div>
<p>Normalizes data in solid distribution matrix in all defined time points.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div>
<div class="section" id="praticle-size-distribution">
<h3>Praticle size distribution<a class="headerlink" href="#praticle-size-distribution" title="Permalink to this headline">¶</a></h3>
<p>All functions in this section are for both <code class="docutils literal notranslate"><span class="pre">CMaterialStream</span></code> and <code class="docutils literal notranslate"><span class="pre">CHoldup</span></code>.</p>
<div class="highlight-cpp notranslate" id="label-getpsd"><div class="highlight"><pre><span></span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span> <span class="n">GetPSD</span><span class="p">(</span><span class="kt">double</span> <span class="n">Time</span><span class="p">,</span> <span class="n">EPSDType</span> <span class="n">PSDType</span><span class="p">,</span> <span class="n">EPSDGridType</span> <span class="n">PSDGridType</span><span class="p">)</span>
</pre></div>
</div>
<p>Returns particle size distribution of the total mixture of the solid phase at the time point <code class="docutils literal notranslate"><span class="pre">Time</span></code>.</p>
<p><code class="docutils literal notranslate"><span class="pre">PSDGridType</span></code> defines grid units if needed: <code class="docutils literal notranslate"><span class="pre">EPSDGridType::DIAMETER</span></code> for diameter in [m]; or <code class="docutils literal notranslate"><span class="pre">EPSDGridType::VOLUME</span></code> for volume in [m <span class="math notranslate nohighlight">\(^3\)</span>].</p>
<p><code class="docutils literal notranslate"><span class="pre">PSDType</span></code> is a type of distribution. Available types are: <code class="docutils literal notranslate"><span class="pre">PSD_q0</span></code>, <code class="docutils literal notranslate"><span class="pre">PSD_Q0</span></code>, <code class="docutils literal notranslate"><span class="pre">PSD_q2</span></code>, <code class="docutils literal notranslate"><span class="pre">PSD_Q2</span></code>, <code class="docutils literal notranslate"><span class="pre">PSD_q3</span></code>, <code class="docutils literal notranslate"><span class="pre">PSD_Q3</span></code>, <code class="docutils literal notranslate"><span class="pre">PSD_MassFrac</span></code>, <code class="docutils literal notranslate"><span class="pre">PSD_Number</span></code>.</p>
<p>PSD data is originally stored in a form of mass fractions and all transformations are performed by the following equations:</p>
<ul>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">PSD_q0</span></code>: number-related distribution of particles: <span class="math notranslate nohighlight">\(q_{0,i} = \dfrac{N_i}{N_{tot} \cdot \Delta d_i}\)</span>;</p>
</li>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">PSD_Q0</span></code>: <span class="math notranslate nohighlight">\(Q_{0,i} = Q_{0,i-1} + q_{0,i} \cdot \Delta d_i\)</span></p>
</li>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">PSD_q2</span></code>: surface-area-related distribution of particles: <span class="math notranslate nohighlight">\(q_{2,i} = \dfrac{Q_{2,i} - Q_{2,i-1}}{\Delta d_i}\)</span></p>
</li>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">PSD_Q2</span></code>: <span class="math notranslate nohighlight">\(Q_{3,i} = \dfrac{\sum\limits_{j=0}^i N_j\,\pi\,d_j^2}{\sum\limits_j N_j \,\pi d_j^2}\)</span></p>
</li>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">PSD_q3</span></code>: <span class="math notranslate nohighlight">\(q_{3,i} = w_i / \Delta d_i\)</span></p>
</li>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">PSD_Q3</span></code>: <span class="math notranslate nohighlight">\(Q_{3,0} = w_0\)</span>, <span class="math notranslate nohighlight">\(Q_{3,i} = Q_{3,i-1} + w_i\)</span></p>
</li>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">PSD_MassFrac</span></code>: returns the size distribution in the form of mass fractions with the total sum of 1.</p>
</li>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">PSD_Number</span></code>: obtains number-related distribution of particles depends on several conditions. Three cases of calculation can be distinguished:</p>
<blockquote>
<div><ol class="arabic simple">
<li>If only one compound is specified: <span class="math notranslate nohighlight">\(N_i = \dfrac{m_i}{\rho \, \frac{\pi}{6}\, d_i^3}\)</span>.</li>
<li>For several compounds: <span class="math notranslate nohighlight">\(N_i = \sum\limits_j \dfrac{M_{tot} \cdot w_{i,j}}{\frac{\pi \cdot d_i^3}{6} \cdot \rho_j}\)</span>.</li>
</ol>
<p>3. If distribution by particle porosity has been defined: <span class="math notranslate nohighlight">\(N_i = \sum\limits_j N_{i,j}\)</span>, with
<span class="math notranslate nohighlight">\(N_{i,j} = \sum\limits_k \dfrac{M_{tot} \cdot w_{i,j,k}}{\frac{\pi \cdot d_i^3}{6} \cdot \rho_j \cdot (1 - \varepsilon_k)}\)</span>.</p>
</div></blockquote>
</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Notations:</p>
<p><span class="math notranslate nohighlight">\(i\)</span> – index of size classes</p>
<p><span class="math notranslate nohighlight">\(j\)</span> – index of compounds</p>
<p><span class="math notranslate nohighlight">\(k\)</span> – index of porosities</p>
<p><span class="math notranslate nohighlight">\(d_i\)</span> – particle diameter of class <span class="math notranslate nohighlight">\(i\)</span></p>
<p><span class="math notranslate nohighlight">\(\Delta d_i\)</span> – size of the class <span class="math notranslate nohighlight">\(i\)</span></p>
<p><span class="math notranslate nohighlight">\(m_i\)</span> – mass of particles of class <span class="math notranslate nohighlight">\(i\)</span></p>
<p><span class="math notranslate nohighlight">\(M_{tot}\)</span> – total mass of particles</p>
<p><span class="math notranslate nohighlight">\(N_i\)</span> – number of particles of class <span class="math notranslate nohighlight">\(i\)</span></p>
<p><span class="math notranslate nohighlight">\(N_{i,j}\)</span> – number of particles of compound <span class="math notranslate nohighlight">\(j\)</span> with size class <span class="math notranslate nohighlight">\(i\)</span></p>
<p><span class="math notranslate nohighlight">\(N_{tot}\)</span> – total number of particles</p>
<p><span class="math notranslate nohighlight">\(w_i\)</span> – mass fraction of particles of class <span class="math notranslate nohighlight">\(i\)</span></p>
<p><span class="math notranslate nohighlight">\(w_{i,j}\)</span> – mass fraction of particles of compound <span class="math notranslate nohighlight">\(j\)</span> with size class <span class="math notranslate nohighlight">\(i\)</span></p>
<p><span class="math notranslate nohighlight">\(w_{i,j,k}\)</span> – mass fraction of particles of compound <span class="math notranslate nohighlight">\(j\)</span> with size class <span class="math notranslate nohighlight">\(i\)</span> and porosity <span class="math notranslate nohighlight">\(k\)</span></p>
<p><span class="math notranslate nohighlight">\(\rho_j\)</span> – density of compound <span class="math notranslate nohighlight">\(j\)</span></p>
<p><span class="math notranslate nohighlight">\(\varepsilon_k\)</span> – porosity of class <span class="math notranslate nohighlight">\(k\)</span></p>
<p><span class="math notranslate nohighlight">\(q_0\)</span> – number-related density distribution</p>
<p><span class="math notranslate nohighlight">\(Q_0\)</span> – number-related cumulative distribution</p>
<p><span class="math notranslate nohighlight">\(q_2\)</span> – surface-area-related density distribution</p>
<p><span class="math notranslate nohighlight">\(Q_2\)</span> – surface-area-related cumulative distribution</p>
<p><span class="math notranslate nohighlight">\(q_3\)</span> – mass-related density distribution</p>
<p class="last"><span class="math notranslate nohighlight">\(Q_3\)</span> – mass-related cumulative distribution</p>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span> <span class="n">GetPSD</span><span class="p">(</span><span class="kt">double</span> <span class="n">Time</span><span class="p">,</span> <span class="n">EPSDType</span> <span class="n">PSDType</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">Compound</span><span class="p">,</span> <span class="n">EPSDGridType</span> <span class="n">PSDGridType</span><span class="p">)</span>
</pre></div>
</div>
<p>Returns particle size distribution of compound <code class="docutils literal notranslate"><span class="pre">Compound</span></code> of the solid phase of the material stream / holdup at the time point <code class="docutils literal notranslate"><span class="pre">Time</span></code>.</p>
<p><code class="docutils literal notranslate"><span class="pre">PSDType</span></code> is a type of distribution, please refer to function <a class="reference internal" href="#label-getpsd"><span class="std std-ref">getPSD(Time, PSDType, PSDGridType)</span></a> for detailed information.</p>
<p><code class="docutils literal notranslate"><span class="pre">PSDGridType</span></code> defines grid units if needed: <code class="docutils literal notranslate"><span class="pre">EPSDGridType::DIAMETER</span></code> for diameter in [m]; or <code class="docutils literal notranslate"><span class="pre">EPSDGridType::VOLUME</span></code> for volume in [m <span class="math notranslate nohighlight">\(^3\)</span>].</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span> <span class="n">SetPSD</span><span class="p">(</span><span class="kt">double</span> <span class="n">Time</span><span class="p">,</span> <span class="n">EPSDType</span> <span class="n">PSDType</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span> <span class="n">PSD</span><span class="p">,</span> <span class="n">EPSDGridType</span> <span class="n">PSDGridType</span><span class="p">)</span>
</pre></div>
</div>
<p>Sets particle size distribution with type ··PSDType·· to the solid phase of the material stream / holdup for time point <code class="docutils literal notranslate"><span class="pre">Time</span></code>.</p>
<p>Direct setting of <abbr title="Particle size distribution">PSD</abbr> to the material stream / holdup leads to a change of all dependent distributions. Approach with transformation matrix should be used to avoid this.</p>
<p>Available <code class="docutils literal notranslate"><span class="pre">PSDType</span></code> are: <code class="docutils literal notranslate"><span class="pre">PSD_q0</span></code>, <code class="docutils literal notranslate"><span class="pre">PSD_Q0</span></code>, <code class="docutils literal notranslate"><span class="pre">PSD_q2</span></code>, <code class="docutils literal notranslate"><span class="pre">PSD_Q2</span></code>, <code class="docutils literal notranslate"><span class="pre">PSD_q3</span></code>, <code class="docutils literal notranslate"><span class="pre">PSD_Q3</span></code>, <code class="docutils literal notranslate"><span class="pre">PSD_MassFrac</span></code>, <code class="docutils literal notranslate"><span class="pre">PSD_Number</span></code>.</p>
<p>Please note that when using <code class="docutils literal notranslate"><span class="pre">PSD_Number</span></code>, if the total mass of the particles given in the number distribution differs from the material stream / holdup’s total particle mass, the number will be normalized to match the material stream / holdup’s particle mass.</p>
<p>As mass fractions are used to store data, <abbr title="Particle size distribution">PSD</abbr> will be converted using functions <code class="docutils literal notranslate"><span class="pre">Convertq0ToMassFractions()</span></code>, <code class="docutils literal notranslate"><span class="pre">ConvertQ0ToMassFractions()</span></code>, <code class="docutils literal notranslate"><span class="pre">Convertq3ToMassFractions()</span></code>, <code class="docutils literal notranslate"><span class="pre">ConvertQ3ToMassFractions()</span></code>, <code class="docutils literal notranslate"><span class="pre">ConvertNumbersToMassFractions()</span></code>, please refer to section <a class="reference internal" href="#label-psd"><span class="std std-ref">Particle size distribution</span></a> for detailed explanation about those functions.</p>
<p><code class="docutils literal notranslate"><span class="pre">PSDGridType</span></code> defines grid units if needed: <code class="docutils literal notranslate"><span class="pre">EPSDGridType::DIAMETER</span></code> for diameter in [m]; or <code class="docutils literal notranslate"><span class="pre">EPSDGridType::VOLUME</span></code> for volume in [m <span class="math notranslate nohighlight">\(^3\)</span>].</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span> <span class="n">SetPSD</span><span class="p">(</span><span class="kt">double</span> <span class="n">Time</span><span class="p">,</span> <span class="n">EPSDType</span> <span class="n">PSDType</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">Compound</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span> <span class="n">PSD</span><span class="p">,</span> <span class="n">EPSDGridType</span> <span class="n">PSDGridType</span><span class="p">)</span>
</pre></div>
</div>
<p>Sets <abbr title="Particle size distribution">PSD</abbr> with type <code class="docutils literal notranslate"><span class="pre">PSDType</span></code> for the specific compound <code class="docutils literal notranslate"><span class="pre">Compound</span></code> to the solid phase of the material stream / holdup for time point Time.</p>
<p>Direct setting of <abbr title="Particle size distribution">PSD</abbr> to the material stream / holdup leads to a change of all dependent distributions. Approach with transformation matrix should be used to avoid this.</p>
<p>Available <code class="docutils literal notranslate"><span class="pre">PSDType</span></code> are: <code class="docutils literal notranslate"><span class="pre">PSD_q0</span></code>, <code class="docutils literal notranslate"><span class="pre">PSD_Q0</span></code>, <code class="docutils literal notranslate"><span class="pre">PSD_q2</span></code>, <code class="docutils literal notranslate"><span class="pre">PSD_Q2</span></code>, <code class="docutils literal notranslate"><span class="pre">PSD_q3</span></code>, <code class="docutils literal notranslate"><span class="pre">PSD_Q3</span></code>, <code class="docutils literal notranslate"><span class="pre">PSD_MassFrac</span></code>, <code class="docutils literal notranslate"><span class="pre">PSD_Number</span></code>.</p>
<p>Please note that when using PSD_Number, If the total mass of the particles given in the number distribution differs from the material stream / holdup’s total particle mass, the number will be normalized to match the material stream/holdup’s particle mass.</p>
<p>As mass fractions are used to store data, <abbr title="Particle size distribution">PSD</abbr> will be converted using functions <code class="docutils literal notranslate"><span class="pre">Convertq0ToMassFractions()</span></code>, <code class="docutils literal notranslate"><span class="pre">ConvertQ0ToMassFractions()</span></code>, <code class="docutils literal notranslate"><span class="pre">Convertq3ToMassFractions()</span></code>, <code class="docutils literal notranslate"><span class="pre">ConvertQ3ToMassFractions()</span></code>, <code class="docutils literal notranslate"><span class="pre">ConvertNumbersToMassFractions()</span></code>, please refer to section <a class="reference internal" href="#label-psd"><span class="std std-ref">Particle size distribution</span></a> for detailed explanation about those functions.</p>
<p><code class="docutils literal notranslate"><span class="pre">PSDGridType</span></code> defines grid units if needed: <code class="docutils literal notranslate"><span class="pre">EPSDGridType::DIAMETER</span></code> for diameter in [m]; or <code class="docutils literal notranslate"><span class="pre">EPSDGridType::VOLUME</span></code> for volume in [m <span class="math notranslate nohighlight">\(^3\)</span>].</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div>
<div class="section" id="lookup-tables">
<h3>Lookup tables<a class="headerlink" href="#lookup-tables" title="Permalink to this headline">¶</a></h3>
<p>All functions in this section are for both <code class="docutils literal notranslate"><span class="pre">CMaterialStream</span></code> and <code class="docutils literal notranslate"><span class="pre">CHoldup</span></code>.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CLookupTable</span><span class="o">*</span> <span class="n">GetLookupTable</span><span class="p">(</span><span class="n">ECompoundTPProperties</span> <span class="n">Property</span><span class="p">,</span> <span class="n">EDependencyTypes</span> <span class="n">DependencyType</span><span class="p">,</span> <span class="kt">double</span> <span class="n">Time</span><span class="p">)</span>
</pre></div>
</div>
<p>Creates (if not yet exists), fills with compounds fractions and returns a corresponding lookup table for the specified <code class="docutils literal notranslate"><span class="pre">Property</span></code> (see table at the end of this section), <code class="docutils literal notranslate"><span class="pre">DependencyType</span></code> (<code class="docutils literal notranslate"><span class="pre">DEPENDENCE_TEMP</span></code> or <code class="docutils literal notranslate"><span class="pre">DEPENDENCE_PRES</span></code>) and <code class="docutils literal notranslate"><span class="pre">Time</span></code>.</p>
<p>For more information, please refer to section <a class="reference internal" href="#label-thermo"><span class="std std-ref">Thermodynamics</span></a>.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">double</span> <span class="n">CalcTemperatureFromProperty</span><span class="p">(</span><span class="n">ECompoundTPProperties</span> <span class="n">Property</span><span class="p">,</span> <span class="kt">double</span> <span class="n">Time</span><span class="p">,</span> <span class="kt">double</span> <span class="n">Value</span><span class="p">)</span>
</pre></div>
</div>
<p>Reads the temperature from the corresponding lookup table for a specific <code class="docutils literal notranslate"><span class="pre">Value</span></code> of the selected <code class="docutils literal notranslate"><span class="pre">Property</span></code> (see table at the end of this section)  at the corresponding time point <code class="docutils literal notranslate"><span class="pre">Time</span></code>.</p>
<p>For more information, please refer to section <a class="reference internal" href="#label-thermo"><span class="std std-ref">Thermodynamics</span></a>.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">double</span> <span class="n">CalcPressureFromProperty</span><span class="p">(</span><span class="n">ECompoundTPProperties</span> <span class="n">Property</span><span class="p">,</span> <span class="kt">double</span> <span class="n">Time</span><span class="p">,</span> <span class="kt">double</span> <span class="n">Value</span><span class="p">)</span>
</pre></div>
</div>
<p>Reads the pressure from the corresponding lookup table for a specific <code class="docutils literal notranslate"><span class="pre">Value</span></code> of the selected <code class="docutils literal notranslate"><span class="pre">Property</span></code> (see table at the end of this section) at the corresponding time point <code class="docutils literal notranslate"><span class="pre">Time</span></code>.</p>
<p>For more information, please refer to section <a class="reference internal" href="#label-thermo"><span class="std std-ref">Thermodynamics</span></a>.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">double</span> <span class="n">CalcPropertyFromTemperature</span><span class="p">(</span><span class="n">ECompoundTPProperties</span> <span class="n">Property</span><span class="p">,</span> <span class="kt">double</span> <span class="n">Time</span><span class="p">,</span> <span class="kt">double</span> <span class="n">T</span><span class="p">)</span>
</pre></div>
</div>
<p>Reads the value of the specified <code class="docutils literal notranslate"><span class="pre">Property</span></code> (see table at the end of this section) at <code class="docutils literal notranslate"><span class="pre">Time</span></code> from the corresponding lookup table for the given temperature <code class="docutils literal notranslate"><span class="pre">T</span></code>.</p>
<p>For more information, please refer to section <a class="reference internal" href="#label-thermo"><span class="std std-ref">Thermodynamics</span></a>.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">double</span> <span class="n">CalcPropertyFromPressure</span><span class="p">(</span><span class="n">ECompoundTPProperties</span> <span class="n">Property</span><span class="p">,</span> <span class="kt">double</span> <span class="n">Time</span><span class="p">,</span> <span class="kt">double</span> <span class="n">P</span><span class="p">)</span>
</pre></div>
</div>
<p>Reads the value of the specified <code class="docutils literal notranslate"><span class="pre">Property</span></code> (see table at the end of this section) at <code class="docutils literal notranslate"><span class="pre">Time</span></code> from the corresponding lookup table for the given pressure <code class="docutils literal notranslate"><span class="pre">P</span></code>.</p>
<p>For more information, please refer to section <a class="reference internal" href="#label-thermo"><span class="std std-ref">Thermodynamics</span></a>.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Definition of temperature-dependent compound properties:</p>
<table border="1" class="last docutils">
<colgroup>
<col width="23%" />
<col width="21%" />
<col width="56%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Define</th>
<th class="head">Name</th>
<th class="head">Unit</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">DENSITY</span></code></td>
<td>Density</td>
<td>[kg/m <span class="math notranslate nohighlight">\(^3\)</span>]</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">HEAT_CAPACITY_CP</span></code></td>
<td>Heat capacity <span class="math notranslate nohighlight">\(C_p\)</span></td>
<td>[J/(kg·K)]</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">VAPOR_PRESSURE</span></code></td>
<td>Vapor pressure</td>
<td>[Pa]</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">VISCOSITY</span></code></td>
<td>Viscosity</td>
<td>[Pa·s]</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">THERMAL_CONDUCTIVITY</span></code></td>
<td>Thermal conductivity</td>
<td>[W/(m·K)]</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">PERMITTIVITY</span></code></td>
<td>Permittivity</td>
<td>[F/m]</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">ENTHALPY</span></code></td>
<td>Enthalpy</td>
<td>[J/kg/s] or [J/mol/s] for material stream, [J/kg] or [J/mol] for holdup</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">TP_PROP_USER_DEFINED_XX</span></code></td>
<td>User defined property</td>
<td>[-]</td>
</tr>
</tbody>
</table>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div>
<div class="section" id="other-streams">
<h3>Other streams<a class="headerlink" href="#other-streams" title="Permalink to this headline">¶</a></h3>
<p>Following functions are for class <code class="docutils literal notranslate"><span class="pre">CMaterialStream</span></code>.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span> <span class="n">CopyFromStream</span><span class="p">(</span><span class="n">CMaterialStream</span> <span class="o">*</span><span class="n">SrcStream</span><span class="p">,</span> <span class="kt">double</span> <span class="n">Time</span><span class="p">,</span> <span class="kt">bool</span> <span class="n">DeleteDataAfter</span> <span class="o">=</span> <span class="nb">true</span><span class="p">)</span>
</pre></div>
</div>
<p>Copies all stream data from <code class="docutils literal notranslate"><span class="pre">SrcStream</span></code> for specified time point <code class="docutils literal notranslate"><span class="pre">Time</span></code> to the current material stream.</p>
<p>If flag <code class="docutils literal notranslate"><span class="pre">DeleteDataAfter</span></code> is set to <code class="docutils literal notranslate"><span class="pre">true</span></code>, all data after the time point <code class="docutils literal notranslate"><span class="pre">Time</span></code> in the destination stream will be removed before being copied.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span> <span class="n">CopyFromStream</span><span class="p">(</span><span class="n">CMaterialStream</span> <span class="o">*</span><span class="n">SrcStream</span><span class="p">,</span> <span class="kt">double</span> <span class="n">Start</span><span class="p">,</span> <span class="kt">double</span> <span class="n">End</span><span class="p">,</span> <span class="kt">bool</span> <span class="n">DeleteDataAfter</span> <span class="o">=</span> <span class="nb">true</span><span class="p">)</span>
</pre></div>
</div>
<p>Copies all stream data from <code class="docutils literal notranslate"><span class="pre">SrcStream</span></code> on the certain time interval to the current material stream. Boundary points <code class="docutils literal notranslate"><span class="pre">Start</span></code> and <code class="docutils literal notranslate"><span class="pre">End</span></code> are included into this interval.</p>
<p>If flag <code class="docutils literal notranslate"><span class="pre">DeleteDataAfter</span></code> is set to <code class="docutils literal notranslate"><span class="pre">true</span></code>, all data after the time point <code class="docutils literal notranslate"><span class="pre">Time</span></code> in the destination stream will be removed before being copied.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span> <span class="n">CopyFromStream</span><span class="p">(</span><span class="kt">double</span> <span class="n">TimeDst</span><span class="p">,</span> <span class="n">CMaterialStream</span> <span class="o">*</span><span class="n">SrcStream</span><span class="p">,</span> <span class="kt">double</span> <span class="n">TimeSrc</span><span class="p">,</span> <span class="kt">bool</span> <span class="n">DeleteDataAfter</span> <span class="o">=</span> <span class="nb">true</span><span class="p">)</span>
</pre></div>
</div>
<p>Copies all stream data from time point <code class="docutils literal notranslate"><span class="pre">TimeSrc</span></code> of material stream <code class="docutils literal notranslate"><span class="pre">SrcStream</span></code> to the time point <code class="docutils literal notranslate"><span class="pre">TimeDst</span></code> of this material stream.</p>
<p>If flag <code class="docutils literal notranslate"><span class="pre">DeleteDataAfter</span></code> is set to <code class="docutils literal notranslate"><span class="pre">true</span></code>, all data after the time point <code class="docutils literal notranslate"><span class="pre">Time</span></code> in the destination stream will be removed before being copied.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span> <span class="n">CopyFromHoldup</span><span class="p">(</span><span class="n">CHoldup</span> <span class="o">*</span><span class="n">SrcHoldup</span><span class="p">,</span> <span class="kt">double</span> <span class="n">Time</span><span class="p">,</span> <span class="kt">double</span> <span class="n">MassFlow</span><span class="p">,</span> <span class="kt">bool</span> <span class="n">DeleteDataAfter</span> <span class="o">=</span> <span class="nb">true</span><span class="p">)</span>
</pre></div>
</div>
<p>Copies all data from <code class="docutils literal notranslate"><span class="pre">SrcHoldup</span></code> for the specified time point to the current material stream and sets mass flow <code class="docutils literal notranslate"><span class="pre">MassFlow</span></code>.</p>
<p>If flag <code class="docutils literal notranslate"><span class="pre">DeleteDataAfter</span></code> is set to <code class="docutils literal notranslate"><span class="pre">true</span></code>, all data after the time point <code class="docutils literal notranslate"><span class="pre">Time</span></code> in the destination stream will be removed before being copied.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span> <span class="n">CopyFromHoldup</span><span class="p">(</span><span class="kt">double</span> <span class="n">TimeDst</span><span class="p">,</span> <span class="n">CHoldup</span> <span class="o">*</span><span class="n">SrcHoldup</span><span class="p">,</span> <span class="kt">double</span> <span class="n">TimeSrc</span><span class="p">,</span> <span class="kt">double</span> <span class="n">MassFlow</span><span class="p">,</span> <span class="kt">bool</span> <span class="n">DeleteDataAfter</span> <span class="o">=</span> <span class="nb">true</span><span class="p">)</span>
</pre></div>
</div>
<p>Copies all stream data from time point <code class="docutils literal notranslate"><span class="pre">TimeSrc</span></code> of holdup <code class="docutils literal notranslate"><span class="pre">SrcHoldup</span></code> to the time point <code class="docutils literal notranslate"><span class="pre">TimeDst</span></code> of this material stream with setting of new mass flow <code class="docutils literal notranslate"><span class="pre">MassFlow</span></code>.</p>
<p>If flag <code class="docutils literal notranslate"><span class="pre">DeleteDataAfter</span></code> is set to <code class="docutils literal notranslate"><span class="pre">true</span></code>, all data after the time point <code class="docutils literal notranslate"><span class="pre">Time</span></code> in the destination stream will be removed before being copied.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span> <span class="n">AddStream</span> <span class="p">(</span><span class="n">CMaterialStream</span> <span class="o">*</span><span class="n">Stream</span><span class="p">,</span> <span class="kt">double</span> <span class="n">Time</span><span class="p">)</span>
</pre></div>
</div>
<p>Performs a mixing of this material stream with material stream <code class="docutils literal notranslate"><span class="pre">Stream</span></code> for the specified time point <code class="docutils literal notranslate"><span class="pre">Time</span></code>.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span> <span class="n">AddStream</span> <span class="p">(</span><span class="n">CMaterialStream</span> <span class="o">*</span><span class="n">Stream</span><span class="p">,</span> <span class="kt">double</span> <span class="n">Start</span><span class="p">,</span> <span class="kt">double</span> <span class="n">End</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="n">TPType</span> <span class="o">=</span> <span class="n">BOTH_TP</span><span class="p">)</span>
</pre></div>
</div>
<p>Performs a mixing of this material stream with material stream <code class="docutils literal notranslate"><span class="pre">Stream</span></code> for the specified time interval. Boundary points <code class="docutils literal notranslate"><span class="pre">Start</span></code> and <code class="docutils literal notranslate"><span class="pre">End</span></code> are included into this interval.</p>
<p>Parameter <code class="docutils literal notranslate"><span class="pre">TPType</span></code> specifies which time points will be present in the resulting stream: combining points from two streams (<code class="docutils literal notranslate"><span class="pre">BOTH_TP</span></code>), only from the first stream (<code class="docutils literal notranslate"><span class="pre">DST_TP</span></code>), or only from the second stream (<code class="docutils literal notranslate"><span class="pre">SRC_TP</span></code>).</p>
<p>Data for non-existent points are obtained by linear interpolation.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>Following functions are for class <code class="docutils literal notranslate"><span class="pre">CHoldup</span></code>.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span> <span class="n">CopyFromHoldup</span><span class="p">(</span><span class="n">CHoldup</span> <span class="o">*</span><span class="n">SrcHoldup</span><span class="p">,</span> <span class="kt">double</span> <span class="n">Time</span><span class="p">,</span> <span class="kt">bool</span> <span class="n">DeleteDataAfter</span> <span class="o">=</span> <span class="nb">true</span><span class="p">)</span>
</pre></div>
</div>
<p>Copies all holdup data from <code class="docutils literal notranslate"><span class="pre">SrcHoldup</span></code> for the specified time point <code class="docutils literal notranslate"><span class="pre">Time</span></code> to the current holdup.</p>
<p>If flag <code class="docutils literal notranslate"><span class="pre">DeleteDataAfter</span></code> is set to <code class="docutils literal notranslate"><span class="pre">true</span></code>, all data after the time point <code class="docutils literal notranslate"><span class="pre">Time</span></code> in the destination holdup will be removed before being copied.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span> <span class="n">CopyFromHoldup</span><span class="p">(</span><span class="n">CHoldup</span> <span class="o">*</span><span class="n">SrcHoldup</span><span class="p">,</span> <span class="kt">double</span> <span class="n">Start</span><span class="p">,</span> <span class="kt">double</span> <span class="n">End</span><span class="p">,</span> <span class="kt">bool</span> <span class="n">DeleteDataAfter</span> <span class="o">=</span> <span class="nb">true</span><span class="p">)</span>
</pre></div>
</div>
<p>Copies all holdup data from <code class="docutils literal notranslate"><span class="pre">SrcHoldup</span></code> on the certain time interval to the current holdup. Boundary points <code class="docutils literal notranslate"><span class="pre">Start</span></code> and <code class="docutils literal notranslate"><span class="pre">End</span></code> are included into this interval.</p>
<p>If flag <code class="docutils literal notranslate"><span class="pre">DeleteDataAfter</span></code> is set to <code class="docutils literal notranslate"><span class="pre">true</span></code>, all data after the time point <code class="docutils literal notranslate"><span class="pre">Time</span></code> in the destination holdup will be removed before being copied.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span> <span class="n">CopyFromHoldup</span><span class="p">(</span><span class="kt">double</span> <span class="n">TimeDst</span><span class="p">,</span> <span class="n">CHoldup</span> <span class="o">*</span><span class="n">SrcHoldup</span><span class="p">,</span> <span class="kt">double</span> <span class="n">TimeSrc</span><span class="p">,</span> <span class="kt">bool</span> <span class="n">DeleteDataAfter</span> <span class="o">=</span> <span class="nb">true</span><span class="p">)</span>
</pre></div>
</div>
<p>Copies all holdup data from time point <code class="docutils literal notranslate"><span class="pre">TimeSrc</span></code> of holdup <code class="docutils literal notranslate"><span class="pre">SrcHoldup</span></code> to the time point <code class="docutils literal notranslate"><span class="pre">TimeDst</span></code> of this holdup.</p>
<p>If flag <code class="docutils literal notranslate"><span class="pre">DeleteDataAfter</span></code> is set to <code class="docutils literal notranslate"><span class="pre">true</span></code>, all data after the time point <code class="docutils literal notranslate"><span class="pre">Time</span></code> in the destination holdup will be removed before being copied.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate" id="label-addholdup"><div class="highlight"><pre><span></span><span class="kt">void</span> <span class="n">AddHoldup</span><span class="p">(</span><span class="n">CHoldup</span> <span class="o">*</span><span class="n">Holdup</span><span class="p">,</span> <span class="kt">double</span> <span class="n">Time</span><span class="p">)</span>
</pre></div>
</div>
<p>Performs a mixing of this holdup with holdup <code class="docutils literal notranslate"><span class="pre">Holdup</span></code> for the specified time point <code class="docutils literal notranslate"><span class="pre">Time</span></code>.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span> <span class="n">AddHoldup</span><span class="p">(</span><span class="n">CHoldup</span> <span class="o">*</span><span class="n">Holdup</span><span class="p">,</span> <span class="kt">double</span> <span class="n">Start</span><span class="p">,</span> <span class="kt">double</span> <span class="n">End</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="n">TPType</span><span class="p">)</span>
</pre></div>
</div>
<p>Performs a mixing of this holdup with <code class="docutils literal notranslate"><span class="pre">Holdup</span></code> for the specified time interval. Boundary points <code class="docutils literal notranslate"><span class="pre">Start</span></code> and <code class="docutils literal notranslate"><span class="pre">End</span></code> are included into this interval.</p>
<p>Parameter <code class="docutils literal notranslate"><span class="pre">TPType</span></code> specifies which time points will be present in the resulting holdup: combining points from two holdups (<code class="docutils literal notranslate"><span class="pre">BOTH_TP</span></code>), only from the first holdup (<code class="docutils literal notranslate"><span class="pre">DST_TP</span></code>), or only from the second holdup (<code class="docutils literal notranslate"><span class="pre">SRC_TP</span></code>).</p>
<p>Data for non-existent points are obtained by linear approximation.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span> <span class="n">AddStream</span><span class="p">(</span><span class="n">CMaterialStream</span> <span class="o">*</span><span class="n">Stream</span><span class="p">,</span> <span class="kt">double</span> <span class="n">Start</span><span class="p">,</span> <span class="kt">double</span> <span class="n">End</span><span class="p">)</span>
</pre></div>
</div>
<p>Performs a mixing of this holdup with material stream <code class="docutils literal notranslate"><span class="pre">Stream</span></code> for the specified time interval. Boundary points <code class="docutils literal notranslate"><span class="pre">Start</span></code> and <code class="docutils literal notranslate"><span class="pre">End</span></code> are included into this interval.</p>
<p>Data for non-existent points are obtained by linear interpolation.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div>
</div>
<div class="section" id="particle-size-distribution">
<span id="label-psd"></span><h2>Particle size distribution<a class="headerlink" href="#particle-size-distribution" title="Permalink to this headline">¶</a></h2>
<p>Several global functions are defined to work with particle size distributions. These functions can be called from any place of the code.</p>
<p>All functions receive grid (<code class="docutils literal notranslate"><span class="pre">Grid</span></code>) as the input parameter. The grid can be previously obtained with the help of the function <code class="docutils literal notranslate"><span class="pre">GetNumericGrid</span></code>, for more information please refer to <a class="reference internal" href="#label-getnumericgrid"><span class="std std-ref">getNumericGrid</span></a> in section <a class="reference internal" href="#label-baseunit"><span class="std std-ref">Basic unit</span></a>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Notations:</p>
<p><span class="math notranslate nohighlight">\(d_i\)</span> – diameter of particle in class <span class="math notranslate nohighlight">\(i\)</span></p>
<p><span class="math notranslate nohighlight">\(\Delta d_i\)</span> – size of the class <span class="math notranslate nohighlight">\(i\)</span></p>
<p><span class="math notranslate nohighlight">\(M_k\)</span> – <span class="math notranslate nohighlight">\(k\)</span>-th moment</p>
<p><span class="math notranslate nohighlight">\(q\)</span> – density distribution</p>
<p><span class="math notranslate nohighlight">\(q_0\)</span> – number related density distribution</p>
<p><span class="math notranslate nohighlight">\(Q_0\)</span> – number related cumulative distribution</p>
<p><span class="math notranslate nohighlight">\(q_2\)</span> – surface-area-related density distribution</p>
<p><span class="math notranslate nohighlight">\(Q_2\)</span> – surface-area-related cumulative distribution</p>
<p><span class="math notranslate nohighlight">\(q_3\)</span> – mass-related density distribution</p>
<p><span class="math notranslate nohighlight">\(Q_3\)</span> – mass-related cumulative distribution</p>
<p><span class="math notranslate nohighlight">\(w_i\)</span> – mass fraction of particles of class <span class="math notranslate nohighlight">\(i\)</span></p>
<p><span class="math notranslate nohighlight">\(N_i\)</span> – number of particles of class <span class="math notranslate nohighlight">\(i\)</span></p>
<p class="last"><span class="math notranslate nohighlight">\(N_{tot}\)</span> – total number of particles</p>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">double</span> <span class="n">GetMMoment</span><span class="p">(</span><span class="n">Moment</span><span class="p">,</span> <span class="n">Grid</span><span class="p">,</span> <span class="n">InDistr</span><span class="p">)</span>
</pre></div>
</div>
<p>Calculates moment of the density distribution by <span class="math notranslate nohighlight">\(M_k = \sum\limits_i d_i^k \, q_i \, \Delta d_i\)</span>.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<span class="target" id="label-convb0s0"></span><div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span> <span class="n">ConvertQ0Toq0</span><span class="p">(</span><span class="n">Grid</span><span class="p">,</span> <span class="n">InDistr</span><span class="p">)</span>
</pre></div>
</div>
<p>Performs conversion from <span class="math notranslate nohighlight">\(Q_0\)</span> to <span class="math notranslate nohighlight">\(q_0\)</span> distributions using information about the size grid: <span class="math notranslate nohighlight">\(q_{0,0} = \dfrac{Q_{0,0}}{\Delta d_i}\)</span> and <span class="math notranslate nohighlight">\(q_{0,i} = \dfrac{Q_{0,i} - Q_{0,i-1}}{\Delta d_i}\)</span>.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate" id="label-convs0b0"><div class="highlight"><pre><span></span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span> <span class="n">Convertq0ToQ0</span><span class="p">(</span><span class="n">Grid</span><span class="p">,</span> <span class="n">InDistr</span><span class="p">)</span>
</pre></div>
</div>
<p>Performs conversion from <span class="math notranslate nohighlight">\(q_0\)</span> to <span class="math notranslate nohighlight">\(Q_0\)</span> distributions using information about the size grid: <span class="math notranslate nohighlight">\(Q_{0,i} = \sum\limits_i q_{0,i} \, \Delta d_i = Q_{0,i-1} + q_{0,i} \, \Delta d_i\)</span>.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate" id="label-convb2s2"><div class="highlight"><pre><span></span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span> <span class="n">ConvertQ2Toq2</span><span class="p">(</span><span class="n">Grid</span><span class="p">,</span> <span class="n">InDistr</span><span class="p">)</span>
</pre></div>
</div>
<p>Performs conversion from <span class="math notranslate nohighlight">\(Q_2\)</span> to <span class="math notranslate nohighlight">\(q_2\)</span> distributions using information about the size grid: <span class="math notranslate nohighlight">\(q_{2,0} = \dfrac{Q_{2,0}}{\Delta d_i}\)</span> and <span class="math notranslate nohighlight">\(q_{2,i} = \dfrac{Q_{2,i} - Q_{2,i-1}}{\Delta d_i}\)</span>.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate" id="label-convs2b2"><div class="highlight"><pre><span></span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span> <span class="n">Convertq2ToQ2</span><span class="p">(</span><span class="n">Grid</span><span class="p">,</span> <span class="n">InDistr</span><span class="p">)</span>
</pre></div>
</div>
<p>Performs conversion from <span class="math notranslate nohighlight">\(q_2\)</span> to <span class="math notranslate nohighlight">\(Q_2\)</span> distributions using information about the size grid: <span class="math notranslate nohighlight">\(Q_{2,i} = \sum\limits_i q_{2,i} \, \Delta d_i = Q_{2,i-1} + q_{2,i} \, \Delta d_i\)</span>.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate" id="label-convb3s3"><div class="highlight"><pre><span></span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span> <span class="n">ConvertQ3Toq3</span><span class="p">(</span><span class="n">Grid</span><span class="p">,</span> <span class="n">InDistr</span><span class="p">)</span>
</pre></div>
</div>
<p>Performs conversion from <span class="math notranslate nohighlight">\(Q_3\)</span> to <span class="math notranslate nohighlight">\(q_3\)</span> distributions using information about the size grid: <span class="math notranslate nohighlight">\(q_{3,0} = \dfrac{Q_{3,0}}{\Delta d_i}\)</span> and <span class="math notranslate nohighlight">\(q_{3,i} = \dfrac{Q_{3,i} - Q_{3,i-1}}{\Delta d_i}\)</span>.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate" id="label-convs3b3"><div class="highlight"><pre><span></span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span> <span class="n">Convertq3ToQ3</span><span class="p">(</span><span class="n">Grid</span><span class="p">,</span> <span class="n">InDistr</span><span class="p">)</span>
</pre></div>
</div>
<p>Performs conversion from <span class="math notranslate nohighlight">\(q_3\)</span> to <span class="math notranslate nohighlight">\(Q_3\)</span> distributions using information about the size grid: <span class="math notranslate nohighlight">\(Q_{3,i} = \sum\limits_i q_{3,i} \, \Delta d_i = Q_{3,i-1} + q_{3,i} \, \Delta d_i\)</span>.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate" id="label-convs0s2"><div class="highlight"><pre><span></span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span> <span class="n">Convertq0Toq2</span><span class="p">(</span><span class="n">Grid</span><span class="p">,</span> <span class="n">InDistr</span><span class="p">)</span>
</pre></div>
</div>
<p>Performs conversion from <span class="math notranslate nohighlight">\(q_0\)</span> to <span class="math notranslate nohighlight">\(q_2\)</span> distributions using information about the size grid by <span class="math notranslate nohighlight">\(q_{2,i} = \dfrac{d_i^2 \, q_{0,i}}{M_2(q_0)}\)</span>.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate" id="label-convs0s3"><div class="highlight"><pre><span></span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span> <span class="n">Convertq0Toq3</span><span class="p">(</span><span class="n">Grid</span><span class="p">,</span> <span class="n">InDistr</span><span class="p">)</span>
</pre></div>
</div>
<p>Performs conversion from <span class="math notranslate nohighlight">\(q_0\)</span> to <span class="math notranslate nohighlight">\(q_3\)</span> distributions using information about the size grid by <span class="math notranslate nohighlight">\(q_{3,i} = \dfrac{d_i^3 \, q_{0,i}}{M_3(q_0)}\)</span>.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate" id="label-convs2s0"><div class="highlight"><pre><span></span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span> <span class="n">Convertq2Toq0</span><span class="p">(</span><span class="n">Grid</span><span class="p">,</span> <span class="n">InDistr</span><span class="p">)</span>
</pre></div>
</div>
<p>Performs conversion from <span class="math notranslate nohighlight">\(q_2\)</span> to <span class="math notranslate nohighlight">\(q_0\)</span> distributions using information about the size grid by <span class="math notranslate nohighlight">\(q_{0,i} = \dfrac{d_i^{-2} \, q_{2,i}}{M_{-2}(q_2)}\)</span>.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate" id="label-convs2s3"><div class="highlight"><pre><span></span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span> <span class="n">Convertq2Toq3</span><span class="p">(</span><span class="n">Grid</span><span class="p">,</span> <span class="n">InDistr</span><span class="p">)</span>
</pre></div>
</div>
<p>Performs conversion from <span class="math notranslate nohighlight">\(q_2\)</span> to <span class="math notranslate nohighlight">\(q_3\)</span> distributions using information about the size grid by <span class="math notranslate nohighlight">\(q_{3,i} = \dfrac{d_i \, q_{2,i}}{M_1(q_2)}\)</span>.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate" id="label-convs3s0"><div class="highlight"><pre><span></span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span> <span class="n">Convertq3Toq0</span><span class="p">(</span><span class="n">Grid</span><span class="p">,</span> <span class="n">InDistr</span><span class="p">)</span>
</pre></div>
</div>
<p>Performs conversion from <span class="math notranslate nohighlight">\(q_3\)</span> to <span class="math notranslate nohighlight">\(q_0\)</span> distributions using information about the size grid by <span class="math notranslate nohighlight">\(q_{0,i} = \dfrac{d_i^{-3} \, q_{3,i}}{M_{-3}(q_3)}\)</span>.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate" id="label-convs3s2"><div class="highlight"><pre><span></span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span> <span class="n">Convertq3Toq2</span><span class="p">(</span><span class="n">Grid</span><span class="p">,</span> <span class="n">InDistr</span><span class="p">)</span>
</pre></div>
</div>
<p>Performs conversion from <span class="math notranslate nohighlight">\(q_3\)</span> to <span class="math notranslate nohighlight">\(q_2\)</span> distributions using information about the size grid by <span class="math notranslate nohighlight">\(q_{2,i} = \dfrac{d_i^{-1} \, q_{3,i}}{M_{-1}(q_3)}\)</span>.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate" id="label-convms3"><div class="highlight"><pre><span></span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span> <span class="n">ConvertMassFractionsToq3</span><span class="p">(</span><span class="n">Grid</span><span class="p">,</span> <span class="n">InDistr</span><span class="p">)</span>
</pre></div>
</div>
<p>Calculates <span class="math notranslate nohighlight">\(q_3\)</span> distribution using the size grid and the distribution of mass fractions by <span class="math notranslate nohighlight">\(q_3 = w_i / \Delta d_i\)</span>.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate" id="label-convmb3"><div class="highlight"><pre><span></span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span> <span class="n">ConvertMassFractionsToQ3</span><span class="p">(</span><span class="n">InDistr</span><span class="p">)</span>
</pre></div>
</div>
<p>Calculates <span class="math notranslate nohighlight">\(Q_3\)</span> distribution using the distribution of mass fractions: <span class="math notranslate nohighlight">\(Q_{3,0} = w_i\)</span> and <span class="math notranslate nohighlight">\(Q_{3,i} = Q_{3,i-1} + w_i\)</span>.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate" id="label-convms0"><div class="highlight"><pre><span></span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span> <span class="n">ConvertMassFractionsToq0</span><span class="p">(</span><span class="n">Grid</span><span class="p">,</span> <span class="n">InDistr</span><span class="p">)</span>
</pre></div>
</div>
<p>Calculates <span class="math notranslate nohighlight">\(q_0\)</span> distribution using the functions <a class="reference internal" href="#label-convms3"><span class="std std-ref">ConvertMassFractionsToq3</span></a> and <a class="reference internal" href="#label-convs3s0"><span class="std std-ref">Convertq3Toq0</span></a>.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate" id="label-convmb0"><div class="highlight"><pre><span></span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span> <span class="n">ConvertMassFractionsToQ0</span><span class="p">(</span><span class="n">Grid</span><span class="p">,</span> <span class="n">InDistr</span><span class="p">)</span>
</pre></div>
</div>
<p>Calculates <span class="math notranslate nohighlight">\(Q_0\)</span> distribution using the functions <a class="reference internal" href="#label-convms0"><span class="std std-ref">ConvertMassFractionsToq0</span></a> and <a class="reference internal" href="#label-convs0b0"><span class="std std-ref">Convertq0ToQ0</span></a>.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate" id="label-convms2"><div class="highlight"><pre><span></span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span> <span class="n">ConvertMassFractionsToq2</span><span class="p">(</span><span class="n">Grid</span><span class="p">,</span> <span class="n">InDistr</span><span class="p">)</span>
</pre></div>
</div>
<p>Calculates <span class="math notranslate nohighlight">\(q_0\)</span> distribution using the functions <a class="reference internal" href="#label-convms3"><span class="std std-ref">ConvertMassFractionsToq3</span></a> and <a class="reference internal" href="#label-convs3s2"><span class="std std-ref">Convertq3Toq2</span></a>.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate" id="label-convmb2"><div class="highlight"><pre><span></span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span> <span class="n">ConvertMassFractionsToQ2</span><span class="p">(</span><span class="n">Grid</span><span class="p">,</span> <span class="n">InDistr</span><span class="p">)</span>
</pre></div>
</div>
<p>Calculates <span class="math notranslate nohighlight">\(Q_0\)</span> distribution using the functions <a class="reference internal" href="#label-convms2"><span class="std std-ref">ConvertMassFractionsToq2</span></a> and <a class="reference internal" href="#label-convs2b2"><span class="std std-ref">Convertq2ToQ2</span></a>.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate" id="label-convs3m"><div class="highlight"><pre><span></span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span> <span class="n">Convertq3ToMassFractions</span><span class="p">(</span><span class="n">Grid</span><span class="p">,</span> <span class="n">InDistr</span><span class="p">)</span>
</pre></div>
</div>
<p>Calculates mass fractions from <span class="math notranslate nohighlight">\(q_3\)</span> distribution using the size grid by <span class="math notranslate nohighlight">\(w_i = q_{3,i}\cdot \Delta d_i\)</span>.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate" id="label-convb3m"><div class="highlight"><pre><span></span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span> <span class="n">ConvertQ3ToMassFractions</span><span class="p">(</span><span class="n">InDistr</span><span class="p">)</span>
</pre></div>
</div>
<p>Calculates mass fractions from <span class="math notranslate nohighlight">\(Q_3\)</span> distribution using the size grid: <span class="math notranslate nohighlight">\(w_0 = Q_{3,0}\)</span> and <span class="math notranslate nohighlight">\(w_i = Q_{3,i} - Q_{3,i-1}\)</span>.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate" id="label-convs0m"><div class="highlight"><pre><span></span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span> <span class="n">Convertq0ToMassFractions</span><span class="p">(</span><span class="n">Grid</span><span class="p">,</span> <span class="n">InDistr</span><span class="p">)</span>
</pre></div>
</div>
<p>Calculates mass fractions from <span class="math notranslate nohighlight">\(q_0\)</span> distribution using the functions <a class="reference internal" href="#label-convs0s3"><span class="std std-ref">Convertq0Toq3</span></a> and <a class="reference internal" href="#label-convs3m"><span class="std std-ref">Convertq3ToMassFractions</span></a>.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate" id="label-convb0m"><div class="highlight"><pre><span></span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span> <span class="n">ConvertQ0ToMassFractions</span><span class="p">(</span><span class="n">Grid</span><span class="p">,</span> <span class="n">InDistr</span><span class="p">)</span>
</pre></div>
</div>
<p>Calculates mass fractions from <span class="math notranslate nohighlight">\(Q_0\)</span> distribution using the functions <a class="reference internal" href="#label-convb0s0"><span class="std std-ref">ConvertQ0Toq0</span></a> and <a class="reference internal" href="#label-convs0m"><span class="std std-ref">Convertq0ToMassFractions</span></a>.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate" id="label-convs2m"><div class="highlight"><pre><span></span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span> <span class="n">Convertq2ToMassFractions</span><span class="p">(</span><span class="n">Grid</span><span class="p">,</span> <span class="n">InDistr</span><span class="p">)</span>
</pre></div>
</div>
<p>Calculates mass fractions from <span class="math notranslate nohighlight">\(q_2\)</span> distribution using the functions <a class="reference internal" href="#label-convs2s3"><span class="std std-ref">Convertq2Toq3</span></a> and <a class="reference internal" href="#label-convs3m"><span class="std std-ref">Convertq3ToMassFractions</span></a>.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate" id="label-convb2m"><div class="highlight"><pre><span></span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span> <span class="n">ConvertQ2ToMassFractions</span><span class="p">(</span><span class="n">Grid</span><span class="p">,</span> <span class="n">InDistr</span><span class="p">)</span>
</pre></div>
</div>
<p>Calculates mass fractions from <span class="math notranslate nohighlight">\(Q_2\)</span> distribution using the functions <a class="reference internal" href="#label-convb2s2"><span class="std std-ref">ConvertQ2Toq2</span></a> and <a class="reference internal" href="#label-convs2m"><span class="std std-ref">Convertq2ToMassFractions</span></a>.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate" id="label-convns0"><div class="highlight"><pre><span></span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span> <span class="n">ConvertNumbersToq0</span><span class="p">(</span><span class="n">Grid</span><span class="p">,</span> <span class="n">InDistr</span><span class="p">)</span>
</pre></div>
</div>
<p>Calculates <span class="math notranslate nohighlight">\(q_0\)</span> distribution using the number distribution and the size grid by <span class="math notranslate nohighlight">\(q_{0,i} = \dfrac{N_i}{\Delta d_i \, N_{tot}}\)</span>.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate" id="label-convnb2"><div class="highlight"><pre><span></span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span> <span class="n">ConvertNumbersToQ2</span><span class="p">(</span><span class="n">Grid</span><span class="p">,</span> <span class="n">InDistr</span><span class="p">)</span>
</pre></div>
</div>
<p>Calculates <span class="math notranslate nohighlight">\(Q_2\)</span> distribution using the number distribution and the size grid by <span class="math notranslate nohighlight">\(Q_{2,i} = \dfrac{\sum\limits_{j=0}^i N_j \, \pi\,d_j^2}{\sum\limits_j N_j\, \pi\,d_j^2}\)</span>.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span> <span class="n">ConvertNumbersToQ0</span><span class="p">(</span><span class="n">Grid</span><span class="p">,</span> <span class="n">InDistr</span><span class="p">)</span>
</pre></div>
</div>
<p>Calculates <span class="math notranslate nohighlight">\(Q_0\)</span> distribution using the number distribution and the functions <a class="reference internal" href="#label-convns0"><span class="std std-ref">ConvertNumbersToq0</span></a> and <a class="reference internal" href="#label-convs0b0"><span class="std std-ref">Convertq0ToQ0</span></a>.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span> <span class="n">ConvertNumbersToq2</span><span class="p">(</span><span class="n">Grid</span><span class="p">,</span> <span class="n">InDistr</span><span class="p">)</span>
</pre></div>
</div>
<p>Calculates <span class="math notranslate nohighlight">\(q_2\)</span> distribution using the number distribution and the functions <a class="reference internal" href="#label-convnb2"><span class="std std-ref">ConvertNumbersToQ2</span></a> and <a class="reference internal" href="#label-convb2s2"><span class="std std-ref">ConvertQ2Toq2</span></a>.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate" id="label-convns3"><div class="highlight"><pre><span></span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span> <span class="n">ConvertNumbersToq3</span><span class="p">(</span><span class="n">Grid</span><span class="p">,</span> <span class="n">InDistr</span><span class="p">)</span>
</pre></div>
</div>
<p>Calculates <span class="math notranslate nohighlight">\(q_3\)</span> distribution using the number distribution and the functions <a class="reference internal" href="#label-convns0"><span class="std std-ref">ConvertNumbersToq0</span></a> and <a class="reference internal" href="#label-convs0s3"><span class="std std-ref">Convertq0Toq3</span></a>.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span> <span class="n">ConvertNumbersToQ3</span><span class="p">(</span><span class="n">Grid</span><span class="p">,</span> <span class="n">InDistr</span><span class="p">)</span>
</pre></div>
</div>
<p>Calculates <span class="math notranslate nohighlight">\(Q_3\)</span> distribution using the number distribution and the functions <a class="reference internal" href="#label-convns3"><span class="std std-ref">ConvertNumbersToq3</span></a> and <a class="reference internal" href="#label-convs3b3"><span class="std std-ref">Convertq3ToQ3</span></a>.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span> <span class="n">ConvertNumbersToMassFractions</span><span class="p">(</span><span class="n">Grid</span><span class="p">,</span> <span class="n">InDistr</span><span class="p">)</span>
</pre></div>
</div>
<p>Calculates mass fractions from the number distribution using the functions <a class="reference internal" href="#label-convns0"><span class="std std-ref">ConvertNumberToq0</span></a> and <a class="reference internal" href="#label-convms0"><span class="std std-ref">Convertq0ToMassFractions</span></a>.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span> <span class="n">Convertq0Toq0</span><span class="p">(</span><span class="n">OldGrid</span><span class="p">,</span> <span class="n">OldDistr</span><span class="p">,</span> <span class="n">NewGrid</span><span class="p">)</span>
</pre></div>
</div>
<p>Converts <span class="math notranslate nohighlight">\(q_0\)</span> distribution to the same distribution on the modified size grid.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span> <span class="n">Convertq2Toq2</span><span class="p">(</span><span class="n">OldGrid</span><span class="p">,</span> <span class="n">OldDistr</span><span class="p">,</span> <span class="n">NewGrid</span><span class="p">)</span>
</pre></div>
</div>
<p>Converts <span class="math notranslate nohighlight">\(q_2\)</span> distributions to the same distribution on the modified size grid.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span> <span class="n">Convertq3Toq3</span><span class="p">(</span><span class="n">OldGrid</span><span class="p">,</span> <span class="n">OldDistr</span><span class="p">,</span> <span class="n">NewGrid</span><span class="p">)</span>
</pre></div>
</div>
<p>Converts <span class="math notranslate nohighlight">\(q_3\)</span> distributions to the same distribution on the modified size grid.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">NormalizeDensityDistribution</span><span class="p">(</span><span class="n">Grid</span><span class="p">,</span> <span class="n">qiDistr</span><span class="p">)</span>
</pre></div>
</div>
<p>Normalizes density distribution <span class="math notranslate nohighlight">\(q_0\)</span> or <span class="math notranslate nohighlight">\(q_3\)</span> by <span class="math notranslate nohighlight">\(q_i = \dfrac{q_i}{\sum\limits_j q_j\,\Delta d_j}\)</span>.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">double</span> <span class="n">GetDistributionMedian</span><span class="p">(</span><span class="n">Grid</span><span class="p">,</span> <span class="n">QxDistr</span><span class="p">)</span>
</pre></div>
</div>
<p>Returns median in [m] of <span class="math notranslate nohighlight">\(Q_0\)</span> or <span class="math notranslate nohighlight">\(Q_3\)</span> distribution. Median is a diameter, which corresponds to a value of distribution equal to 0.5.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">double</span> <span class="n">GetDistributionValue</span> <span class="p">(</span><span class="n">Grid</span><span class="p">,</span> <span class="n">QxDistr</span><span class="p">,</span> <span class="n">Val</span><span class="p">)</span>
</pre></div>
</div>
<p>Returns diameter in [m], which corresponds to a specified value of cumulative distribution <span class="math notranslate nohighlight">\(Q_0\)</span> or <span class="math notranslate nohighlight">\(Q_3\)</span>. Input value <code class="docutils literal notranslate"><span class="pre">Val</span></code> should range between 0 and 1.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">double</span> <span class="n">GetDistributionMode</span> <span class="p">(</span><span class="n">Grid</span><span class="p">,</span> <span class="n">qxDistr</span><span class="p">)</span>
</pre></div>
</div>
<p>Returns diameter in [m], which corresponds to a maximum value of density distribution.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">double</span> <span class="n">GetAverageDiameter</span> <span class="p">(</span><span class="n">Grid</span><span class="p">,</span> <span class="n">qxDistr</span><span class="p">)</span>
</pre></div>
</div>
<p>Returns average diameter in [m] of the distribution <span class="math notranslate nohighlight">\(q_0\)</span> or <span class="math notranslate nohighlight">\(q_3\)</span>.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">double</span> <span class="n">GetSauterDiameter</span> <span class="p">(</span><span class="n">Grid</span><span class="p">,</span> <span class="n">q3Distr</span><span class="p">)</span>
</pre></div>
</div>
<p>Calculates Sauter diameter (<span class="math notranslate nohighlight">\(d_{32}\)</span>) of <span class="math notranslate nohighlight">\(q_3\)</span> distribution in [m].</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">double</span> <span class="n">GetSpecificSurface</span> <span class="p">(</span><span class="n">Grid</span><span class="p">,</span> <span class="n">q3Distr</span><span class="p">)</span>
</pre></div>
</div>
<p>Calculates specific surface of <span class="math notranslate nohighlight">\(q_3\)</span> distribution in [m <span class="math notranslate nohighlight">\(^2\)</span>].</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div>
<div class="section" id="thermodynamics">
<span id="label-thermo"></span><h2>Thermodynamics<a class="headerlink" href="#thermodynamics" title="Permalink to this headline">¶</a></h2>
<p>In Dyssol, thermodynamic functions are applied to calculate a material stream / holdup temperature <span class="math notranslate nohighlight">\(T\)</span> from a given enthalpy value <span class="math notranslate nohighlight">\(H\)</span>. In most cases, the enthalpy of a compound correlates with temperature <em>non-linearly</em>. Thus, for backward calculation of the temperature from an enthalpy value, you need to solve a non-linear equation <span class="math notranslate nohighlight">\(T = f^{-1}(H)\)</span>.</p>
<p>This solving step is replaced by a <em>lookup table</em> functionality, i.e. co-dependent temperature and enthalpy are pre-calculated for a certain range of values and then stored in a table. This table can be used to determine temperature-enthalpy value pairs by interpolation between two neighbor points.</p>
<p>To add more functionality, these lookup tables can be called for every property defined in the materials database.</p>
<div class="math notranslate nohighlight">
\[ \begin{align}\begin{aligned}Val_{prop,i}(T/p) = f_i(T/p)\\f_{tot}(T/p) = \sum\limits_i w_i \, f_i(T/p)\\T/p = f_{tot}^{-1}(Val_{prop,tot})\end{aligned}\end{align} \]</div>
<p>The temperature or pressure (e.g. pressure from saturation pressure or different properties) is then calculated in the following steps:</p>
<blockquote>
<div><ol class="arabic simple">
<li>Create tables of value pairs for each compound that is present in the system, i.e. temperature / pressure and respective dependent property value over a certain range of the temperature / pressure.</li>
<li>Combine the compound-lookup tables by mass-weighted summation of the tables.</li>
<li>Read-out of temperature / pressure from the resulting lookup-table at a certain point of the property by interpolation between neighbor value pairs.</li>
</ol>
</div></blockquote>
<p>The functions in base unit are less time-consuming than the material stream / holdup-function and therefore are implemented for usage during solving process (i.e. function <a class="reference internal" href="#label-calculateresiduals"><span class="std std-ref">CalculateResiduals</span></a>), if the composition of the material stream / holdup varies in each iteration.</p>
<p>In <a class="reference internal" href="units.html#label-unitslib"><span class="std std-ref">Unit library</span></a>, <code class="docutils literal notranslate"><span class="pre">Heater</span></code> and <code class="docutils literal notranslate"><span class="pre">HeatExchanger</span></code> apply thermodynamic calculations.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="section" id="for-material-stream-and-holdup">
<h3>For material stream and holdup<a class="headerlink" href="#for-material-stream-and-holdup" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">double</span> <span class="n">CalcTemperatureFromProperty</span><span class="p">(</span><span class="n">ECompoundTPProperties</span> <span class="n">Property</span><span class="p">,</span> <span class="kt">double</span> <span class="n">Time</span><span class="p">,</span> <span class="kt">double</span> <span class="n">Value</span><span class="p">)</span>
</pre></div>
</div>
<p>Returns temperature of the material stream / holdup for a specific value <code class="docutils literal notranslate"><span class="pre">Value</span></code> of the property <code class="docutils literal notranslate"><span class="pre">Property</span></code> at the time point <code class="docutils literal notranslate"><span class="pre">Time</span></code>. Possible properties are those defined in <a class="reference internal" href="materials.html#label-materialdat"><span class="std std-ref">Material database</span></a>.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">double</span> <span class="n">CalcPressureFromProperty</span><span class="p">(</span><span class="n">ECompoundTPProperties</span> <span class="n">Property</span><span class="p">,</span> <span class="kt">double</span> <span class="n">Time</span><span class="p">,</span> <span class="kt">double</span> <span class="n">Value</span><span class="p">)</span>
</pre></div>
</div>
<p>Returns pressure of the material stream / holdup for a specific value <code class="docutils literal notranslate"><span class="pre">Value</span></code> of the property <code class="docutils literal notranslate"><span class="pre">Property</span></code> at the time point <code class="docutils literal notranslate"><span class="pre">Time</span></code>. Possible properties are those defined in <a class="reference internal" href="materials.html#label-materialdat"><span class="std std-ref">Material database</span></a>.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div>
<div class="section" id="for-base-unit">
<h3>For base unit<a class="headerlink" href="#for-base-unit" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">double</span> <span class="n">CalcTemperatureFromProperty</span><span class="p">(</span><span class="n">ECompoundTPProperties</span> <span class="n">Property</span><span class="p">,</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;&amp;</span> <span class="n">CompoundFractions</span><span class="p">,</span> <span class="kt">double</span> <span class="n">Value</span><span class="p">)</span>
</pre></div>
</div>
<p>Returns temperature of a generic system of composition <code class="docutils literal notranslate"><span class="pre">CompoundFractions</span></code> for a specific value <code class="docutils literal notranslate"><span class="pre">Value</span></code> of the property <code class="docutils literal notranslate"><span class="pre">Property</span></code>. Possible properties are those defined in <a class="reference internal" href="materials.html#label-materialdat"><span class="std std-ref">Material database</span></a>.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">double</span> <span class="n">CalcPressureFromProperty</span><span class="p">(</span><span class="n">ECompoundTPProperties</span> <span class="n">Property</span><span class="p">,</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;&amp;</span> <span class="n">CompoundFractions</span><span class="p">,</span> <span class="kt">double</span> <span class="n">Value</span><span class="p">)</span>
</pre></div>
</div>
<p>Returns pressure of a generic system of composition <code class="docutils literal notranslate"><span class="pre">CompoundFractions</span></code> for a specific value <code class="docutils literal notranslate"><span class="pre">Value</span></code> of the property <code class="docutils literal notranslate"><span class="pre">Property</span></code>. Possible properties are those defined in <a class="reference internal" href="materials.html#label-materialdat"><span class="std std-ref">Material database</span></a>.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span> <span class="nf">HeatExchange</span><span class="p">(</span><span class="n">CMaterialStream</span><span class="o">*</span> <span class="n">Stream1</span><span class="p">,</span> <span class="n">CMaterialStream</span><span class="o">*</span> <span class="n">Stream2</span><span class="p">,</span> <span class="kt">double</span> <span class="n">Time</span><span class="p">,</span> <span class="kt">double</span> <span class="n">Efficiency</span><span class="p">);</span>
</pre></div>
</div>
<p>Performs a heat exchange between material streams <code class="docutils literal notranslate"><span class="pre">Stream1</span></code> and <code class="docutils literal notranslate"><span class="pre">Stream2</span></code> at specified time point <code class="docutils literal notranslate"><span class="pre">Time</span></code> with a specified efficiency (0 ≤ <code class="docutils literal notranslate"><span class="pre">Efficiency</span></code> ≤ 1).</p>
<div class="math notranslate nohighlight">
\[|\dot Q| = \varepsilon \, |\dot Q_{ideal}| = \varepsilon \, \left | \int_{T_1}^{T_{mix}} \dot m_1\,c_{P,1}(\theta)\,d\theta \right | = \varepsilon \, \left | \int_{T_2}^{T_{mix}} \dot m_2\,c_{P,2}(\theta)\,d\theta \right |\]</div>
<p><span class="math notranslate nohighlight">\(\varepsilon\)</span> stands for efficiency and <span class="math notranslate nohighlight">\(\theta\)</span> for temperature as an integration variable.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div>
</div>
<div class="section" id="external-solver">
<span id="label-externalsolver"></span><h2>External solver<a class="headerlink" href="#external-solver" title="Permalink to this headline">¶</a></h2>
<p>As mentioned in section <a class="reference internal" href="developer.html#label-solverdev"><span class="std std-ref">Solver development</span></a>, you can generate your own solvers in Dyssol under class <code class="docutils literal notranslate"><span class="pre">CExternalSolver</span></code>.</p>
<p>In Dyssol, external solvers are connected with <a class="reference internal" href="simulation.html#label-equationsolvers"><span class="std std-ref">open-source programm packages</span></a>. Thus you can only do some basic operations for these solvers, such as generate new solver, name it, get ID and version, initialize and finalize, etc.</p>
<p>In this section, the functions and variables applied in external solver are introduced.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CExternalSolver</span><span class="p">()</span>
</pre></div>
</div>
<p>Basic <strong>constructor</strong> of the solver. Creates an empty external solver. Called only once when solver is added to the unit.</p>
<p>Internal variables are:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">m_solverName</span></code>: name of the solver that will be displayed in user interface of Dyssol.</li>
<li><code class="docutils literal notranslate"><span class="pre">m_authorName</span></code>: solver’s author</li>
<li><code class="docutils literal notranslate"><span class="pre">m_solverUniqueKey</span></code>: unique identificator of the solver. Simulation environment distinguishes different solvers with the help of this identificator. You must ensure that ID of your solver is unique. This ID can be created manually or using <em>GUID-generator</em> of Visual Studio (<em>Tools → GUID Genarator</em>).</li>
<li><code class="docutils literal notranslate"><span class="pre">m_solverVersion</span></code>: current version of the solver.</li>
</ul>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="section" id="id5">
<h3>Basic information<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">GetName</span><span class="p">()</span>
</pre></div>
</div>
<p>Returns name of the solver.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">GetUniqueID</span><span class="p">()</span>
</pre></div>
</div>
<p>Returns string key, which is unique among all solvers.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">GetAuthorName</span><span class="p">()</span>
</pre></div>
</div>
<p>Returns name of the solver’s author.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">unsigned</span> <span class="n">GetVersion</span><span class="p">()</span>
</pre></div>
</div>
<p>Returns version of the solver.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div>
<div class="section" id="id6">
<h3>Virtual functions<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">virtual</span> <span class="kt">void</span> <span class="n">Initialize</span><span class="p">()</span>
</pre></div>
</div>
<p>Solver‘s initialization. This function is called only once for each simulation during the initialization of unit. Implementation of this function is not obligatory and can be skipped.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">virtual</span> <span class="kt">void</span> <span class="n">Finalize</span><span class="p">()</span>
</pre></div>
</div>
<p>Unit‘s finalization. This function is called only once for each simulation during the finalization of unit. Implementation of this function is not obligatory and can be skipped.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div>
</div>
<div class="section" id="dae-systems">
<span id="label-dae"></span><h2>DAE Systems<a class="headerlink" href="#dae-systems" title="Permalink to this headline">¶</a></h2>
<p>In Dyssol, you can solve systems of <abbr title="Differential-algebraic equations">DAE</abbr> automatically. In this case, the unit should contain one or several additional objects of class <code class="docutils literal notranslate"><span class="pre">CDAEModel</span></code>. This class is used to describe <abbr title="Differential-algebraic equations">DAE</abbr> systems and can be automatically solved with class <code class="docutils literal notranslate"><span class="pre">CDAESolver</span></code>.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="section" id="dae-model">
<h3>DAE model<a class="headerlink" href="#dae-model" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CDAEModel</span><span class="p">()</span>
</pre></div>
</div>
<p>Basic <strong>constructor</strong>. Creates an empty DAE model.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="section" id="variables">
<h4>Variables<a class="headerlink" href="#variables" title="Permalink to this headline">¶</a></h4>
<div class="highlight-cpp notranslate" id="label-adddaevariable"><div class="highlight"><pre><span></span><span class="kt">unsigned</span> <span class="n">AddDAEVariable</span><span class="p">(</span><span class="kt">bool</span> <span class="n">_bIsDifferentiable</span><span class="p">,</span> <span class="kt">double</span> <span class="n">_dVariableInit</span><span class="p">,</span> <span class="kt">double</span> <span class="n">_dDerivativeInit</span><span class="p">,</span> <span class="kt">double</span> <span class="n">_dConstraint</span><span class="p">)</span>
</pre></div>
</div>
<p>Adds new algebraic (<code class="docutils literal notranslate"><span class="pre">_bIsDifferentiable</span> <span class="pre">=</span> <span class="pre">false</span></code>) or differential (<code class="docutils literal notranslate"><span class="pre">_bIsDifferentiable</span> <span class="pre">=</span> <span class="pre">true</span></code>) variable with initial values <code class="docutils literal notranslate"><span class="pre">_dVariableInit</span></code> and <code class="docutils literal notranslate"><span class="pre">_dDerivativeInit</span></code>.</p>
<p>Should be called in function <code class="docutils literal notranslate"><span class="pre">Initialize(Time)</span></code> of the unit. Returns unique index of added variable.</p>
<p><code class="docutils literal notranslate"><span class="pre">_dConstraint</span></code> sets the constraint for the variable, different values of <code class="docutils literal notranslate"><span class="pre">_dConstraint</span></code> are defined as follows:</p>
<blockquote>
<div><ul class="simple">
<li>0.0: no constraint</li>
<li>1.0: Variable ≥ 0.0</li>
<li>−1.0: Variable ≤ 0.0</li>
<li>2.0: Variable &gt; 0.0</li>
<li>−2.0: Variable &lt; 0.0</li>
</ul>
</div></blockquote>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">unsigned</span> <span class="n">GetVariablesNumber</span><span class="p">()</span>
</pre></div>
</div>
<p>Returns current number of defined variables.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span> <span class="n">ClearVariables</span><span class="p">()</span>
</pre></div>
</div>
<p>Removes all defined variables from the model.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div>
<div class="section" id="id7">
<h4>Tolerance<a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h4>
<div class="highlight-cpp notranslate" id="label-settol"><div class="highlight"><pre><span></span><span class="kt">void</span> <span class="n">SetTolerance</span><span class="p">(</span><span class="kt">double</span> <span class="n">_dRTol</span><span class="p">,</span> <span class="kt">double</span> <span class="n">_dATol</span><span class="p">)</span>
</pre></div>
</div>
<p>Sets values of relative and absolute tolerances for all variables.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span> <span class="n">SetTolerance</span><span class="p">(</span><span class="kt">double</span> <span class="n">_dRTol</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span> <span class="o">&amp;</span><span class="n">_vATol</span><span class="p">)</span>
</pre></div>
</div>
<p>Sets value of relative tolerance for all variables and absolute tolerances for each variable separately.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">double</span> <span class="n">GetRTol</span><span class="p">()</span>
</pre></div>
</div>
<p>Returns current relative tolerance.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">double</span> <span class="n">GetATol</span><span class="p">(</span><span class="kt">unsigned</span> <span class="n">_dIndex</span><span class="p">)</span>
</pre></div>
</div>
<p>Returns current absolute tolerance for specified variable.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div>
<div class="section" id="id8">
<h4>Virtual functions<a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h4>
<div class="highlight-cpp notranslate" id="label-calculateresiduals"><div class="highlight"><pre><span></span><span class="k">virtual</span> <span class="kt">void</span> <span class="n">CalculateResiduals</span><span class="p">(</span><span class="kt">double</span> <span class="n">_dTime</span><span class="p">,</span> <span class="kt">double</span> <span class="o">*</span><span class="n">_pVars</span><span class="p">,</span> <span class="kt">double</span> <span class="o">*</span><span class="n">_pDerivs</span><span class="p">,</span> <span class="kt">double</span> <span class="o">*</span><span class="n">_pRes</span><span class="p">,</span> <span class="kt">void</span> <span class="o">*</span><span class="n">_pUserData</span><span class="p">)</span>
</pre></div>
</div>
<p>Computes the problem residual for given values of the independent variable <code class="docutils literal notranslate"><span class="pre">_dTime</span></code>, state vector <code class="docutils literal notranslate"><span class="pre">_pVars</span></code>, and derivatives <code class="docutils literal notranslate"><span class="pre">_pDerivs</span></code>. Here the <abbr title="Differential-algebraic equations">DAE</abbr> system should be specified in implicit form. Function will be called by solver automatically.</p>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">_dTime</span></code>: current value of the independent variable <span class="math notranslate nohighlight">\(t\)</span>.</li>
<li><code class="docutils literal notranslate"><span class="pre">_pVars</span></code>: pointer to an array of the dependent variables, <span class="math notranslate nohighlight">\(y(t)\)</span>.</li>
<li><code class="docutils literal notranslate"><span class="pre">_pDerivs</span></code>: pointer to an array of derivatives <span class="math notranslate nohighlight">\(y'(t)\)</span>.</li>
<li><code class="docutils literal notranslate"><span class="pre">_pRes</span></code>: output residual vector <span class="math notranslate nohighlight">\(F(t, y, y')\)</span>.</li>
<li><code class="docutils literal notranslate"><span class="pre">_pUserData</span></code>: pointer to user’s data. Is used to provide access from this function to unit’s data.</li>
</ul>
</div></blockquote>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate" id="label-resultshandler"><div class="highlight"><pre><span></span><span class="k">virtual</span> <span class="kt">void</span> <span class="n">ResultsHandler</span><span class="p">(</span><span class="kt">double</span> <span class="n">_dTime</span><span class="p">,</span> <span class="kt">double</span> <span class="o">*</span><span class="n">_pVars</span><span class="p">,</span> <span class="kt">double</span> <span class="o">*</span><span class="n">_pDerivs</span><span class="p">,</span> <span class="kt">void</span> <span class="o">*</span><span class="n">_pUserData</span><span class="p">)</span>
</pre></div>
</div>
<p>Processing the results returned by the solver at each calculated step. Called by solver every time when the solution in new time point is ready.</p>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">_dTime</span></code>: current value of the independent variable <span class="math notranslate nohighlight">\(t\)</span>.</li>
<li><code class="docutils literal notranslate"><span class="pre">_pVars</span></code>: current values of the dependent variables, <span class="math notranslate nohighlight">\(y(t)\)</span>.</li>
<li><code class="docutils literal notranslate"><span class="pre">_pDerivs</span></code>: current values of derivatives <span class="math notranslate nohighlight">\(y'(t)\)</span>.</li>
<li><code class="docutils literal notranslate"><span class="pre">_pUserData</span></code>: pointer to user’s data. Is used to provide access from this function to unit’s data.</li>
</ul>
</div></blockquote>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div>
<div class="section" id="other-functions">
<h4>Other functions<a class="headerlink" href="#other-functions" title="Permalink to this headline">¶</a></h4>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span> <span class="n">Clear</span><span class="p">()</span>
</pre></div>
</div>
<p>Removes all data from the model.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span> <span class="n">SetUserData</span><span class="p">(</span><span class="kt">void</span> <span class="o">*</span><span class="n">_pUserData</span><span class="p">)</span>
</pre></div>
</div>
<p>Set pointer to user’s data. This data will be returned in overloaded functions <a class="reference internal" href="#label-calculateresiduals"><span class="std std-ref">CalculateResiduals</span></a> and <a class="reference internal" href="#label-resultshandler"><span class="std std-ref">ResultsHandler</span></a>. Usually is used to provide access from these functions to unit’s data.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div>
</div>
<div class="section" id="dae-solver">
<span id="label-daesolver"></span><h3>DAE solver<a class="headerlink" href="#dae-solver" title="Permalink to this headline">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CDAESolver</span><span class="p">()</span>
</pre></div>
</div>
<p>Basic <strong>constructor</strong>. Creates an empty solver.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="section" id="model">
<h4>Model<a class="headerlink" href="#model" title="Permalink to this headline">¶</a></h4>
<div class="highlight-cpp notranslate" id="label-setmodel"><div class="highlight"><pre><span></span><span class="kt">bool</span> <span class="n">SetModel</span><span class="p">(</span><span class="n">CDAEModel</span> <span class="o">*</span><span class="n">_pModel</span><span class="p">)</span>
</pre></div>
</div>
<p>Sets model to a solver. Should be called in function <a class="reference internal" href="developer.html#label-dynamicunitinitialize"><span class="std std-ref">Initialize</span></a> of the unit.</p>
<p>Returns <code class="docutils literal notranslate"><span class="pre">false</span></code> on error.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">bool</span> <span class="n">SetMaxStep</span><span class="p">()</span>
</pre></div>
</div>
<p>Sets maximum time step for solver. Should be used in <a class="reference internal" href="developer.html#label-dynamicunitinitialize"><span class="std std-ref">Initialize</span></a> before the function <a class="reference internal" href="#label-setmodel"><span class="std std-ref">SetModel</span></a>.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate" id="label-calculate"><div class="highlight"><pre><span></span><span class="kt">bool</span> <span class="n">Calculate</span><span class="p">(</span><span class="kt">double</span> <span class="n">_dTime</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="n">_nModel</span> <span class="o">=</span> <span class="n">KIN_NONE</span><span class="p">)</span>
</pre></div>
</div>
<p>Solves problem on a given time point <code class="docutils literal notranslate"><span class="pre">_dTime</span></code>. Should be called in function <a class="reference internal" href="developer.html#label-dynamicunitsimulate"><span class="std std-ref">Simulate</span></a> of the unit.</p>
<p>Default value of <code class="docutils literal notranslate"><span class="pre">_nModel</span></code> is <code class="docutils literal notranslate"><span class="pre">KIN_NONE</span></code>, a Newton-based iteration method. Other available models can be found in declaration for KINSOL parameters in the <code class="docutils literal notranslate"><span class="pre">*.cpp</span></code> file, including: <code class="docutils literal notranslate"><span class="pre">KIN_FP</span></code> (fixed point), <code class="docutils literal notranslate"><span class="pre">KIN_LINESEARCH</span></code> and <code class="docutils literal notranslate"><span class="pre">KIN_PICARD</span></code>.</p>
<p>Returns <code class="docutils literal notranslate"><span class="pre">false</span></code> on error.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">bool</span> <span class="n">Calculate</span><span class="p">(</span><span class="kt">double</span> <span class="n">_dStartTime</span><span class="p">,</span> <span class="kt">double</span> <span class="n">_dEndTime</span><span class="p">)</span>
</pre></div>
</div>
<p>Solves problem on a given time interval. Should be called in function <a class="reference internal" href="developer.html#label-dynamicunitsimulate"><span class="std std-ref">Simulate</span></a> of the unit. Returns <code class="docutils literal notranslate"><span class="pre">false</span></code> on error.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div>
<div class="section" id="id9">
<h4>Other functions<a class="headerlink" href="#id9" title="Permalink to this headline">¶</a></h4>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span> <span class="n">SaveState</span><span class="p">()</span>
</pre></div>
</div>
<p>Saves current state of the solver. Should be called in function <a class="reference internal" href="#label-savestate"><span class="std std-ref">SaveState</span></a> of the unit.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span> <span class="n">LoadState</span><span class="p">()</span>
</pre></div>
</div>
<p>Loads last saved state of the solver. Should be called in function <a class="reference internal" href="#label-loadstate"><span class="std std-ref">LoadState</span></a> of the unit.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">GetError</span><span class="p">()</span>
</pre></div>
</div>
<p>Returns error’s description. Can be called if function <a class="reference internal" href="#label-setmodel"><span class="std std-ref">SetModel</span></a> or <a class="reference internal" href="#label-calculate"><span class="std std-ref">Calculate</span></a> returns <code class="docutils literal notranslate"><span class="pre">false</span></code>.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div>
</div>
<div class="section" id="application-example">
<h3>Application example<a class="headerlink" href="#application-example" title="Permalink to this headline">¶</a></h3>
<p>Assume that you are going to solve a dynamic <abbr title="Differential-algebraic equations">DAE</abbr> system,</p>
<div class="math notranslate nohighlight">
\[ \begin{align}\begin{aligned}\begin{cases}
        \dfrac{dx}{dt} = -0.04 \cdot x + 10^4 \cdot y \cdot z &amp;x(0) = 0.04\\        \dfrac{dy}{dt} = 0.04\cdot x - 10^4 \cdot y \cdot z - 3 \cdot 10^7 \cdot y^2 &amp;y(0) = -0.04\\        x + y + z = 1
\end{cases}\end{aligned}\end{align} \]</div>
<p>where <span class="math notranslate nohighlight">\(x\)</span>, <span class="math notranslate nohighlight">\(y\)</span>, <span class="math notranslate nohighlight">\(z\)</span> are fractions of solid, liquid and vapor phases of the output stream of the unit.</p>
<p>Now you want to develope a new unit for for automatic calculation of this <abbr title="Differential-algebraic equations">DAE</abbr> by using built-in solvers of Dyssol, just do the following steps:</p>
<ol class="arabic">
<li><p class="first">Add a new template unit to your solution and name it <code class="docutils literal notranslate"><span class="pre">DynamicUnitWithSolver</span></code>, please refer to <a class="reference internal" href="developer.html#label-unitdev"><span class="std std-ref">Unit development</span></a>.</p>
</li>
<li><p class="first">In file <code class="docutils literal notranslate"><span class="pre">Unit.h</span></code>, there is already a class of <abbr title="Differential-algebraic equations">DAE</abbr> model <code class="docutils literal notranslate"><span class="pre">CMyDAEModel</span></code> defined with:</p>
<ul class="simple">
<li>two functions, which must be overridden (<a class="reference internal" href="#label-calculateresiduals"><span class="std std-ref">CalculateResiduals</span></a> and <a class="reference internal" href="#label-resultshandler"><span class="std std-ref">ResultsHandler</span></a>) and</li>
<li>a class of unit <code class="docutils literal notranslate"><span class="pre">CUnit</span></code> with two additional variables (for <abbr title="Differential-algebraic equations">DAE</abbr> model <code class="docutils literal notranslate"><span class="pre">CMyDAEModel</span> <span class="pre">m_Model</span></code>, for <abbr title="Differential-algebraic equations">DAE</abbr> solver <code class="docutils literal notranslate"><span class="pre">CDAESolver</span> <span class="pre">m_Solver</span></code>).</li>
</ul>
<p>Add three variables in class <code class="docutils literal notranslate"><span class="pre">CMyDAEModel</span></code> to store indices for <span class="math notranslate nohighlight">\(x\)</span>, <span class="math notranslate nohighlight">\(y\)</span> and <span class="math notranslate nohighlight">\(z\)</span> variables, name them <code class="docutils literal notranslate"><span class="pre">m_nS</span></code>, <code class="docutils literal notranslate"><span class="pre">m_nL</span></code> and <code class="docutils literal notranslate"><span class="pre">m_nV</span></code> respectively.</p>
<p>After adding description of class <code class="docutils literal notranslate"><span class="pre">CMyDAEModel</span></code>, your code should look like this:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">CMyDAEModel</span> <span class="o">:</span> <span class="k">public</span> <span class="n">CDAEModel</span>
<span class="p">{</span>
<span class="k">public</span><span class="o">:</span>
        <span class="kt">unsigned</span> <span class="n">m_nS</span><span class="p">;</span> <span class="c1">//solid fraction</span>
        <span class="kt">unsigned</span> <span class="n">m_nL</span><span class="p">;</span> <span class="c1">//liquid fraction</span>
        <span class="kt">unsigned</span> <span class="n">m_nV</span><span class="p">;</span> <span class="c1">//vapor fraction</span>

<span class="k">public</span><span class="o">:</span>
        <span class="kt">void</span> <span class="n">CalculateResiduals</span><span class="p">(</span><span class="kt">double</span> <span class="n">_dTime</span><span class="p">,</span> <span class="kt">double</span><span class="o">*</span> <span class="n">_pVars</span><span class="p">,</span> <span class="kt">double</span><span class="o">*</span> <span class="n">_pDers</span><span class="p">,</span> <span class="kt">double</span><span class="o">*</span> <span class="n">_pRes</span><span class="p">,</span> <span class="kt">void</span><span class="o">*</span> <span class="n">_pUserData</span><span class="p">);</span>
        <span class="kt">void</span> <span class="nf">ResultsHandler</span><span class="p">(</span><span class="kt">double</span> <span class="n">_dTime</span><span class="p">,</span> <span class="kt">double</span><span class="o">*</span> <span class="n">_pVars</span><span class="p">,</span> <span class="kt">double</span><span class="o">*</span> <span class="n">_pDers</span><span class="p">,</span> <span class="kt">void</span> <span class="o">*</span><span class="n">_pUserData</span><span class="p">);</span>
<span class="p">};</span>
</pre></div>
</div>
</li>
<li><p class="first">Setup unit’s basic info (name, author’s name, unique ID, ports) as described in <a class="reference internal" href="developer.html#label-unitdev"><span class="std std-ref">Unit development</span></a>.Then provide model with pointer to your unit, in order to have an access to the unit from functions of the model. Now your unit’s constructor should look like this:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CUnit</span><span class="o">::</span><span class="n">CUnit</span><span class="p">()</span>
<span class="p">{</span>
        <span class="c1">// Unit basic information</span>
        <span class="n">m_sUnitName</span> <span class="o">=</span> <span class="s">&quot;DummyUnit4&quot;</span><span class="p">;</span>
        <span class="n">m_sAuthorName</span> <span class="o">=</span> <span class="s">&quot;Author&quot;</span><span class="p">;</span>
        <span class="n">m_sUniqueID</span> <span class="o">=</span> <span class="s">&quot;344BCC0048AA4c3a9117F20A9F8AF9A8&quot;</span><span class="p">;</span> <span class="c1">//an example ID</span>

        <span class="c1">// Add ports for in- and outlets</span>
        <span class="n">AddPort</span><span class="p">(</span><span class="s">&quot;InPort&quot;</span><span class="p">,</span> <span class="n">INPUT_PORT</span><span class="p">);</span>
        <span class="n">AddPort</span><span class="p">(</span><span class="s">&quot;OutPort&quot;</span><span class="p">,</span> <span class="n">OUTPUT_PORT</span><span class="p">);</span>

        <span class="c1">// Set this unit as user data of the model applied</span>
        <span class="n">m_Model</span><span class="p">.</span><span class="n">SetUserData</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
<li><p class="first">Implement function <code class="docutils literal notranslate"><span class="pre">Initialize</span></code> of the unit:</p>
<p>Since function <code class="docutils literal notranslate"><span class="pre">Initialize</span></code> is called every time when simulation starts, all variables must be previously removed from the model by calling <code class="docutils literal notranslate"><span class="pre">ClearVariables</span></code>.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">m_Model</span><span class="p">.</span><span class="n">ClearVariables</span><span class="p">();</span>
</pre></div>
</div>
<p>Now you can add 3 variables with specified initial conditions to the model (using function <a class="reference internal" href="#label-adddaevariable"><span class="std std-ref">AddDAEVariable</span></a>) according to the equation system. Use phase fractions of the input stream as initials.</p>
<p>Set tolerances to the model using function <a class="reference internal" href="#label-settol"><span class="std std-ref">SetTolerance</span></a>. As tolerances for the model, global tolerances of the system can be used.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">m_Model</span><span class="p">.</span><span class="n">SetTolerance</span><span class="p">(</span> <span class="n">GetRelTolerance</span><span class="p">(),</span> <span class="n">GetAbsTolerance</span><span class="p">()</span> <span class="p">);</span>
</pre></div>
</div>
<p>Now, you can connect your model to the solver by calling function <a class="reference internal" href="#label-setmodel"><span class="std std-ref">SetModel</span></a>. To receive errors from solver, connect it to the global errors handling procedure.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">if</span><span class="p">(</span> <span class="o">!</span><span class="n">m_Solver</span><span class="p">.</span><span class="n">SetModel</span><span class="p">(</span><span class="o">&amp;</span><span class="n">m_Model</span><span class="p">)</span> <span class="p">)</span>
        <span class="n">RaiseError</span><span class="p">(</span><span class="n">m_Solver</span><span class="p">.</span><span class="n">GetError</span><span class="p">());</span>
</pre></div>
</div>
<p>Your code should look like this after following all steps above:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span> <span class="n">CUnit</span><span class="o">::</span><span class="n">Initialize</span><span class="p">(</span><span class="kt">double</span> <span class="n">_dTime</span><span class="p">)</span>
<span class="p">{</span>
        <span class="c1">// Get pointer to inlet stream</span>
        <span class="n">CMaterialStream</span><span class="o">*</span> <span class="n">pInpStream</span> <span class="o">=</span> <span class="n">GetPortStream</span><span class="p">(</span><span class="s">&quot;InPort&quot;</span><span class="p">);</span>

        <span class="c1">// Clear previous state variables in model</span>
        <span class="n">m_Model</span><span class="p">.</span><span class="n">ClearVariables</span><span class="p">();</span>

        <span class="c1">// Add state variables to model</span>
        <span class="kt">double</span> <span class="n">dSFr</span> <span class="o">=</span> <span class="n">pInpStream</span><span class="o">-&gt;</span><span class="n">GetSinglePhaseProp</span><span class="p">(</span><span class="n">_dTime</span><span class="p">,</span> <span class="n">FRACTION</span><span class="p">,</span> <span class="n">SOA_SOLID</span><span class="p">);</span>
        <span class="kt">double</span> <span class="n">dLFr</span> <span class="o">=</span> <span class="n">pInpStream</span><span class="o">-&gt;</span><span class="n">GetSinglePhaseProp</span><span class="p">(</span><span class="n">_dTime</span><span class="p">,</span> <span class="n">FRACTION</span><span class="p">,</span> <span class="n">SOA_LIQUID</span><span class="p">);</span>
        <span class="kt">double</span> <span class="n">dVFr</span> <span class="o">=</span> <span class="n">pInpStream</span><span class="o">-&gt;</span><span class="n">GetSinglePhaseProp</span><span class="p">(</span><span class="n">_dTime</span><span class="p">,</span> <span class="n">FRACTION</span><span class="p">,</span> <span class="n">SOA_VAPOR</span><span class="p">);</span>
        <span class="n">m_Model</span><span class="p">.</span><span class="n">m_nS</span> <span class="o">=</span> <span class="n">m_Model</span><span class="p">.</span><span class="n">AddDAEVariable</span><span class="p">(</span><span class="nb">true</span><span class="p">,</span> <span class="n">dSFr</span><span class="p">,</span> <span class="mf">0.04</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">);</span>
        <span class="n">m_Model</span><span class="p">.</span><span class="n">m_nL</span> <span class="o">=</span> <span class="n">m_Model</span><span class="p">.</span><span class="n">AddDAEVariable</span><span class="p">(</span><span class="nb">true</span><span class="p">,</span> <span class="n">dLFr</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.04</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">);</span>
        <span class="n">m_Model</span><span class="p">.</span><span class="n">m_nV</span> <span class="o">=</span> <span class="n">m_Model</span><span class="p">.</span><span class="n">AddDAEVariable</span><span class="p">(</span><span class="nb">false</span><span class="p">,</span> <span class="n">dVFr</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">);</span>

        <span class="c1">// Set tolerance to model</span>
        <span class="n">m_Model</span><span class="p">.</span><span class="n">SetTolerance</span><span class="p">(</span> <span class="n">GetRelTolerance</span><span class="p">(),</span> <span class="n">GetAbsTolerance</span><span class="p">()</span> <span class="p">);</span>

        <span class="c1">// Set model to solver</span>
        <span class="k">if</span><span class="p">(</span> <span class="o">!</span><span class="n">m_Solver</span><span class="p">.</span><span class="n">SetModel</span><span class="p">(</span><span class="o">&amp;</span><span class="n">m_Model</span><span class="p">)</span> <span class="p">)</span>
                <span class="n">RaiseError</span><span class="p">(</span><span class="n">m_Solver</span><span class="p">.</span><span class="n">GetError</span><span class="p">());</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
<li><p class="first">Connect solver to a system saving / loading procedure in functions <code class="docutils literal notranslate"><span class="pre">SaveState()</span></code> and <code class="docutils literal notranslate"><span class="pre">LoadState()</span></code> of the unit:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span> <span class="n">CUnit</span><span class="o">::</span><span class="n">SaveState</span><span class="p">()</span>
<span class="p">{</span>
        <span class="n">m_Solver</span><span class="p">.</span><span class="n">SaveState</span><span class="p">();</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="n">CUnit</span><span class="o">::</span><span class="n">LoadState</span><span class="p">()</span>
<span class="p">{</span>
        <span class="n">m_Solver</span><span class="p">.</span><span class="n">LoadState</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
<li><p class="first">In function <code class="docutils literal notranslate"><span class="pre">Simulate</span></code> of the unit, calculation procedure should be run by calling function <code class="docutils literal notranslate"><span class="pre">Calculate</span></code> of the solver. Additionally, solver can be connected to the system’s errors handling procedure to receive possible errors during the calculation. Unit’s <code class="docutils literal notranslate"><span class="pre">Simulate</span></code> function after that must look as follows:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span> <span class="n">CUnit</span><span class="o">::</span><span class="n">Simulate</span><span class="p">(</span><span class="kt">double</span> <span class="n">_dStartTime</span><span class="p">,</span> <span class="kt">double</span> <span class="n">_dEndTime</span><span class="p">)</span>
<span class="p">{</span>
        <span class="c1">// Get pointers to inlet and outlet streams</span>
        <span class="n">CMaterialStream</span> <span class="o">*</span><span class="n">pInputStream</span> <span class="o">=</span> <span class="n">GetPortStream</span><span class="p">(</span><span class="s">&quot;InPort&quot;</span><span class="p">);</span>
        <span class="n">CMaterialStream</span> <span class="o">*</span><span class="n">pOutputStream</span> <span class="o">=</span> <span class="n">GetPortStream</span><span class="p">(</span><span class="s">&quot;OutPort&quot;</span><span class="p">);</span>

        <span class="n">pOutputStream</span><span class="o">-&gt;</span><span class="n">RemoveTimePointsAfter</span><span class="p">(</span><span class="n">_dStartTime</span><span class="p">,</span> <span class="nb">true</span><span class="p">);</span>
        <span class="n">pOutputStream</span><span class="o">-&gt;</span><span class="n">CopyFromStream</span><span class="p">(</span><span class="n">pInputStream</span><span class="p">,</span> <span class="n">_dStartTime</span><span class="p">);</span> <span class="c1">// Copy the inlet stream information to outlet stream</span>

        <span class="c1">// Run solver and check if errors take place</span>
        <span class="k">if</span><span class="p">(</span> <span class="o">!</span><span class="n">m_Solver</span><span class="p">.</span><span class="n">Calculate</span><span class="p">(</span><span class="n">_dStartTime</span><span class="p">,</span> <span class="n">_dEndTime</span><span class="p">)</span> <span class="p">)</span>
                <span class="n">RaiseError</span><span class="p">(</span> <span class="n">m_Solver</span><span class="p">.</span><span class="n">GetError</span><span class="p">()</span> <span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
<li><p class="first">In function <code class="docutils literal notranslate"><span class="pre">CalculateResiduals</span></code>, <abbr title="Differential-algebraic equations">DAE</abbr> system in implicit form should be described. According to the given equation system</p>
<div class="math notranslate nohighlight">
\[ \begin{align}\begin{aligned}\begin{cases}
        \dfrac{dx}{dt} = -0.04 \cdot x + 10^4 \cdot y \cdot z &amp;x(0) = 0.04\\        \dfrac{dy}{dt} = 0.04\cdot x - 10^4 \cdot y \cdot z - 3 \cdot 10^7 \cdot y^2 &amp;y(0) = -0.04\\        x + y + z = 1
\end{cases}\end{aligned}\end{align} \]</div>
<p>and the definition of residual <code class="docutils literal notranslate"><span class="pre">_pRes</span></code> (difference between new and old values from last calculation), the equaitons are expressed below. Here the values are arranged in vector <code class="docutils literal notranslate"><span class="pre">_pVars</span></code> according to sequence <span class="math notranslate nohighlight">\([x, y, z]\)</span>, in <code class="docutils literal notranslate"><span class="pre">_pDers</span></code> according to <span class="math notranslate nohighlight">\([dx, dy]\)</span>.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span> <span class="n">CMyDAEModel</span><span class="o">::</span><span class="n">CalculateResiduals</span><span class="p">(</span><span class="kt">double</span> <span class="n">_dTime</span><span class="p">,</span> <span class="kt">double</span><span class="o">*</span> <span class="n">_pVars</span><span class="p">,</span> <span class="kt">double</span><span class="o">*</span> <span class="n">_pDers</span><span class="p">,</span> <span class="kt">double</span><span class="o">*</span> <span class="n">_pRes</span><span class="p">,</span> <span class="kt">void</span><span class="o">*</span> <span class="n">_pUserData</span><span class="p">)</span>
<span class="p">{</span>
        <span class="n">_pRes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">_pDers</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="p">(</span><span class="o">-</span><span class="mf">0.04</span><span class="o">*</span><span class="n">_pVars</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="mf">1.0e4</span><span class="o">*</span><span class="n">_pVars</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">*</span><span class="n">_pVars</span><span class="p">[</span><span class="mi">2</span><span class="p">]);</span>
        <span class="n">_pRes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">_pDers</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="p">(</span> <span class="mf">0.04</span><span class="o">*</span><span class="n">_pVars</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="mf">1.0e4</span><span class="o">*</span><span class="n">_pVars</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">*</span><span class="n">_pVars</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">-</span> <span class="mf">3.0e7</span><span class="o">*</span><span class="n">_pVars</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">*</span><span class="n">_pVars</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="p">);</span>
        <span class="n">_pRes</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">_pVars</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">_pVars</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">_pVars</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
<li><p class="first">Last step is handling of results from the solver (<code class="docutils literal notranslate"><span class="pre">CMyDAEModel::ResultsHandler</span></code>). Calculated fractions can be set here to the output stream of the unit. To access to the unit’s data, use the pointer <code class="docutils literal notranslate"><span class="pre">_pUserData</span></code> defined previously:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span> <span class="n">CMyDAEModel</span><span class="o">::</span><span class="n">ResultsHandler</span><span class="p">(</span><span class="kt">double</span> <span class="n">_dTime</span><span class="p">,</span> <span class="kt">double</span><span class="o">*</span> <span class="n">_pVars</span><span class="p">,</span> <span class="kt">double</span><span class="o">*</span> <span class="n">_pDerivs</span><span class="p">,</span> <span class="kt">void</span> <span class="o">*</span><span class="n">_pUserData</span><span class="p">)</span>
<span class="p">{</span>
        <span class="c1">// Get pointers to streams</span>
        <span class="n">CUnit</span> <span class="o">*</span><span class="n">unit</span> <span class="o">=</span> <span class="k">static_cast</span><span class="o">&lt;</span><span class="n">CUnit</span><span class="o">*&gt;</span><span class="p">(</span><span class="n">_pUserData</span><span class="p">);</span>
        <span class="n">CMaterialStream</span> <span class="o">*</span><span class="n">pStream</span> <span class="o">=</span> <span class="k">static_cast</span><span class="o">&lt;</span><span class="n">CMaterialStream</span><span class="o">*&gt;</span><span class="p">(</span><span class="n">unit</span><span class="o">-&gt;</span><span class="n">GetPortStream</span><span class="p">(</span><span class="s">&quot;OutPort&quot;</span><span class="p">));</span>

        <span class="c1">// Add time point to outlet stream</span>
        <span class="n">pStream</span><span class="o">-&gt;</span><span class="n">AddTimePoint</span><span class="p">(</span><span class="n">_dTime</span><span class="p">);</span>

        <span class="c1">// Set calculated results to corresponding phases</span>
        <span class="n">pStream</span><span class="o">-&gt;</span><span class="n">SetSinglePhaseProp</span><span class="p">(</span><span class="n">_dTime</span><span class="p">,</span> <span class="n">FRACTION</span><span class="p">,</span> <span class="n">SOA_SOLID</span><span class="p">,</span> <span class="n">_pVars</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span>
        <span class="n">pStream</span><span class="o">-&gt;</span><span class="n">SetSinglePhaseProp</span><span class="p">(</span><span class="n">_dTime</span><span class="p">,</span> <span class="n">FRACTION</span><span class="p">,</span> <span class="n">SOA_LIQUID</span><span class="p">,</span> <span class="n">_pVars</span><span class="p">[</span><span class="mi">1</span><span class="p">]);</span>
        <span class="n">pStream</span><span class="o">-&gt;</span><span class="n">SetSinglePhaseProp</span><span class="p">(</span><span class="n">_dTime</span><span class="p">,</span> <span class="n">FRACTION</span><span class="p">,</span> <span class="n">SOA_VAPOR</span><span class="p">,</span> <span class="n">_pVars</span><span class="p">[</span><span class="mi">2</span><span class="p">]);</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
</ol>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div>
</div>
<div class="section" id="matrices">
<h2>Matrices<a class="headerlink" href="#matrices" title="Permalink to this headline">¶</a></h2>
<p>Several types of matrix classes, including the following types, are introduced in this section.</p>
<ul class="simple">
<li>Transform matrix: <code class="docutils literal notranslate"><span class="pre">CTransformMatrix</span></code>.</li>
<li>Dense 2-dimensional matrix: <code class="docutils literal notranslate"><span class="pre">CDense2DMatrix</span></code>.</li>
<li>Dense multidimensional matrix: <code class="docutils literal notranslate"><span class="pre">CDenseMDMatrix</span></code>.</li>
</ul>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="section" id="transformation-matrix">
<h3>Transformation matrix<a class="headerlink" href="#transformation-matrix" title="Permalink to this headline">¶</a></h3>
<p><a class="reference internal" href="multiDim.html#label-tm"><span class="std std-ref">Transformation matrices</span></a> (class <code class="docutils literal notranslate"><span class="pre">CTransformMatrix</span></code>) are applied to describe laws of changes for multidimensional distributions. Each cell of matrix describes how much of material will be transferred from one class of multidimensional distribution to another.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CTransformMatrix</span><span class="p">()</span>
</pre></div>
</div>
<p>Basic <strong>constructor</strong>. Creates an empty matrix.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CTransformMatrix</span> <span class="p">(</span><span class="kt">unsigned</span> <span class="n">_nType</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="n">_nClasses</span><span class="p">)</span>
</pre></div>
</div>
<p>Creates matrix to transform one-dimensional distribution with type <code class="docutils literal notranslate"><span class="pre">_nType</span></code> and <code class="docutils literal notranslate"><span class="pre">_nClasses</span></code> classes. <code class="docutils literal notranslate"><span class="pre">_nType</span></code> is one of the <a class="reference internal" href="#label-edistrtypes"><span class="std std-ref">pre-defined types of solid distributions</span></a>.</p>
<p>All values in matrix will be set to 0.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CTransformMatrix</span><span class="p">(</span><span class="kt">unsigned</span> <span class="n">_nType1</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="n">_nClasses1</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="n">_nType2</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="n">_nClasses2</span><span class="p">)</span>
</pre></div>
</div>
<p>Creates matrix to transform two-dimensional distribution with types <code class="docutils literal notranslate"><span class="pre">_nType1</span></code> and <code class="docutils literal notranslate"><span class="pre">_nType2</span></code> and classes <code class="docutils literal notranslate"><span class="pre">_nClasses1</span></code> and <code class="docutils literal notranslate"><span class="pre">_nClasses2</span></code>. <code class="docutils literal notranslate"><span class="pre">_nType1</span></code> and <code class="docutils literal notranslate"><span class="pre">_nType2</span></code> are types from <a class="reference internal" href="#label-edistrtypes"><span class="std std-ref">pre-defined types of solid distributions</span></a>.</p>
<p>All values in matrix will be set to 0.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CTransformMatrix</span><span class="p">(</span><span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">unsigned</span><span class="o">&gt;</span> <span class="o">&amp;</span><span class="n">_vTypes</span><span class="p">,</span> <span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">unsigned</span><span class="o">&gt;</span> <span class="o">&amp;</span><span class="n">_vClasses</span><span class="p">)</span>
</pre></div>
</div>
<p>Creates transformation matrix for distribution with specified types and classes. <code class="docutils literal notranslate"><span class="pre">_vTypes</span></code> and <code class="docutils literal notranslate"><span class="pre">_vClasses</span></code> must have the same length. <code class="docutils literal notranslate"><span class="pre">_vTypes</span></code> is the vector of types from <a class="reference internal" href="#label-edistrtypes"><span class="std std-ref">pre-defined types of solid distributions</span></a>.</p>
<p>All values in matrix will be set to 0.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="section" id="dimensions">
<h4>Dimensions<a class="headerlink" href="#dimensions" title="Permalink to this headline">¶</a></h4>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">bool</span> <span class="n">SetDimensions</span><span class="p">(</span><span class="kt">unsigned</span> <span class="n">_nType</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="n">_nClasses</span><span class="p">)</span>
</pre></div>
</div>
<p>Sets new dimensions set to the matrix in order to transform one-dimensional distribution with type <code class="docutils literal notranslate"><span class="pre">_nType</span></code> and <code class="docutils literal notranslate"><span class="pre">_nClasses</span></code> classes. <code class="docutils literal notranslate"><span class="pre">_nType</span></code> is one of the <a class="reference internal" href="#label-edistrtypes"><span class="std std-ref">pre-defined types of solid distributions</span></a>.</p>
<p>Old data will be erased and matrix will be initialized with zeroes. Returns <code class="docutils literal notranslate"><span class="pre">false</span></code> on error.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">bool</span> <span class="n">SetDimensions</span><span class="p">(</span><span class="kt">unsigned</span> <span class="n">_nType1</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="n">_nClasses1</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="n">_nType2</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="n">_nClasses2</span><span class="p">)</span>
</pre></div>
</div>
<p>Sets new dimensions set to the matrix in order to transform two-dimensional distribution.</p>
<p><code class="docutils literal notranslate"><span class="pre">_nType1</span></code> and <code class="docutils literal notranslate"><span class="pre">_nType2</span></code> are types of the <a class="reference internal" href="#label-edistrtypes"><span class="std std-ref">pre-defined types of solid distributions</span></a>. Types must be unique. <code class="docutils literal notranslate"><span class="pre">_nClasses1</span></code> and <code class="docutils literal notranslate"><span class="pre">_nClasses2</span></code> are number of classes in corresponding distributions.</p>
<p>Old data will be erased and matrix will be initialized with zeroes. Returns <code class="docutils literal notranslate"><span class="pre">false</span></code> on error.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">bool</span> <span class="n">SetDimensions</span><span class="p">(</span><span class="kt">unsigned</span> <span class="n">_nType1</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="n">_nClasses1</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="n">_nType2</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="n">_nClasses2</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="n">_nType3</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="n">_nClasses3</span><span class="p">)</span>
</pre></div>
</div>
<p>Sets new dimensions set to the matrix in order to transform three-dimensional distribution.</p>
<p><code class="docutils literal notranslate"><span class="pre">_nType1</span></code>, <code class="docutils literal notranslate"><span class="pre">_nType2</span></code> and <code class="docutils literal notranslate"><span class="pre">_nType3</span></code> are one of the <a class="reference internal" href="#label-edistrtypes"><span class="std std-ref">pre-defined types of solid distributions</span></a>. Types must be unique.  <code class="docutils literal notranslate"><span class="pre">_nClasses1</span></code>, <code class="docutils literal notranslate"><span class="pre">_nClasses2</span></code> and <code class="docutils literal notranslate"><span class="pre">_nClasses3</span></code> are number of classes in corresponding distributions.</p>
<p>Old data will be erased and matrix will be initialized with zeroes. Returns <code class="docutils literal notranslate"><span class="pre">false</span></code> on error.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">bool</span> <span class="n">SetDimensions</span><span class="p">(</span><span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">unsigned</span><span class="o">&gt;</span> <span class="o">&amp;</span><span class="n">_vTypes</span><span class="p">,</span> <span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">unsigned</span><span class="o">&gt;</span> <span class="o">&amp;</span><span class="n">_vClasses</span><span class="p">)</span>
</pre></div>
</div>
<p>Sets new dimensions set with types <code class="docutils literal notranslate"><span class="pre">_vTypes</span></code> and numbers of classes <code class="docutils literal notranslate"><span class="pre">_vClasses</span></code>. <code class="docutils literal notranslate"><span class="pre">_vTypes</span></code> is the vector of <a class="reference internal" href="#label-edistrtypes"><span class="std std-ref">pre-defined types of solid distributions</span></a>.</p>
<p>All old data will be erased and matrix will be initialized with zeroes. Sizes of vectors <code class="docutils literal notranslate"><span class="pre">_vTypes</span></code> and <code class="docutils literal notranslate"><span class="pre">_vClasses</span></code> must be equal. Returns <code class="docutils literal notranslate"><span class="pre">false</span></code> on error.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">unsigned</span><span class="o">&gt;</span> <span class="n">GetDimensions</span><span class="p">()</span>
</pre></div>
</div>
<p>Returns vector with all current defined dimensions types.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">unsigned</span><span class="o">&gt;</span> <span class="n">GetClasses</span><span class="p">()</span>
</pre></div>
</div>
<p>Returns vector with current numbers of classes.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">unsigned</span> <span class="n">GetDimensionsNumber</span><span class="p">()</span>
</pre></div>
</div>
<p>Returns current number of dimensions.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div>
<div class="section" id="get-data">
<h4>Get data<a class="headerlink" href="#get-data" title="Permalink to this headline">¶</a></h4>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">double</span> <span class="n">GetValue</span><span class="p">(</span><span class="kt">unsigned</span> <span class="n">_nCoordSrc</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="n">_nCoordDst</span><span class="p">)</span>
</pre></div>
</div>
<p>Returns value by specified coordinates according to all defined dimensions in transformation matrix for one-dimensional distribution. <code class="docutils literal notranslate"><span class="pre">_nCoordSrc</span></code> is coordinate of a source class, <code class="docutils literal notranslate"><span class="pre">_nCoordDst</span></code> is coordinate of a destination class.</p>
<p>Returning value is a mass fraction, which will be transferred from the source class to the destination class. Works with one-dimensional distribution only. Returns <code class="docutils literal notranslate"><span class="pre">-1</span></code> on error.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">double</span> <span class="n">GetValue</span><span class="p">(</span><span class="kt">unsigned</span> <span class="n">_nCoordSrc1</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="n">_nCoordSrc2</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="n">_nCoordDst1</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="n">_nCoordDst2</span><span class="p">)</span>
</pre></div>
</div>
<p>Returns value by specified coordinates according to all defined dimensions in transformation matrix for two-dimensional distribution. <code class="docutils literal notranslate"><span class="pre">_nCoordSrc1</span></code> and <code class="docutils literal notranslate"><span class="pre">_nCoordSrc2</span></code> are coordinates of a source class, <code class="docutils literal notranslate"><span class="pre">_nCoordDst1</span></code> and <code class="docutils literal notranslate"><span class="pre">_nCoordDst2</span></code> are coordinate of a destination class.</p>
<p>Returning value is a mass fraction, which will be transferred from the source class to the destination class. Works with two-dimensional distribution only. Returns <code class="docutils literal notranslate"><span class="pre">-1</span></code> on error.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">double</span> <span class="n">GetValue</span><span class="p">(</span><span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">unsigned</span><span class="o">&gt;</span> <span class="o">&amp;</span><span class="n">_vCoordsSrc</span><span class="p">,</span> <span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">unsigned</span><span class="o">&gt;</span> <span class="o">&amp;</span><span class="n">_vCoordsDst</span><span class="p">)</span>
</pre></div>
</div>
<p>Returns value by specified coordinates according to all defined dimensions. <code class="docutils literal notranslate"><span class="pre">_vCoordsSrc</span></code> are coordinates of a source class, <code class="docutils literal notranslate"><span class="pre">_vCoordsDst</span></code> are coordinates of a destination class. Sizes of vectors <code class="docutils literal notranslate"><span class="pre">_vCoordsSrc</span></code> and <code class="docutils literal notranslate"><span class="pre">_vCoordsDst</span></code> must be equal and must correspond to the number of currently defined dimensions.</p>
<p>Returning value is a mass fraction, which will be transferred from the source class to the destination class. Returns <code class="docutils literal notranslate"><span class="pre">-1</span></code> on error.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">double</span> <span class="n">GetValue</span><span class="p">(</span><span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">unsigned</span><span class="o">&gt;</span> <span class="o">&amp;</span><span class="n">_vDimsSrc</span><span class="p">,</span> <span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">unsigned</span><span class="o">&gt;</span> <span class="o">&amp;</span><span class="n">_vCoordsSrc</span><span class="p">,</span> <span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">unsigned</span><span class="o">&gt;</span> <span class="o">&amp;</span><span class="n">_vDimsDst</span><span class="p">,</span> <span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">unsigned</span><span class="o">&gt;</span> <span class="o">&amp;</span><span class="n">_vCoordsDst</span><span class="p">)</span>
</pre></div>
</div>
<p>Returns value according to specified coordinates and dimensions. Number of dimensions must be the same as defined in the transformation matrix, but their sequence can be different. Sizes of all vectors must be equal.</p>
<p>Returning value is a mass fraction, which will be transferred from the source class to the destination class. Returns <code class="docutils literal notranslate"><span class="pre">-1</span></code> on error.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">bool</span> <span class="n">GetVectorValue</span><span class="p">(</span><span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">unsigned</span><span class="o">&gt;</span> <span class="o">&amp;</span><span class="n">_vCoordsSrc</span><span class="p">,</span> <span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">unsigned</span><span class="o">&gt;</span> <span class="o">&amp;</span><span class="n">_vCoordsDst</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span> <span class="o">&amp;</span><span class="n">_vResult</span><span class="p">)</span>
</pre></div>
</div>
<p>Returns vector value by specified coordinates according to all defined dimensions. Size of one vector of coordinates must be equal to the number of dimensions in transformation matrix; size of the second one must be one less.</p>
<p>Returning value <code class="docutils literal notranslate"><span class="pre">_vResult</span></code> is a vector of mass fractions, which will be transferred from the source to the destination. Returns <code class="docutils literal notranslate"><span class="pre">false</span></code> on error.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">bool</span> <span class="n">GetVectorValue</span><span class="p">(</span><span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">unsigned</span><span class="o">&gt;</span> <span class="o">&amp;</span><span class="n">_vDimsSrc</span><span class="p">,</span> <span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">unsigned</span><span class="o">&gt;</span> <span class="o">&amp;</span><span class="n">_vCoordsSrc</span><span class="p">,</span> <span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">unsigned</span><span class="o">&gt;</span> <span class="o">&amp;</span><span class="n">_vDimsDst</span><span class="p">,</span> <span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">unsigned</span><span class="o">&gt;</span> <span class="o">&amp;</span><span class="n">_vCoordsDst</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span> <span class="o">&amp;</span><span class="n">_vResult</span><span class="p">)</span>
</pre></div>
</div>
<p>Returns vector of values according to specified coordinates and dimensions sequence. Number of dimensions must be the same as defined in the transformation matrix, but their sequence can be different. Size of one vector of coordinates must be equal to the number of dimensions in transformation matrix; size of the second one must be one less.</p>
<p>Returning value <code class="docutils literal notranslate"><span class="pre">_vResult</span></code> is a vector of mass fractions, which will be transferred from the source to the destination. Returns <code class="docutils literal notranslate"><span class="pre">false</span></code> on error.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div>
<div class="section" id="set-data">
<h4>Set data<a class="headerlink" href="#set-data" title="Permalink to this headline">¶</a></h4>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">bool</span> <span class="n">SetValue</span><span class="p">(</span><span class="kt">unsigned</span> <span class="n">_nCoordSrc</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="n">_nCoordDst</span><span class="p">,</span> <span class="kt">double</span> <span class="n">_dValue</span><span class="p">)</span>
</pre></div>
</div>
<p>Sets value by specified coordinates for one-dimensional distribution. <code class="docutils literal notranslate"><span class="pre">_nCoordSrc</span></code> is a coordinate of the source class; <code class="docutils literal notranslate"><span class="pre">_nCoordDst</span></code> is a coordinate of the destination class. <code class="docutils literal notranslate"><span class="pre">_dValue</span></code> is a mass fraction, which will be transferred from the source class to the destination class.</p>
<p>Returns <code class="docutils literal notranslate"><span class="pre">false</span></code> on error.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">bool</span> <span class="n">SetValue</span> <span class="p">(</span><span class="kt">unsigned</span> <span class="n">_nCoordSrc1</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="n">_nCoordSrc2</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="n">_nCoordDst1</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="n">_nCoordDst2</span><span class="p">,</span> <span class="kt">double</span> <span class="n">_dValue</span><span class="p">)</span>
</pre></div>
</div>
<p>Sets value by specified coordinates for two-dimensional distribution.</p>
<p><code class="docutils literal notranslate"><span class="pre">_nCoordSrc1</span></code> and <code class="docutils literal notranslate"><span class="pre">_nCoordSrc2</span></code> are coordinate of the source class; <code class="docutils literal notranslate"><span class="pre">_nCoordDst1</span></code> and <code class="docutils literal notranslate"><span class="pre">_nCoordDst2</span></code> are coordinate of the destination class. <code class="docutils literal notranslate"><span class="pre">_dValue</span></code> is a mass fraction, which will be transferred from the source class to the destination class.</p>
<p>Returns <code class="docutils literal notranslate"><span class="pre">false</span></code> on error.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">bool</span> <span class="n">SetValue</span> <span class="p">(</span><span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">unsigned</span><span class="o">&gt;</span> <span class="o">&amp;</span><span class="n">_vCoordsSrc</span><span class="p">,</span> <span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">unsigned</span><span class="o">&gt;</span> <span class="o">&amp;</span><span class="n">_vCoordsDst</span><span class="p">,</span> <span class="kt">double</span> <span class="n">_dValue</span><span class="p">)</span>
</pre></div>
</div>
<p>Sets value by specified coordinates and full dimensions set. <code class="docutils literal notranslate"><span class="pre">_vCoordsSrc</span></code> are coordinates of the source class, <code class="docutils literal notranslate"><span class="pre">_vCoordsDst</span></code> are coordinates of the destination class. Sizes of vectors <code class="docutils literal notranslate"><span class="pre">_vCoordsSrc</span></code> and <code class="docutils literal notranslate"><span class="pre">_vCoordsDst</span></code> must be equal. <code class="docutils literal notranslate"><span class="pre">_dValue</span></code> is a mass fraction, which will be transferred from the source class to the destination class.</p>
<p>Returns <code class="docutils literal notranslate"><span class="pre">false</span></code> on error.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">bool</span> <span class="n">SetValue</span> <span class="p">(</span><span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">unsigned</span><span class="o">&gt;</span> <span class="o">&amp;</span><span class="n">_vDimsSrc</span><span class="p">,</span> <span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">unsigned</span><span class="o">&gt;</span> <span class="o">&amp;</span><span class="n">_vCoordsSrc</span><span class="p">,</span> <span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">unsigned</span><span class="o">&gt;</span> <span class="o">&amp;</span><span class="n">_vDimsDst</span><span class="p">,</span> <span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">unsigned</span><span class="o">&gt;</span> <span class="o">&amp;</span><span class="n">_vCoordsDst</span><span class="p">,</span> <span class="kt">double</span> <span class="n">_dValue</span><span class="p">)</span>
</pre></div>
</div>
<p>Sets value according to specified coordinates and dimensions. Number of dimensions must be the same as defined in the transformation matrix, but their sequence can be different. Sizes of all vectors must be equal. <code class="docutils literal notranslate"><span class="pre">_dValue</span></code> is a mass fraction, which will be transferred from the source class to the destination class.</p>
<p>Returns <code class="docutils literal notranslate"><span class="pre">false</span></code> on error.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">bool</span> <span class="n">SetVectorValue</span> <span class="p">(</span><span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">unsigned</span><span class="o">&gt;</span> <span class="o">&amp;</span><span class="n">_vCoordsSrc</span><span class="p">,</span> <span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">unsigned</span><span class="o">&gt;</span> <span class="o">&amp;</span><span class="n">_vCoordsDst</span><span class="p">,</span> <span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span> <span class="o">&amp;</span><span class="n">_vValue</span><span class="p">)</span>
</pre></div>
</div>
<p>Sets vector of values by specified coordinates according to all defined dimensions. Size of one vector of coordinates must be equal to the number of dimensions in transformation matrix; size of the second one must be one less. <code class="docutils literal notranslate"><span class="pre">_vValue</span></code> is a vector of mass fractions, which will be transferred from the source to the destination.</p>
<p>Returns <code class="docutils literal notranslate"><span class="pre">false</span></code> on error.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">bool</span> <span class="n">SetVectorValue</span> <span class="p">(</span><span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">unsigned</span><span class="o">&gt;</span> <span class="o">&amp;</span><span class="n">_vDimsSrc</span><span class="p">,</span> <span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">unsigned</span><span class="o">&gt;</span> <span class="o">&amp;</span><span class="n">_vCoordsSrc</span><span class="p">,</span> <span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">unsigned</span><span class="o">&gt;</span> <span class="o">&amp;</span><span class="n">_vDimsDst</span><span class="p">,</span> <span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">unsigned</span><span class="o">&gt;</span> <span class="o">&amp;</span><span class="n">_vCoordsDst</span><span class="p">,</span> <span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span> <span class="o">&amp;</span><span class="n">_vValue</span><span class="p">)</span>
</pre></div>
</div>
<p>Sets vector of values according to specified coordinates and dimensions sequence. Number of dimensions must be the same as defined in the transformation matrix, but their sequence can be different. Size of one vector of coordinates must be equal to the number of dimensions in transformation matrix; size of the second one must be one less. <code class="docutils literal notranslate"><span class="pre">_vValue</span></code> is a vector of mass fractions, which will be transferred from the source to the destination.</p>
<p>Returns <code class="docutils literal notranslate"><span class="pre">false</span></code> on error.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div>
<div class="section" id="id10">
<h4>Other functions<a class="headerlink" href="#id10" title="Permalink to this headline">¶</a></h4>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span> <span class="n">Normalize</span><span class="p">()</span>
</pre></div>
</div>
<p>Normalizes data in matrix: sets sum of material which transfers from each single class to 1.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span> <span class="n">ClearData</span><span class="p">()</span>
</pre></div>
</div>
<p>Sets all data in matrix to 0.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span> <span class="n">Clear</span><span class="p">()</span>
</pre></div>
</div>
<p>Removes all data and information about dimensions from the matrix.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div>
</div>
<div class="section" id="two-dimensional-matrix">
<h3>Two-dimensional matrix<a class="headerlink" href="#two-dimensional-matrix" title="Permalink to this headline">¶</a></h3>
<p>Basic information and functions of class <code class="docutils literal notranslate"><span class="pre">CDense2DMatrix</span></code> are introduced below.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CDense2DMatrix</span><span class="p">()</span>
</pre></div>
</div>
<p><strong>Basic constructor</strong>. Creates empty matrix with zero in all rows and columns.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CDense2DMatrix</span><span class="p">(</span><span class="n">CDense2DMatrix</span> <span class="o">&amp;</span><span class="n">_matrix</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Copy constructor</strong>. Creates matrix with the same dimensions as in <code class="docutils literal notranslate"><span class="pre">_matrix</span></code> and copies all data.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CDense2DMatrix</span><span class="p">(</span><span class="kt">unsigned</span> <span class="n">_nRows</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="n">_nColumns</span><span class="p">)</span>
</pre></div>
</div>
<p>Creates new matrix with specified number of rows and columns. All data will be set to 0.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="section" id="id11">
<h4>Dimensions<a class="headerlink" href="#id11" title="Permalink to this headline">¶</a></h4>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span> <span class="n">SetDimensions</span><span class="p">(</span><span class="kt">unsigned</span> <span class="n">_nRows</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="n">_nColumns</span><span class="p">)</span>
</pre></div>
</div>
<p>Sets new dimensions to the matrix. Old data is removed and all entries are set to zero.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">unsigned</span> <span class="n">GetRowsNumber</span><span class="p">()</span>
</pre></div>
</div>
<p>Returns number of rows in the matrix.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">unsigned</span> <span class="n">GetColumnsNumber</span><span class="p">()</span>
</pre></div>
</div>
<p>Returns number of columns in the matrix.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div>
<div class="section" id="id12">
<h4>Get data<a class="headerlink" href="#id12" title="Permalink to this headline">¶</a></h4>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">double</span> <span class="n">GetValue</span><span class="p">(</span><span class="kt">unsigned</span> <span class="n">_nRow</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="n">_nColumn</span><span class="p">)</span>
</pre></div>
</div>
<p>Returns data by the specified indexes. Returns <code class="docutils literal notranslate"><span class="pre">0</span></code> if such indexes do not exist.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span> <span class="n">GetRow</span><span class="p">(</span><span class="kt">unsigned</span> <span class="n">_nRow</span><span class="p">)</span>
</pre></div>
</div>
<p>Returns vector of data for specified row. Returns empty vector if such row does not exist.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span> <span class="n">GetColumn</span><span class="p">(</span><span class="kt">unsigned</span> <span class="n">_nColumn</span><span class="p">)</span>
</pre></div>
</div>
<p>Returns vector of data for specified column. Returns empty vector if such column does not exist.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;&gt;</span> <span class="n">GetMatrix</span><span class="p">()</span>
</pre></div>
</div>
<p>Returns all data in form of vector-of-vectors.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div>
<div class="section" id="id13">
<h4>Set data<a class="headerlink" href="#id13" title="Permalink to this headline">¶</a></h4>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span> <span class="n">SetValue</span><span class="p">(</span><span class="kt">unsigned</span> <span class="n">_nRow</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="n">_</span> <span class="n">nColumn</span><span class="p">,</span> <span class="kt">double</span> <span class="n">_dValue</span><span class="p">)</span>
</pre></div>
</div>
<p>Sets data <code class="docutils literal notranslate"><span class="pre">_dValue</span></code> by the specified indexes.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span> <span class="n">SetRow</span><span class="p">(</span><span class="kt">unsigned</span> <span class="n">_nRow</span><span class="p">,</span> <span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;&amp;</span> <span class="n">_Values</span><span class="p">)</span>
</pre></div>
</div>
<p>Sets data <code class="docutils literal notranslate"><span class="pre">_Values</span></code> to a specified row.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span> <span class="n">SetColumn</span><span class="p">(</span><span class="kt">unsigned</span> <span class="n">_nColumn</span><span class="p">,</span> <span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;&amp;</span> <span class="n">_Values</span><span class="p">)</span>
</pre></div>
</div>
<p>Sets data <code class="docutils literal notranslate"><span class="pre">_Values</span></code> to a specified column.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span> <span class="n">SetMatrix</span><span class="p">(</span><span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;&gt;&amp;</span> <span class="n">_matr</span><span class="p">)</span>
</pre></div>
</div>
<p>Sets all values in form vector-of-vectors <code class="docutils literal notranslate"><span class="pre">_matr</span></code> to matrix. <code class="docutils literal notranslate"><span class="pre">_matr</span></code> must have the same dimensions as the matrix itself.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div>
<div class="section" id="overloaded-operators">
<h4>Overloaded operators<a class="headerlink" href="#overloaded-operators" title="Permalink to this headline">¶</a></h4>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CDense2DMatrix</span> <span class="k">operator</span><span class="o">+</span><span class="p">(</span><span class="k">const</span> <span class="n">CDense2DMatrix</span><span class="o">&amp;</span> <span class="n">_Matrix1</span><span class="p">,</span> <span class="k">const</span> <span class="n">CDense2DMatrix</span> <span class="o">&amp;</span><span class="n">_Matrix2</span><span class="p">)</span>
</pre></div>
</div>
<p>Performs <strong>addition</strong> of two matrices with the same dimensions. Returns an empty matrix in case of different dimensions.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CDense2DMatrix</span> <span class="k">operator</span><span class="o">-</span><span class="p">(</span><span class="k">const</span> <span class="n">CDense2DMatrix</span> <span class="o">&amp;</span><span class="n">_Matrix1</span><span class="p">,</span> <span class="k">const</span> <span class="n">CDense2DMatrix</span> <span class="o">&amp;</span><span class="n">_Matrix2</span><span class="p">)</span>
</pre></div>
</div>
<p>Performs <strong>subtraction</strong> of two matrices with the same dimensions. Returns an empty matrix in case of different dimensions.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CDense2DMatrix</span> <span class="k">operator</span><span class="o">*</span><span class="p">(</span><span class="kt">double</span> <span class="n">_dMultiplier</span><span class="p">)</span>
</pre></div>
</div>
<p>Performs <strong>multiplication</strong> of the matrix with a coefficient <code class="docutils literal notranslate"><span class="pre">_dMultiplier</span></code>.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CDense2DMatrix</span><span class="o">&amp;</span> <span class="k">operator</span><span class="o">=</span><span class="p">(</span><span class="k">const</span> <span class="n">CDense2DMatrix</span> <span class="o">&amp;</span><span class="n">_matrix</span><span class="p">)</span>
</pre></div>
</div>
<p>Sets dimenions and data from the <code class="docutils literal notranslate"><span class="pre">_matrix</span></code> to a left matrix.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div>
<div class="section" id="id14">
<h4>Other functions<a class="headerlink" href="#id14" title="Permalink to this headline">¶</a></h4>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span> <span class="n">Normalize</span><span class="p">()</span>
</pre></div>
</div>
<p>Normalizes the matrix so that the sum of all elements equals to 1.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span> <span class="n">ClearData</span><span class="p">()</span>
</pre></div>
</div>
<p>Sets all elements in matrix to 0.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span> <span class="n">Clear</span><span class="p">()</span>
</pre></div>
</div>
<p>Removes all data and sets number of rows and columns equal to 0.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div>
</div>
<div class="section" id="multidimensional-matrix">
<h3>Multidimensional matrix<a class="headerlink" href="#multidimensional-matrix" title="Permalink to this headline">¶</a></h3>
<p>Basic information and functions of class <code class="docutils literal notranslate"><span class="pre">CDenseMDMatrix</span></code> are introduced below.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CDenseMDMatrix</span><span class="p">()</span>
</pre></div>
</div>
<p><strong>Basic constructor</strong>. Creates an empty matrix.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CDenseMDMatrix</span><span class="p">(</span><span class="k">const</span> <span class="n">CDenseMDMatrix</span> <span class="o">&amp;</span><span class="n">_source</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Copy constructor</strong>. Creates matrix with the same dimensions as in <code class="docutils literal notranslate"><span class="pre">_source</span></code> and copies all data from there.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="section" id="id15">
<h4>Dimensions<a class="headerlink" href="#id15" title="Permalink to this headline">¶</a></h4>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">bool</span> <span class="n">SetDimensions</span><span class="p">(</span><span class="kt">unsigned</span> <span class="n">_nType</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="n">_nClasses</span><span class="p">)</span>
</pre></div>
</div>
<p>Sets <strong>one-dimensional</strong> distribution of type _nType and numbers of classes <code class="docutils literal notranslate"><span class="pre">_nClasses</span></code>.</p>
<p><code class="docutils literal notranslate"><span class="pre">_nType</span></code> is one of <a class="reference internal" href="#label-edistrtypes"><span class="std std-ref">pre-defined types of solid distributions</span></a>. All old data will be erased. Matrix will be initialized with zero values.</p>
<p>Returns <code class="docutils literal notranslate"><span class="pre">false</span></code> on error.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">bool</span> <span class="n">SetDimensions</span><span class="p">(</span><span class="kt">unsigned</span> <span class="n">_nType1</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="n">_nClasses1</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="n">_nType2</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="n">_nClasses2</span><span class="p">)</span>
</pre></div>
</div>
<p>Sets <strong>two-dimensional</strong> distribution of types <code class="docutils literal notranslate"><span class="pre">_nType1</span></code> and <code class="docutils literal notranslate"><span class="pre">_nType2</span></code> and numbers of classes <code class="docutils literal notranslate"><span class="pre">_nClasses1</span></code> and <code class="docutils literal notranslate"><span class="pre">_nClasses2</span></code>.</p>
<p><code class="docutils literal notranslate"><span class="pre">_nType1</span></code> and <code class="docutils literal notranslate"><span class="pre">_nType2</span></code> are from <a class="reference internal" href="#label-edistrtypes"><span class="std std-ref">pre-defined types of solid distributions</span></a>. All types must be unique. All old data will be erased. Matrix will be initialized with zero values.</p>
<p>Returns <code class="docutils literal notranslate"><span class="pre">false</span></code> on error.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">bool</span> <span class="n">SetDimensions</span><span class="p">(</span><span class="kt">unsigned</span> <span class="n">_nType1</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="n">_nClasses1</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="n">_nType2</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="n">_nClasses2</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="n">_nType3</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="n">_nClasses3</span><span class="p">)</span>
</pre></div>
</div>
<p>Sets <strong>three-dimensional</strong> distribution of types <code class="docutils literal notranslate"><span class="pre">_nType1</span></code>, <code class="docutils literal notranslate"><span class="pre">nType2</span></code> and <code class="docutils literal notranslate"><span class="pre">_nType3</span></code> and numbers of classes <code class="docutils literal notranslate"><span class="pre">_nClasses1</span></code>, <code class="docutils literal notranslate"><span class="pre">_nClasses2</span></code> and <code class="docutils literal notranslate"><span class="pre">_nClasses3</span></code>.</p>
<p><code class="docutils literal notranslate"><span class="pre">_nType1</span></code>, <code class="docutils literal notranslate"><span class="pre">nType2</span></code> and <code class="docutils literal notranslate"><span class="pre">_nType3</span></code> are from <a class="reference internal" href="#label-edistrtypes"><span class="std std-ref">pre-defined types of solid distributions</span></a>. All types must be unique. All old data will be erased. Matrix will be initialized with zero values.</p>
<p>Returns <code class="docutils literal notranslate"><span class="pre">false</span></code> on error.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">bool</span> <span class="n">SetDimensions</span><span class="p">(</span><span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">unsigned</span><span class="o">&gt;</span> <span class="o">&amp;</span><span class="n">_vTypes</span><span class="p">,</span> <span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">unsigned</span><span class="o">&gt;</span> <span class="o">&amp;</span><span class="n">_vClasses</span><span class="p">)</span>
</pre></div>
</div>
<p>Sets types <code class="docutils literal notranslate"><span class="pre">_vTypes</span></code> of dimensions and numbers of classes <code class="docutils literal notranslate"><span class="pre">_vClasses</span></code>.</p>
<p><code class="docutils literal notranslate"><span class="pre">_vTypes</span></code> is the vector of <a class="reference internal" href="#label-edistrtypes"><span class="std std-ref">pre-defined types of solid distributions</span></a>. All types must be unique. All old data will be erased. Matrix will be initialized with zero values.</p>
<p>Returns <code class="docutils literal notranslate"><span class="pre">false</span></code> on error.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">unsigned</span><span class="o">&gt;</span> <span class="n">GetDimensions</span><span class="p">()</span>
</pre></div>
</div>
<p>Returns vector with all currently defined dimensions types.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">unsigned</span><span class="o">&gt;</span> <span class="n">GetClasses</span><span class="p">()</span>
</pre></div>
</div>
<p>Returns vector with current numbers of classes.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">unsigned</span> <span class="n">GetDimensionsNumber</span><span class="p">()</span>
</pre></div>
</div>
<p>Returns current number of dimensions.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div>
<div class="section" id="id16">
<h4>Get data<a class="headerlink" href="#id16" title="Permalink to this headline">¶</a></h4>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">double</span> <span class="n">GetValue</span><span class="p">(</span><span class="kt">unsigned</span> <span class="n">_nDim</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="n">_nCoord</span><span class="p">)</span>
</pre></div>
</div>
<p>Returns value with specified coordinate <code class="docutils literal notranslate"><span class="pre">_nCoord</span></code> of specified dimension <code class="docutils literal notranslate"><span class="pre">_nDim</span></code>. It is possible to use this function if matrix has more than one dimension: if number of dimensions does not conform to the matrix, the sum of values by remaining dimensions will be returned.</p>
<p>Returns <code class="docutils literal notranslate"><span class="pre">-1</span></code> on error.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">double</span> <span class="n">GetValue</span><span class="p">(</span><span class="kt">unsigned</span> <span class="n">_nDim1</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="n">_nCoord1</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="n">_nDim2</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="n">_nCoord2</span><span class="p">)</span>
</pre></div>
</div>
<p>Returns value according to specified coordinates and dimensions. It is possible to use this function if matrix has more than two dimensions: if number of dimensions does not conform to the matrix, the sum of values by remaining dimensions will be returned. Sequence of dimensions may not match the sequence, which was defined in the matrix.</p>
<p>Returns <code class="docutils literal notranslate"><span class="pre">-1</span></code> on error.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">double</span> <span class="n">GetValue</span><span class="p">(</span><span class="kt">unsigned</span> <span class="n">_nDim1</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="n">_nCoord1</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="n">_nDim2</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="n">_nCoord2</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="n">_nDim3</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="n">_nCoord3</span><span class="p">)</span>
</pre></div>
</div>
<p>Returns value according to specified coordinates and dimensions. It is possible to use this function if matrix has more than three dimensions: if number of dimensions does not conform to the matrix, the sum of values by remaining dimensions will be returned. Sequence of dimensions may not match the sequence, which was defined in the matrix.</p>
<p>Returns <code class="docutils literal notranslate"><span class="pre">-1</span></code> on error.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">double</span> <span class="n">GetValue</span><span class="p">(</span><span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">unsigned</span><span class="o">&gt;</span> <span class="o">&amp;</span><span class="n">_vDims</span><span class="p">,</span> <span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">unsigned</span><span class="o">&gt;</span> <span class="o">&amp;</span><span class="n">_vCoords</span><span class="p">)</span>
</pre></div>
</div>
<p>Returns value according to specified coordinates and dimensions. It is possible to use this function if matrix has more dimensions than was defined in <code class="docutils literal notranslate"><span class="pre">_vDims</span></code>: if number of dimensions does not conform to the matrix, the sum of values by remaining dimensions will be returned. Sequence of dimensions may not match the sequence, which was defined in the matrix. Number of dimensions <code class="docutils literal notranslate"><span class="pre">_vDims</span></code> and coordinates <code class="docutils literal notranslate"><span class="pre">_vCoords</span></code> must be the same.</p>
<p>Returns <code class="docutils literal notranslate"><span class="pre">-1</span></code> on error.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">double</span> <span class="n">GetValue</span><span class="p">(</span><span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">unsigned</span><span class="o">&gt;</span> <span class="o">&amp;</span><span class="n">_vCoords</span><span class="p">)</span>
</pre></div>
</div>
<p>Returns value by specified coordinates according to the full defined set of dimensions. Returns <code class="docutils literal notranslate"><span class="pre">-1</span></code> on error.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">bool</span> <span class="n">GetVectorValue</span><span class="p">(</span><span class="kt">unsigned</span> <span class="n">_nDim</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span> <span class="o">&amp;</span><span class="n">_vResult</span><span class="p">)</span>
</pre></div>
</div>
<p>Returns vector <code class="docutils literal notranslate"><span class="pre">_vResult</span></code> according to specified dimension. If number of dimensions in the matrix is more than one, then the sum of values by remaining dimensions will be returned.</p>
<p>Returns <code class="docutils literal notranslate"><span class="pre">false</span></code> on error.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">bool</span> <span class="n">GetVectorValue</span><span class="p">(</span><span class="kt">unsigned</span> <span class="n">_nDim1</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="n">_nCoord1</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="n">_nDim2</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span> <span class="o">&amp;</span><span class="n">_vResult</span><span class="p">)</span>
</pre></div>
</div>
<p>Returns vector of values <code class="docutils literal notranslate"><span class="pre">_vResult</span></code> according to specified dimensions and coordinate. If number of dimensions in the matrix is more than two, then the sum of values by remaining dimensions will be returned. Sequence of dimensions may not match the sequence, which was defined in the matrix.</p>
<p>Returns <code class="docutils literal notranslate"><span class="pre">false</span></code> on error.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">bool</span> <span class="n">GetVectorValue</span><span class="p">(</span><span class="kt">unsigned</span> <span class="n">_nDim1</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="n">_nCoord1</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="n">_nDim2</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="n">_nCoord2</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="n">_nDim3</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span> <span class="o">&amp;</span><span class="n">_vResult</span><span class="p">)</span>
</pre></div>
</div>
<p>Returns vector of values <code class="docutils literal notranslate"><span class="pre">_vResult</span></code> according to specified dimensions and coordinates. If number of dimensions in the matrix is more than three, then the sum of values by remaining dimensions will be returned. Sequence of dimensions may not match the sequence, which was defined in the matrix.</p>
<p>Returns <code class="docutils literal notranslate"><span class="pre">false</span></code> on error.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">bool</span> <span class="n">GetVectorValue</span><span class="p">(</span><span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">unsigned</span><span class="o">&gt;</span> <span class="o">&amp;</span><span class="n">_vDims</span><span class="p">,</span> <span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">unsigned</span><span class="o">&gt;</span> <span class="o">&amp;</span><span class="n">_vCoords</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span> <span class="o">&amp;</span><span class="n">_vResult</span><span class="p">)</span>
</pre></div>
</div>
<p>Returns vector of values <code class="docutils literal notranslate"><span class="pre">_vResult</span></code> according to specified dimensions and coordinates. If number of dimensions in the matrix is more than it was specified in <code class="docutils literal notranslate"><span class="pre">_vDims</span></code>, then the sum of values by remaining dimensions will be returned. Sequence of dimensions may not match the sequence, which was defined in the matrix. Number of coordinates <code class="docutils literal notranslate"><span class="pre">_vCoords</span></code> must be one less than the number of dimensions <code class="docutils literal notranslate"><span class="pre">_vDims</span></code>.</p>
<p>Returns <code class="docutils literal notranslate"><span class="pre">false</span></code> on error.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">bool</span> <span class="n">GetVectorValue</span><span class="p">(</span><span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">unsigned</span><span class="o">&gt;</span> <span class="o">&amp;</span><span class="n">_vCoords</span><span class="p">,</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span> <span class="o">&amp;</span><span class="n">_vResult</span><span class="p">)</span>
</pre></div>
</div>
<p>Returns vector of values <code class="docutils literal notranslate"><span class="pre">_vResult</span></code> by specified coordinates according to the full defined set of dimensions. Returns <code class="docutils literal notranslate"><span class="pre">false</span></code> on error.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div>
<div class="section" id="id17">
<h4>Set data<a class="headerlink" href="#id17" title="Permalink to this headline">¶</a></h4>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">bool</span> <span class="n">SetValue</span><span class="p">(</span><span class="kt">unsigned</span> <span class="n">_nCoord</span><span class="p">,</span> <span class="kt">double</span> <span class="n">_dValue</span><span class="p">)</span>
</pre></div>
</div>
<p>Sets value <code class="docutils literal notranslate"><span class="pre">_dValue</span></code> with coordinate <code class="docutils literal notranslate"><span class="pre">_nCoord</span></code> into one-dimensional matrix. Sets the value only if the matrix has one dimension.</p>
<p>Returns <code class="docutils literal notranslate"><span class="pre">false</span></code> on error.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">bool</span> <span class="n">SetValue</span><span class="p">(</span><span class="kt">unsigned</span> <span class="n">_nDim1</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="n">_nCoord1</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="n">_nCoord2</span><span class="p">,</span> <span class="kt">double</span> <span class="n">_dValue</span><span class="p">)</span>
</pre></div>
</div>
<p>Sets value <code class="docutils literal notranslate"><span class="pre">_dValue</span></code> according to specified coordinates and dimensions into two-dimensional matrix. Sets the value only if the matrix has two dimensions. Sequence of dimensions may not match the sequence, which was defined in the matrix.</p>
<p>Returns false on <code class="docutils literal notranslate"><span class="pre">error</span></code>.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">bool</span> <span class="n">SetValue</span><span class="p">(</span><span class="kt">unsigned</span> <span class="n">_nDim1</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="n">_nCoord1</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="n">_nDim2</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="n">_nCoord2</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="n">_nCoord3</span><span class="p">,</span> <span class="kt">double</span> <span class="n">_dValue</span><span class="p">)</span>
</pre></div>
</div>
<p>Sets value <code class="docutils literal notranslate"><span class="pre">_dValue</span></code> according to specified coordinates and dimensions into three-dimensional matrix. Sets the value only if the matrix has three dimensions. Sequence of dimensions may not match the sequence, which was defined in the matrix.</p>
<p>Returns <code class="docutils literal notranslate"><span class="pre">false</span></code> on error.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">bool</span> <span class="n">SetValue</span><span class="p">(</span><span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">unsigned</span><span class="o">&gt;</span> <span class="o">&amp;</span><span class="n">_vDims</span><span class="p">,</span> <span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">unsigned</span><span class="o">&gt;</span> <span class="o">&amp;</span><span class="n">_vCoords</span><span class="p">,</span> <span class="kt">double</span> <span class="n">_dValue</span><span class="p">)</span>
</pre></div>
</div>
<p>Sets value <code class="docutils literal notranslate"><span class="pre">_dValue</span></code> according to specified coordinates and dimensions. Sets the value only if the number of dimensions is the same as in the matrix. Number of dimensions <code class="docutils literal notranslate"><span class="pre">_vDims</span></code> and coordinates <code class="docutils literal notranslate"><span class="pre">_vCoords</span></code> must be the same. Sequence of dimensions may not match the sequence, which was defined in the matrix.</p>
<p>Returns <code class="docutils literal notranslate"><span class="pre">false</span></code> on error.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">bool</span> <span class="n">SetValue</span><span class="p">(</span><span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">unsigned</span><span class="o">&gt;</span> <span class="o">&amp;</span><span class="n">_vCoords</span><span class="p">,</span> <span class="kt">double</span> <span class="n">_dValue</span><span class="p">)</span>
</pre></div>
</div>
<p>Sets value <code class="docutils literal notranslate"><span class="pre">_dValue</span></code> according to specified coordinates for full set of dimensions. Sets the value only if the number of coordinates is the same as the number of dimensions in the matrix. Number of coordinates <code class="docutils literal notranslate"><span class="pre">_vCoords</span></code> must be equal to a number of dimensions in matrix.</p>
<p>Returns <code class="docutils literal notranslate"><span class="pre">false</span></code> on error.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">bool</span> <span class="n">SetVectorValue</span><span class="p">(</span><span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span> <span class="o">&amp;</span><span class="n">_vValue</span><span class="p">)</span>
</pre></div>
</div>
<p>Sets vector of values <code class="docutils literal notranslate"><span class="pre">_vValue</span></code> in one-dimensional matrix. Sets the values only if the matrix has one dimension.</p>
<p>Returns <code class="docutils literal notranslate"><span class="pre">false</span></code> on error.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">bool</span> <span class="n">SetVectorValue</span><span class="p">(</span><span class="kt">unsigned</span> <span class="n">_nDim</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="n">_nCoord</span><span class="p">,</span> <span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span> <span class="o">&amp;</span><span class="n">_vValue</span><span class="p">)</span>
</pre></div>
</div>
<p>Sets vector of values <code class="docutils literal notranslate"><span class="pre">_vValue</span></code> according to specified dimension and coordinate in two-dimensional matrix. Sets the values only if the matrix has two dimensions. Sequence of dimensions may not match the sequence, which was defined in the matrix.</p>
<p>Returns <code class="docutils literal notranslate"><span class="pre">false</span></code> on error.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">bool</span> <span class="n">SetVectorValue</span><span class="p">(</span><span class="kt">unsigned</span> <span class="n">_nDim1</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="n">_nCoord1</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="n">_nDim2</span><span class="p">,</span> <span class="kt">unsigned</span> <span class="n">_nCoord2</span><span class="p">,</span> <span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span> <span class="o">&amp;</span><span class="n">_vValue</span><span class="p">)</span>
</pre></div>
</div>
<p>Sets vector of values <code class="docutils literal notranslate"><span class="pre">_vValue</span></code> according to specified dimensions and coordinates in three-dimensional matrix. Sets the values only if the matrix has three dimensions. Sequence of dimensions may not match the sequence, which was defined in the matrix.</p>
<p>Returns <code class="docutils literal notranslate"><span class="pre">false</span></code> on error.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">bool</span> <span class="n">SetVectorValue</span><span class="p">(</span><span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">unsigned</span><span class="o">&gt;</span> <span class="o">&amp;</span><span class="n">_vDims</span><span class="p">,</span> <span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">unsigned</span><span class="o">&gt;</span> <span class="o">&amp;</span><span class="n">_vCoords</span><span class="p">,</span> <span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span> <span class="o">&amp;</span><span class="n">_vValue</span><span class="p">)</span>
</pre></div>
</div>
<p>Sets vector of values <code class="docutils literal notranslate"><span class="pre">_vValue</span></code> according to specified dimensions and coordinates. Sets values only if the number of dimensions in <code class="docutils literal notranslate"><span class="pre">_vDims</span></code> is one less than in the matrix. Number of dimensions <code class="docutils literal notranslate"><span class="pre">_vDims</span></code> and coordinates <code class="docutils literal notranslate"><span class="pre">_vCoords</span></code> must be equal.</p>
<p>Returns <code class="docutils literal notranslate"><span class="pre">false</span></code> on error.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">bool</span> <span class="n">SetVectorValue</span> <span class="p">(</span><span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">unsigned</span><span class="o">&gt;</span> <span class="o">&amp;</span><span class="n">_vCoords</span><span class="p">,</span> <span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span> <span class="o">&amp;</span><span class="n">_vValue</span><span class="p">)</span>
</pre></div>
</div>
<p>Sets vector of values <code class="docutils literal notranslate"><span class="pre">_vValue</span></code> according to specified coordinates for full set of dimensions, which were defined in the matrix. Sets values only if the number of coordinates is one less than number of dimensions in the matrix.</p>
<p>Returns <code class="docutils literal notranslate"><span class="pre">false</span></code> on error.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div>
<div class="section" id="id18">
<h4>Overloaded operators<a class="headerlink" href="#id18" title="Permalink to this headline">¶</a></h4>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CDenseMDMatrix</span> <span class="k">operator</span><span class="o">+</span><span class="p">(</span><span class="k">const</span> <span class="n">CDenseMDMatrix</span> <span class="o">&amp;</span><span class="n">_matrix</span><span class="p">)</span>
</pre></div>
</div>
<p>Performs <strong>addition</strong> of the matrix with the same dimensions. Returns an empty matrix with 0 defined dimensions in case of different dimenions.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CDenseMDMatrix</span> <span class="k">operator</span><span class="o">-</span><span class="p">(</span><span class="k">const</span> <span class="n">CDenseMDMatrix</span> <span class="o">&amp;</span><span class="n">_matrix</span><span class="p">)</span>
</pre></div>
</div>
<p>Performs <strong>subtraction</strong> of matrices with the same dimensions. Returns an empty matrix with 0 defined dimensions in case of different dimenions.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CDenseMDMatrix</span> <span class="k">operator</span><span class="o">*</span><span class="p">(</span><span class="kt">double</span> <span class="n">_dFactor</span><span class="p">)</span>
</pre></div>
</div>
<p>Performs <strong>multiplication</strong> of the matrix by a coefficient <code class="docutils literal notranslate"><span class="pre">_dFactor</span></code>.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">CDenseMDMatrix</span><span class="o">&amp;</span> <span class="k">operator</span><span class="o">=</span><span class="p">(</span><span class="k">const</span> <span class="n">CDenseMDMatrix</span> <span class="o">&amp;</span><span class="n">_matrix</span><span class="p">)</span>
</pre></div>
</div>
<p>Sets dimenions and data from the <code class="docutils literal notranslate"><span class="pre">_matrix</span></code> to a left matrix.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div>
<div class="section" id="id19">
<h4>Other functions<a class="headerlink" href="#id19" title="Permalink to this headline">¶</a></h4>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span> <span class="n">Normalize</span><span class="p">()</span>
</pre></div>
</div>
<p>Normalizes the matrix so that the sum of all elements equals to 1.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">bool</span> <span class="n">IsNormalized</span><span class="p">()</span>
</pre></div>
</div>
<p>Returns <code class="docutils literal notranslate"><span class="pre">true</span></code> if the matrix is normalized.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span> <span class="n">ClearData</span><span class="p">()</span>
</pre></div>
</div>
<p>Sets all elements in matrix equal to 0.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span> <span class="n">Clear</span><span class="p">()</span>
</pre></div>
</div>
<p>Removes all data and information about dimensions from the matrix.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div>
</div>
</div>
<div class="section" id="list-of-universal-constants">
<h2>List of universal constants<a class="headerlink" href="#list-of-universal-constants" title="Permalink to this headline">¶</a></h2>
<p>In Dyssol, some universal constants have been defined, which you may use directly in your codes.</p>
<table border="1" class="docutils">
<colgroup>
<col width="41%" />
<col width="39%" />
<col width="20%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Define</th>
<th class="head">Typical value</th>
<th class="head">Unit</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">AVOGADRO_CONSTANT</span></code></td>
<td><span class="math notranslate nohighlight">\(6.02214199(47) \cdot 10^{23}\)</span></td>
<td>[1/mol]</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">BOLTZMANN_CONSTANT</span></code></td>
<td><span class="math notranslate nohighlight">\(1.3806503(24) \cdot 10^{-23}\)</span></td>
<td>[J/K]</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">IDEAL_GAS_STATE_REFERENCE_PRESSURE</span></code></td>
<td><span class="math notranslate nohighlight">\(101\,325\)</span></td>
<td>[Pa]</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">MOLAR_GAS_CONSTANT</span></code></td>
<td><span class="math notranslate nohighlight">\(8.314472(15)\)</span></td>
<td>[J/mol/K]</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">SPEED_OF_LIGHT_IN_VACUUM</span></code></td>
<td><span class="math notranslate nohighlight">\(2.99792458(1) \cdot 10^8\)</span></td>
<td>[m/s]</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">STANDARD_ACCELERATION_OF_GRAVITY</span></code></td>
<td><span class="math notranslate nohighlight">\(9.80665\)</span></td>
<td>[m/s <span class="math notranslate nohighlight">\(^2\)</span>]</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">STANDARD_CONDITION_T</span></code></td>
<td><span class="math notranslate nohighlight">\(298.15\)</span></td>
<td>[K]</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">STANDARD_CONDITION_P</span></code></td>
<td><span class="math notranslate nohighlight">\(101\,325\)</span></td>
<td>[Pa]</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">MATH_PI</span></code></td>
<td><span class="math notranslate nohighlight">\(3.14159265358979323846\)</span></td>
<td>[-]</td>
</tr>
</tbody>
</table>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Classes</a><ul>
<li><a class="reference internal" href="#basic-unit">Basic unit</a><ul>
<li><a class="reference internal" href="#basic-information">Basic information</a></li>
<li><a class="reference internal" href="#ports">Ports</a></li>
<li><a class="reference internal" href="#material-streams-and-holdups">Material streams and holdups</a></li>
<li><a class="reference internal" href="#time-points">Time points</a></li>
<li><a class="reference internal" href="#unit-parameters">Unit parameters</a></li>
<li><a class="reference internal" href="#state-variables">State variables</a></li>
<li><a class="reference internal" href="#compounds">Compounds</a></li>
<li><a class="reference internal" href="#phases">Phases</a></li>
<li><a class="reference internal" href="#solid-distributed-properties">Solid distributed properties</a></li>
<li><a class="reference internal" href="#tolerance">Tolerance</a></li>
<li><a class="reference internal" href="#errors-and-warnings">Errors and warnings</a></li>
<li><a class="reference internal" href="#plots">Plots</a></li>
<li><a class="reference internal" href="#virtual-functions">Virtual functions</a></li>
</ul>
</li>
<li><a class="reference internal" href="#stream">Stream</a><ul>
<li><a class="reference internal" href="#basic-stream-properties">Basic stream properties</a></li>
<li><a class="reference internal" href="#id1">Time points</a></li>
<li><a class="reference internal" href="#overall-properties">Overall properties</a></li>
<li><a class="reference internal" href="#id2">Compounds</a></li>
<li><a class="reference internal" href="#id3">Phases</a></li>
<li><a class="reference internal" href="#id4">Solid distributed properties</a></li>
<li><a class="reference internal" href="#praticle-size-distribution">Praticle size distribution</a></li>
<li><a class="reference internal" href="#lookup-tables">Lookup tables</a></li>
<li><a class="reference internal" href="#other-streams">Other streams</a></li>
</ul>
</li>
<li><a class="reference internal" href="#particle-size-distribution">Particle size distribution</a></li>
<li><a class="reference internal" href="#thermodynamics">Thermodynamics</a><ul>
<li><a class="reference internal" href="#for-material-stream-and-holdup">For material stream and holdup</a></li>
<li><a class="reference internal" href="#for-base-unit">For base unit</a></li>
</ul>
</li>
<li><a class="reference internal" href="#external-solver">External solver</a><ul>
<li><a class="reference internal" href="#id5">Basic information</a></li>
<li><a class="reference internal" href="#id6">Virtual functions</a></li>
</ul>
</li>
<li><a class="reference internal" href="#dae-systems">DAE Systems</a><ul>
<li><a class="reference internal" href="#dae-model">DAE model</a><ul>
<li><a class="reference internal" href="#variables">Variables</a></li>
<li><a class="reference internal" href="#id7">Tolerance</a></li>
<li><a class="reference internal" href="#id8">Virtual functions</a></li>
<li><a class="reference internal" href="#other-functions">Other functions</a></li>
</ul>
</li>
<li><a class="reference internal" href="#dae-solver">DAE solver</a><ul>
<li><a class="reference internal" href="#model">Model</a></li>
<li><a class="reference internal" href="#id9">Other functions</a></li>
</ul>
</li>
<li><a class="reference internal" href="#application-example">Application example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#matrices">Matrices</a><ul>
<li><a class="reference internal" href="#transformation-matrix">Transformation matrix</a><ul>
<li><a class="reference internal" href="#dimensions">Dimensions</a></li>
<li><a class="reference internal" href="#get-data">Get data</a></li>
<li><a class="reference internal" href="#set-data">Set data</a></li>
<li><a class="reference internal" href="#id10">Other functions</a></li>
</ul>
</li>
<li><a class="reference internal" href="#two-dimensional-matrix">Two-dimensional matrix</a><ul>
<li><a class="reference internal" href="#id11">Dimensions</a></li>
<li><a class="reference internal" href="#id12">Get data</a></li>
<li><a class="reference internal" href="#id13">Set data</a></li>
<li><a class="reference internal" href="#overloaded-operators">Overloaded operators</a></li>
<li><a class="reference internal" href="#id14">Other functions</a></li>
</ul>
</li>
<li><a class="reference internal" href="#multidimensional-matrix">Multidimensional matrix</a><ul>
<li><a class="reference internal" href="#id15">Dimensions</a></li>
<li><a class="reference internal" href="#id16">Get data</a></li>
<li><a class="reference internal" href="#id17">Set data</a></li>
<li><a class="reference internal" href="#id18">Overloaded operators</a></li>
<li><a class="reference internal" href="#id19">Other functions</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#list-of-universal-constants">List of universal constants</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="developer.html"
                        title="previous chapter">For developers</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="theory.html"
                        title="next chapter">Theoretical background</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/class.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="theory.html" title="Theoretical background"
             >next</a> |</li>
        <li class="right" >
          <a href="developer.html" title="For developers"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Dyssol Help 0.0.1 documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2019-2020, Xiye Zhou.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.8.2.
    </div>
  </body>
</html>